exports.id=2920,exports.ids=[2920],exports.modules={2799:(o,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.BLANK_URL=s.relativeFirstCharacters=s.whitespaceEscapeCharsRegex=s.urlSchemeRegex=s.ctrlCharactersRegex=s.htmlCtrlEntityRegex=s.htmlEntitiesRegex=s.invalidProtocolRegex=void 0,s.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,s.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,s.htmlCtrlEntityRegex=/&(newline|tab);/gi,s.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,s.urlSchemeRegex=/^.+(:|&colon;)/gim,s.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,s.relativeFirstCharacters=[".","/"],s.BLANK_URL="about:blank"},560:(o,s,c)=>{"use strict";s.N=void 0;var p=c(2799);function decodeURI(o){try{return decodeURIComponent(o)}catch(s){return o}}s.N=function(o){if(!o)return p.BLANK_URL;var s,c=decodeURI(o.trim());do s=(c=decodeURI(c=c.replace(p.ctrlCharactersRegex,"").replace(p.htmlEntitiesRegex,function(o,s){return String.fromCharCode(s)}).replace(p.htmlCtrlEntityRegex,"").replace(p.ctrlCharactersRegex,"").replace(p.whitespaceEscapeCharsRegex,"").trim())).match(p.ctrlCharactersRegex)||c.match(p.htmlEntitiesRegex)||c.match(p.htmlCtrlEntityRegex)||c.match(p.whitespaceEscapeCharsRegex);while(s&&s.length>0);var f=c;if(!f)return p.BLANK_URL;if(p.relativeFirstCharacters.indexOf(f[0])>-1)return f;var g=f.trimStart(),m=g.match(p.urlSchemeRegex);if(!m)return f;var b=m[0].toLowerCase().trim();if(p.invalidProtocolRegex.test(b))return p.BLANK_URL;var k=g.replace(/\\/g,"/");if("mailto:"===b||b.includes("://"))return k;if("http:"===b||"https:"===b){if(!URL.canParse(k))return p.BLANK_URL;var B=new URL(k);return B.protocol=B.protocol.toLowerCase(),B.hostname=B.hostname.toLowerCase(),B.toString()}return k}},6483:function(o){var s,c,p,f,g,m,b,k,B,L,X,J,te,tr,ti,tn,ta,to,ts,tl,th,tc;o.exports=(s="millisecond",c="second",p="minute",f="hour",g="week",m="month",b="quarter",k="year",B="date",L="Invalid Date",X=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,J=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,te=function(o,s,c){var p=String(o);return!p||p.length>=s?o:""+Array(s+1-p.length).join(c)+o},(ti={})[tr="en"]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(o){var s=["th","st","nd","rd"],c=o%100;return"["+o+(s[(c-20)%10]||s[c]||"th")+"]"}},tn="$isDayjsObject",ta=function(o){return o instanceof th||!(!o||!o[tn])},to=function t(o,s,c){var p;if(!o)return tr;if("string"==typeof o){var f=o.toLowerCase();ti[f]&&(p=f),s&&(ti[f]=s,p=f);var g=o.split("-");if(!p&&g.length>1)return t(g[0])}else{var m=o.name;ti[m]=o,p=m}return!c&&p&&(tr=p),p||!c&&tr},ts=function(o,s){if(ta(o))return o.clone();var c="object"==typeof s?s:{};return c.date=o,c.args=arguments,new th(c)},(tl={s:te,z:function(o){var s=-o.utcOffset(),c=Math.abs(s);return(s<=0?"+":"-")+te(Math.floor(c/60),2,"0")+":"+te(c%60,2,"0")},m:function t(o,s){if(o.date()<s.date())return-t(s,o);var c=12*(s.year()-o.year())+(s.month()-o.month()),p=o.clone().add(c,m),f=s-p<0,g=o.clone().add(c+(f?-1:1),m);return+(-(c+(s-p)/(f?p-g:g-p))||0)},a:function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},p:function(o){return({M:m,y:k,w:g,d:"day",D:B,h:f,m:p,s:c,ms:s,Q:b})[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(o){return void 0===o}}).l=to,tl.i=ta,tl.w=function(o,s){return ts(o,{locale:s.$L,utc:s.$u,x:s.$x,$offset:s.$offset})},tc=(th=function(){function M(o){this.$L=to(o.locale,null,!0),this.parse(o),this.$x=this.$x||o.x||{},this[tn]=!0}var o=M.prototype;return o.parse=function(o){this.$d=function(o){var s=o.date,c=o.utc;if(null===s)return new Date(NaN);if(tl.u(s))return new Date;if(s instanceof Date)return new Date(s);if("string"==typeof s&&!/Z$/i.test(s)){var p=s.match(X);if(p){var f=p[2]-1||0,g=(p[7]||"0").substring(0,3);return c?new Date(Date.UTC(p[1],f,p[3]||1,p[4]||0,p[5]||0,p[6]||0,g)):new Date(p[1],f,p[3]||1,p[4]||0,p[5]||0,p[6]||0,g)}}return new Date(s)}(o),this.init()},o.init=function(){var o=this.$d;this.$y=o.getFullYear(),this.$M=o.getMonth(),this.$D=o.getDate(),this.$W=o.getDay(),this.$H=o.getHours(),this.$m=o.getMinutes(),this.$s=o.getSeconds(),this.$ms=o.getMilliseconds()},o.$utils=function(){return tl},o.isValid=function(){return this.$d.toString()!==L},o.isSame=function(o,s){var c=ts(o);return this.startOf(s)<=c&&c<=this.endOf(s)},o.isAfter=function(o,s){return ts(o)<this.startOf(s)},o.isBefore=function(o,s){return this.endOf(s)<ts(o)},o.$g=function(o,s,c){return tl.u(o)?this[s]:this.set(c,o)},o.unix=function(){return Math.floor(this.valueOf()/1e3)},o.valueOf=function(){return this.$d.getTime()},o.startOf=function(o,s){var b=this,L=!!tl.u(s)||s,X=tl.p(o),l=function(o,s){var c=tl.w(b.$u?Date.UTC(b.$y,s,o):new Date(b.$y,s,o),b);return L?c:c.endOf("day")},$=function(o,s){return tl.w(b.toDate()[o].apply(b.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(s)),b)},J=this.$W,te=this.$M,tr=this.$D,ti="set"+(this.$u?"UTC":"");switch(X){case k:return L?l(1,0):l(31,11);case m:return L?l(1,te):l(0,te+1);case g:var tn=this.$locale().weekStart||0,ta=(J<tn?J+7:J)-tn;return l(L?tr-ta:tr+(6-ta),te);case"day":case B:return $(ti+"Hours",0);case f:return $(ti+"Minutes",1);case p:return $(ti+"Seconds",2);case c:return $(ti+"Milliseconds",3);default:return this.clone()}},o.endOf=function(o){return this.startOf(o,!1)},o.$set=function(o,g){var b,L=tl.p(o),X="set"+(this.$u?"UTC":""),J=((b={}).day=X+"Date",b[B]=X+"Date",b[m]=X+"Month",b[k]=X+"FullYear",b[f]=X+"Hours",b[p]=X+"Minutes",b[c]=X+"Seconds",b[s]=X+"Milliseconds",b)[L],te="day"===L?this.$D+(g-this.$W):g;if(L===m||L===k){var tr=this.clone().set(B,1);tr.$d[J](te),tr.init(),this.$d=tr.set(B,Math.min(this.$D,tr.daysInMonth())).$d}else J&&this.$d[J](te);return this.init(),this},o.set=function(o,s){return this.clone().$set(o,s)},o.get=function(o){return this[tl.p(o)]()},o.add=function(o,s){var b,B=this;o=Number(o);var L=tl.p(s),y=function(s){var c=ts(B);return tl.w(c.date(c.date()+Math.round(s*o)),B)};if(L===m)return this.set(m,this.$M+o);if(L===k)return this.set(k,this.$y+o);if("day"===L)return y(1);if(L===g)return y(7);var X=((b={})[p]=6e4,b[f]=36e5,b[c]=1e3,b)[L]||1,J=this.$d.getTime()+o*X;return tl.w(J,this)},o.subtract=function(o,s){return this.add(-1*o,s)},o.format=function(o){var s=this,c=this.$locale();if(!this.isValid())return c.invalidDate||L;var p=o||"YYYY-MM-DDTHH:mm:ssZ",f=tl.z(this),g=this.$H,m=this.$m,b=this.$M,k=c.weekdays,B=c.months,X=c.meridiem,h=function(o,c,f,g){return o&&(o[c]||o(s,p))||f[c].slice(0,g)},d=function(o){return tl.s(g%12||12,o,"0")},te=X||function(o,s,c){var p=o<12?"AM":"PM";return c?p.toLowerCase():p};return p.replace(J,function(o,p){return p||function(o){switch(o){case"YY":return String(s.$y).slice(-2);case"YYYY":return tl.s(s.$y,4,"0");case"M":return b+1;case"MM":return tl.s(b+1,2,"0");case"MMM":return h(c.monthsShort,b,B,3);case"MMMM":return h(B,b);case"D":return s.$D;case"DD":return tl.s(s.$D,2,"0");case"d":return String(s.$W);case"dd":return h(c.weekdaysMin,s.$W,k,2);case"ddd":return h(c.weekdaysShort,s.$W,k,3);case"dddd":return k[s.$W];case"H":return String(g);case"HH":return tl.s(g,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return te(g,m,!0);case"A":return te(g,m,!1);case"m":return String(m);case"mm":return tl.s(m,2,"0");case"s":return String(s.$s);case"ss":return tl.s(s.$s,2,"0");case"SSS":return tl.s(s.$ms,3,"0");case"Z":return f}return null}(o)||f.replace(":","")})},o.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},o.diff=function(o,s,B){var L,X=this,J=tl.p(s),te=ts(o),tr=(te.utcOffset()-this.utcOffset())*6e4,ti=this-te,D=function(){return tl.m(X,te)};switch(J){case k:L=D()/12;break;case m:L=D();break;case b:L=D()/3;break;case g:L=(ti-tr)/6048e5;break;case"day":L=(ti-tr)/864e5;break;case f:L=ti/36e5;break;case p:L=ti/6e4;break;case c:L=ti/1e3;break;default:L=ti}return B?L:tl.a(L)},o.daysInMonth=function(){return this.endOf(m).$D},o.$locale=function(){return ti[this.$L]},o.locale=function(o,s){if(!o)return this.$L;var c=this.clone(),p=to(o,s,!0);return p&&(c.$L=p),c},o.clone=function(){return tl.w(this.$d,this)},o.toDate=function(){return new Date(this.valueOf())},o.toJSON=function(){return this.isValid()?this.toISOString():null},o.toISOString=function(){return this.$d.toISOString()},o.toString=function(){return this.$d.toUTCString()},M}()).prototype,ts.prototype=tc,[["$ms",s],["$s",c],["$m",p],["$H",f],["$W","day"],["$M",m],["$y",k],["$D",B]].forEach(function(o){tc[o[1]]=function(s){return this.$g(s,o[0],o[1])}}),ts.extend=function(o,s){return o.$i||(o(s,th,ts),o.$i=!0),ts},ts.locale=to,ts.isDayjs=ta,ts.unix=function(o){return ts(1e3*o)},ts.en=ti[tr],ts.Ls=ti,ts.p={},ts)},3035:o=>{"use strict";/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */let{entries:s,setPrototypeOf:c,isFrozen:p,getPrototypeOf:f,getOwnPropertyDescriptor:g}=Object,{freeze:m,seal:b,create:k}=Object,{apply:B,construct:L}="undefined"!=typeof Reflect&&Reflect;m||(m=function(o){return o}),b||(b=function(o){return o}),B||(B=function(o,s,c){return o.apply(s,c)}),L||(L=function(o,s){return new o(...s)});let X=unapply(Array.prototype.forEach),J=unapply(Array.prototype.pop),te=unapply(Array.prototype.push),tr=unapply(String.prototype.toLowerCase),ti=unapply(String.prototype.toString),tn=unapply(String.prototype.match),ta=unapply(String.prototype.replace),to=unapply(String.prototype.indexOf),ts=unapply(String.prototype.trim),tl=unapply(Object.prototype.hasOwnProperty),th=unapply(RegExp.prototype.test),tc=(tE=TypeError,function(){for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return L(tE,s)});function unapply(o){return function(s){for(var c=arguments.length,p=Array(c>1?c-1:0),f=1;f<c;f++)p[f-1]=arguments[f];return B(o,s,p)}}function addToSet(o,s){let f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr;c&&c(o,null);let g=s.length;for(;g--;){let c=s[g];if("string"==typeof c){let o=f(c);o!==c&&(p(s)||(s[g]=o),c=o)}o[c]=!0}return o}function clone(o){let c=k(null);for(let[p,f]of s(o)){let s=tl(o,p);s&&(Array.isArray(f)?c[p]=function(o){for(let s=0;s<o.length;s++){let c=tl(o,s);c||(o[s]=null)}return o}(f):f&&"object"==typeof f&&f.constructor===Object?c[p]=clone(f):c[p]=f)}return c}function lookupGetter(o,s){for(;null!==o;){let c=g(o,s);if(c){if(c.get)return unapply(c.get);if("function"==typeof c.value)return unapply(c.value)}o=f(o)}return function(){return null}}let tu=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),td=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tp=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tf=m(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),tg=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tm=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ty=m(["#text"]),t_=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),tx=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),tb=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tC=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tk=b(/\{\{[\w\W]*|[\w\W]*\}\}/gm),tw=b(/<%[\w\W]*|[\w\W]*%>/gm),tv=b(/\${[\w\W]*}/gm),tT=b(/^data-[\-\w.\u00B7-\uFFFF]/),tS=b(/^aria-[\-\w]+$/),tM=b(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tA=b(/^(?:\w+script|data):/i),tB=b(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tL=b(/^html$/i),tF=b(/^[a-z][.\w]*(-[.\w]+)+$/i);var tE,tW=Object.freeze({__proto__:null,MUSTACHE_EXPR:tk,ERB_EXPR:tw,TMPLIT_EXPR:tv,DATA_ATTR:tT,ARIA_ATTR:tS,IS_ALLOWED_URI:tM,IS_SCRIPT_OR_DATA:tA,ATTR_WHITESPACE:tB,DOCTYPE_NAME:tL,CUSTOM_ELEMENT:tF});let t$={element:1,text:3,progressingInstruction:7,comment:8,document:9},_createTrustedTypesPolicy=function(o,s){if("object"!=typeof o||"function"!=typeof o.createPolicy)return null;let c=null,p="data-tt-policy-suffix";s&&s.hasAttribute(p)&&(c=s.getAttribute(p));let f="dompurify"+(c?"#"+c:"");try{return o.createPolicy(f,{createHTML:o=>o,createScriptURL:o=>o})}catch(o){return console.warn("TrustedTypes policy "+f+" could not be created."),null}};var tP=function createDOMPurify(){let o,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,DOMPurify=o=>createDOMPurify(o);if(DOMPurify.version="3.1.6",DOMPurify.removed=[],!c||!c.document||c.document.nodeType!==t$.document)return DOMPurify.isSupported=!1,DOMPurify;let{document:p}=c,f=p,g=f.currentScript,{DocumentFragment:b,HTMLTemplateElement:B,Node:L,Element:tk,NodeFilter:tw,NamedNodeMap:tv=c.NamedNodeMap||c.MozNamedAttrMap,HTMLFormElement:tT,DOMParser:tS,trustedTypes:tA}=c,tB=tk.prototype,tF=lookupGetter(tB,"cloneNode"),tE=lookupGetter(tB,"remove"),tP=lookupGetter(tB,"nextSibling"),tD=lookupGetter(tB,"childNodes"),tO=lookupGetter(tB,"parentNode");if("function"==typeof B){let o=p.createElement("template");o.content&&o.content.ownerDocument&&(p=o.content.ownerDocument)}let tR="",{implementation:tI,createNodeIterator:tN,createDocumentFragment:tj,getElementsByTagName:tz}=p,{importNode:tZ}=f,tq={};DOMPurify.isSupported="function"==typeof s&&"function"==typeof tO&&tI&&void 0!==tI.createHTMLDocument;let{MUSTACHE_EXPR:tY,ERB_EXPR:tU,TMPLIT_EXPR:tH,DATA_ATTR:tV,ARIA_ATTR:tX,IS_SCRIPT_OR_DATA:tG,ATTR_WHITESPACE:tK,CUSTOM_ELEMENT:tQ}=tW,{IS_ALLOWED_URI:tJ}=tW,t0=null,t1=addToSet({},[...tu,...td,...tp,...tg,...ty]),t2=null,t5=addToSet({},[...t_,...tx,...tb,...tC]),t3=Object.seal(k(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),t4=null,t6=null,t8=!0,t9=!0,t7=!1,et=!0,ee=!1,er=!0,ei=!1,en=!1,ea=!1,eo=!1,es=!1,el=!1,eh=!0,ec=!1,eu=!0,ed=!1,ep={},ef=null,eg=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),em=null,ey=addToSet({},["audio","video","img","source","image","track"]),e_=null,ex=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eb="http://www.w3.org/1998/Math/MathML",eC="http://www.w3.org/2000/svg",ek="http://www.w3.org/1999/xhtml",ew=ek,ev=!1,eT=null,eS=addToSet({},[eb,eC,ek],ti),eM=null,eA=["application/xhtml+xml","text/html"],eB=null,eL=null,eF=p.createElement("form"),isRegexOrFunction=function(o){return o instanceof RegExp||o instanceof Function},_parseConfig=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!eL||eL!==s){if(s&&"object"==typeof s||(s={}),s=clone(s),eB="application/xhtml+xml"===(eM=-1===eA.indexOf(s.PARSER_MEDIA_TYPE)?"text/html":s.PARSER_MEDIA_TYPE)?ti:tr,t0=tl(s,"ALLOWED_TAGS")?addToSet({},s.ALLOWED_TAGS,eB):t1,t2=tl(s,"ALLOWED_ATTR")?addToSet({},s.ALLOWED_ATTR,eB):t5,eT=tl(s,"ALLOWED_NAMESPACES")?addToSet({},s.ALLOWED_NAMESPACES,ti):eS,e_=tl(s,"ADD_URI_SAFE_ATTR")?addToSet(clone(ex),s.ADD_URI_SAFE_ATTR,eB):ex,em=tl(s,"ADD_DATA_URI_TAGS")?addToSet(clone(ey),s.ADD_DATA_URI_TAGS,eB):ey,ef=tl(s,"FORBID_CONTENTS")?addToSet({},s.FORBID_CONTENTS,eB):eg,t4=tl(s,"FORBID_TAGS")?addToSet({},s.FORBID_TAGS,eB):{},t6=tl(s,"FORBID_ATTR")?addToSet({},s.FORBID_ATTR,eB):{},ep=!!tl(s,"USE_PROFILES")&&s.USE_PROFILES,t8=!1!==s.ALLOW_ARIA_ATTR,t9=!1!==s.ALLOW_DATA_ATTR,t7=s.ALLOW_UNKNOWN_PROTOCOLS||!1,et=!1!==s.ALLOW_SELF_CLOSE_IN_ATTR,ee=s.SAFE_FOR_TEMPLATES||!1,er=!1!==s.SAFE_FOR_XML,ei=s.WHOLE_DOCUMENT||!1,eo=s.RETURN_DOM||!1,es=s.RETURN_DOM_FRAGMENT||!1,el=s.RETURN_TRUSTED_TYPE||!1,ea=s.FORCE_BODY||!1,eh=!1!==s.SANITIZE_DOM,ec=s.SANITIZE_NAMED_PROPS||!1,eu=!1!==s.KEEP_CONTENT,ed=s.IN_PLACE||!1,tJ=s.ALLOWED_URI_REGEXP||tM,ew=s.NAMESPACE||ek,t3=s.CUSTOM_ELEMENT_HANDLING||{},s.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(s.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(t3.tagNameCheck=s.CUSTOM_ELEMENT_HANDLING.tagNameCheck),s.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(t3.attributeNameCheck=s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),s.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(t3.allowCustomizedBuiltInElements=s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(t9=!1),es&&(eo=!0),ep&&(t0=addToSet({},ty),t2=[],!0===ep.html&&(addToSet(t0,tu),addToSet(t2,t_)),!0===ep.svg&&(addToSet(t0,td),addToSet(t2,tx),addToSet(t2,tC)),!0===ep.svgFilters&&(addToSet(t0,tp),addToSet(t2,tx),addToSet(t2,tC)),!0===ep.mathMl&&(addToSet(t0,tg),addToSet(t2,tb),addToSet(t2,tC))),s.ADD_TAGS&&(t0===t1&&(t0=clone(t0)),addToSet(t0,s.ADD_TAGS,eB)),s.ADD_ATTR&&(t2===t5&&(t2=clone(t2)),addToSet(t2,s.ADD_ATTR,eB)),s.ADD_URI_SAFE_ATTR&&addToSet(e_,s.ADD_URI_SAFE_ATTR,eB),s.FORBID_CONTENTS&&(ef===eg&&(ef=clone(ef)),addToSet(ef,s.FORBID_CONTENTS,eB)),eu&&(t0["#text"]=!0),ei&&addToSet(t0,["html","head","body"]),t0.table&&(addToSet(t0,["tbody"]),delete t4.tbody),s.TRUSTED_TYPES_POLICY){if("function"!=typeof s.TRUSTED_TYPES_POLICY.createHTML)throw tc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof s.TRUSTED_TYPES_POLICY.createScriptURL)throw tc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');tR=(o=s.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===o&&(o=_createTrustedTypesPolicy(tA,g)),null!==o&&"string"==typeof tR&&(tR=o.createHTML(""));m&&m(s),eL=s}},eE=addToSet({},["mi","mo","mn","ms","mtext"]),eW=addToSet({},["foreignobject","annotation-xml"]),e$=addToSet({},["title","style","font","a","script"]),eP=addToSet({},[...td,...tp,...tf]),eD=addToSet({},[...tg,...tm]),_checkValidNamespace=function(o){let s=tO(o);s&&s.tagName||(s={namespaceURI:ew,tagName:"template"});let c=tr(o.tagName),p=tr(s.tagName);return!!eT[o.namespaceURI]&&(o.namespaceURI===eC?s.namespaceURI===ek?"svg"===c:s.namespaceURI===eb?"svg"===c&&("annotation-xml"===p||eE[p]):!!eP[c]:o.namespaceURI===eb?s.namespaceURI===ek?"math"===c:s.namespaceURI===eC?"math"===c&&eW[p]:!!eD[c]:o.namespaceURI===ek?(s.namespaceURI!==eC||!!eW[p])&&(s.namespaceURI!==eb||!!eE[p])&&!eD[c]&&(e$[c]||!eP[c]):"application/xhtml+xml"===eM&&!!eT[o.namespaceURI])},_forceRemove=function(o){te(DOMPurify.removed,{element:o});try{tO(o).removeChild(o)}catch(s){tE(o)}},_removeAttribute=function(o,s){try{te(DOMPurify.removed,{attribute:s.getAttributeNode(o),from:s})}catch(o){te(DOMPurify.removed,{attribute:null,from:s})}if(s.removeAttribute(o),"is"===o&&!t2[o]){if(eo||es)try{_forceRemove(s)}catch(o){}else try{s.setAttribute(o,"")}catch(o){}}},_initDocument=function(s){let c=null,f=null;if(ea)s="<remove></remove>"+s;else{let o=tn(s,/^[\r\n\t ]+/);f=o&&o[0]}"application/xhtml+xml"===eM&&ew===ek&&(s='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+s+"</body></html>");let g=o?o.createHTML(s):s;if(ew===ek)try{c=new tS().parseFromString(g,eM)}catch(o){}if(!c||!c.documentElement){c=tI.createDocument(ew,"template",null);try{c.documentElement.innerHTML=ev?tR:g}catch(o){}}let m=c.body||c.documentElement;return(s&&f&&m.insertBefore(p.createTextNode(f),m.childNodes[0]||null),ew===ek)?tz.call(c,ei?"html":"body")[0]:ei?c.documentElement:m},_createNodeIterator=function(o){return tN.call(o.ownerDocument||o,o,tw.SHOW_ELEMENT|tw.SHOW_COMMENT|tw.SHOW_TEXT|tw.SHOW_PROCESSING_INSTRUCTION|tw.SHOW_CDATA_SECTION,null)},_isClobbered=function(o){return o instanceof tT&&("string"!=typeof o.nodeName||"string"!=typeof o.textContent||"function"!=typeof o.removeChild||!(o.attributes instanceof tv)||"function"!=typeof o.removeAttribute||"function"!=typeof o.setAttribute||"string"!=typeof o.namespaceURI||"function"!=typeof o.insertBefore||"function"!=typeof o.hasChildNodes)},_isNode=function(o){return"function"==typeof L&&o instanceof L},_executeHook=function(o,s,c){tq[o]&&X(tq[o],o=>{o.call(DOMPurify,s,c,eL)})},_sanitizeElements=function(o){let s=null;if(_executeHook("beforeSanitizeElements",o,null),_isClobbered(o))return _forceRemove(o),!0;let c=eB(o.nodeName);if(_executeHook("uponSanitizeElement",o,{tagName:c,allowedTags:t0}),o.hasChildNodes()&&!_isNode(o.firstElementChild)&&th(/<[/\w]/g,o.innerHTML)&&th(/<[/\w]/g,o.textContent)||o.nodeType===t$.progressingInstruction||er&&o.nodeType===t$.comment&&th(/<[/\w]/g,o.data))return _forceRemove(o),!0;if(!t0[c]||t4[c]){if(!t4[c]&&_isBasicCustomElement(c)&&(t3.tagNameCheck instanceof RegExp&&th(t3.tagNameCheck,c)||t3.tagNameCheck instanceof Function&&t3.tagNameCheck(c)))return!1;if(eu&&!ef[c]){let s=tO(o)||o.parentNode,c=tD(o)||o.childNodes;if(c&&s){let p=c.length;for(let f=p-1;f>=0;--f){let p=tF(c[f],!0);p.__removalCount=(o.__removalCount||0)+1,s.insertBefore(p,tP(o))}}}return _forceRemove(o),!0}return o instanceof tk&&!_checkValidNamespace(o)||("noscript"===c||"noembed"===c||"noframes"===c)&&th(/<\/no(script|embed|frames)/i,o.innerHTML)?(_forceRemove(o),!0):(ee&&o.nodeType===t$.text&&(s=o.textContent,X([tY,tU,tH],o=>{s=ta(s,o," ")}),o.textContent!==s&&(te(DOMPurify.removed,{element:o.cloneNode()}),o.textContent=s)),_executeHook("afterSanitizeElements",o,null),!1)},_isValidAttribute=function(o,s,c){if(eh&&("id"===s||"name"===s)&&(c in p||c in eF))return!1;if(t9&&!t6[s]&&th(tV,s));else if(t8&&th(tX,s));else if(!t2[s]||t6[s]){if(!(_isBasicCustomElement(o)&&(t3.tagNameCheck instanceof RegExp&&th(t3.tagNameCheck,o)||t3.tagNameCheck instanceof Function&&t3.tagNameCheck(o))&&(t3.attributeNameCheck instanceof RegExp&&th(t3.attributeNameCheck,s)||t3.attributeNameCheck instanceof Function&&t3.attributeNameCheck(s))||"is"===s&&t3.allowCustomizedBuiltInElements&&(t3.tagNameCheck instanceof RegExp&&th(t3.tagNameCheck,c)||t3.tagNameCheck instanceof Function&&t3.tagNameCheck(c))))return!1}else if(e_[s]);else if(th(tJ,ta(c,tK,"")));else if(("src"===s||"xlink:href"===s||"href"===s)&&"script"!==o&&0===to(c,"data:")&&em[o]);else if(t7&&!th(tG,ta(c,tK,"")));else if(c)return!1;return!0},_isBasicCustomElement=function(o){return"annotation-xml"!==o&&tn(o,tQ)},_sanitizeAttributes=function(s){_executeHook("beforeSanitizeAttributes",s,null);let{attributes:c}=s;if(!c)return;let p={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:t2},f=c.length;for(;f--;){let g=c[f],{name:m,namespaceURI:b,value:k}=g,B=eB(m),L="value"===m?k:ts(k);if(p.attrName=B,p.attrValue=L,p.keepAttr=!0,p.forceKeepAttr=void 0,_executeHook("uponSanitizeAttribute",s,p),L=p.attrValue,er&&th(/((--!?|])>)|<\/(style|title)/i,L)){_removeAttribute(m,s);continue}if(p.forceKeepAttr||(_removeAttribute(m,s),!p.keepAttr))continue;if(!et&&th(/\/>/i,L)){_removeAttribute(m,s);continue}ee&&X([tY,tU,tH],o=>{L=ta(L,o," ")});let te=eB(s.nodeName);if(_isValidAttribute(te,B,L)){if(ec&&("id"===B||"name"===B)&&(_removeAttribute(m,s),L="user-content-"+L),o&&"object"==typeof tA&&"function"==typeof tA.getAttributeType){if(b);else switch(tA.getAttributeType(te,B)){case"TrustedHTML":L=o.createHTML(L);break;case"TrustedScriptURL":L=o.createScriptURL(L)}}try{b?s.setAttributeNS(b,m,L):s.setAttribute(m,L),_isClobbered(s)?_forceRemove(s):J(DOMPurify.removed)}catch(o){}}}_executeHook("afterSanitizeAttributes",s,null)},_sanitizeShadowDOM=function _sanitizeShadowDOM(o){let s=null,c=_createNodeIterator(o);for(_executeHook("beforeSanitizeShadowDOM",o,null);s=c.nextNode();)_executeHook("uponSanitizeShadowNode",s,null),_sanitizeElements(s)||(s.content instanceof b&&_sanitizeShadowDOM(s.content),_sanitizeAttributes(s));_executeHook("afterSanitizeShadowDOM",o,null)};return DOMPurify.sanitize=function(s){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=null,g=null,m=null,k=null;if((ev=!s)&&(s="<!-->"),"string"!=typeof s&&!_isNode(s)){if("function"==typeof s.toString){if("string"!=typeof(s=s.toString()))throw tc("dirty is not a string, aborting")}else throw tc("toString is not a function")}if(!DOMPurify.isSupported)return s;if(en||_parseConfig(c),DOMPurify.removed=[],"string"==typeof s&&(ed=!1),ed){if(s.nodeName){let o=eB(s.nodeName);if(!t0[o]||t4[o])throw tc("root node is forbidden and cannot be sanitized in-place")}}else if(s instanceof L)(g=(p=_initDocument("<!---->")).ownerDocument.importNode(s,!0)).nodeType===t$.element&&"BODY"===g.nodeName?p=g:"HTML"===g.nodeName?p=g:p.appendChild(g);else{if(!eo&&!ee&&!ei&&-1===s.indexOf("<"))return o&&el?o.createHTML(s):s;if(!(p=_initDocument(s)))return eo?null:el?tR:""}p&&ea&&_forceRemove(p.firstChild);let B=_createNodeIterator(ed?s:p);for(;m=B.nextNode();)_sanitizeElements(m)||(m.content instanceof b&&_sanitizeShadowDOM(m.content),_sanitizeAttributes(m));if(ed)return s;if(eo){if(es)for(k=tj.call(p.ownerDocument);p.firstChild;)k.appendChild(p.firstChild);else k=p;return(t2.shadowroot||t2.shadowrootmode)&&(k=tZ.call(f,k,!0)),k}let J=ei?p.outerHTML:p.innerHTML;return ei&&t0["!doctype"]&&p.ownerDocument&&p.ownerDocument.doctype&&p.ownerDocument.doctype.name&&th(tL,p.ownerDocument.doctype.name)&&(J="<!DOCTYPE "+p.ownerDocument.doctype.name+">\n"+J),ee&&X([tY,tU,tH],o=>{J=ta(J,o," ")}),o&&el?o.createHTML(J):J},DOMPurify.setConfig=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_parseConfig(o),en=!0},DOMPurify.clearConfig=function(){eL=null,en=!1},DOMPurify.isValidAttribute=function(o,s,c){eL||_parseConfig({});let p=eB(o),f=eB(s);return _isValidAttribute(p,f,c)},DOMPurify.addHook=function(o,s){"function"==typeof s&&(tq[o]=tq[o]||[],te(tq[o],s))},DOMPurify.removeHook=function(o){if(tq[o])return J(tq[o])},DOMPurify.removeHooks=function(o){tq[o]&&(tq[o]=[])},DOMPurify.removeAllHooks=function(){tq={}},DOMPurify}();o.exports=tP},5611:o=>{"use strict";var t=function(o,s){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(o,s)};function e(o,s){if("function"!=typeof s&&null!==s)throw TypeError("Class extends value "+String(s)+" is not a constructor or null");function r(){this.constructor=o}t(o,s),o.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}var n=function(){return(n=Object.assign||function(o){for(var s,c=1,p=arguments.length;c<p;c++)for(var f in s=arguments[c])Object.prototype.hasOwnProperty.call(s,f)&&(o[f]=s[f]);return o}).apply(this,arguments)};function r(o,s,c){if(c||2==arguments.length)for(var p,f=0,g=s.length;f<g;f++)!p&&f in s||(p||(p=Array.prototype.slice.call(s,0,f)),p[f]=s[f]);return o.concat(p||Array.prototype.slice.call(s))}function a(o,s,c){if(o&&o.length){let[p,f]=s,g=Math.PI/180*c,m=Math.cos(g),b=Math.sin(g);for(let s of o){let[o,c]=s;s[0]=(o-p)*m-(c-f)*b+p,s[1]=(o-p)*b+(c-f)*m+f}}}function i(o,s){var c,p=s.hachureAngle+90,f=s.hachureGap;f<0&&(f=4*s.strokeWidth),f=Math.round(Math.max(f,.1));var g=1;return s.roughness>=1&&((null===(c=s.randomizer)||void 0===c?void 0:c.next())||Math.random())>.7&&(g=f),function(o,s,c,p=1){let f=Math.max(s,.1),g=o[0]&&o[0][0]&&"number"==typeof o[0][0]?[o]:o,m=[0,0];if(c)for(let o of g)a(o,m,c);let b=function(o,s,c){let p=[];for(let s of o){var f,g;let o=[...s];f=o[0],g=o[o.length-1],f[0]===g[0]&&f[1]===g[1]||o.push([o[0][0],o[0][1]]),o.length>2&&p.push(o)}let m=[];s=Math.max(s,.1);let b=[];for(let o of p)for(let s=0;s<o.length-1;s++){let c=o[s],p=o[s+1];if(c[1]!==p[1]){let o=Math.min(c[1],p[1]);b.push({ymin:o,ymax:Math.max(c[1],p[1]),x:o===c[1]?c[0]:p[0],islope:(p[0]-c[0])/(p[1]-c[1])})}}if(b.sort((o,s)=>o.ymin<s.ymin?-1:o.ymin>s.ymin?1:o.x<s.x?-1:o.x>s.x?1:o.ymax===s.ymax?0:(o.ymax-s.ymax)/Math.abs(o.ymax-s.ymax)),!b.length)return m;let k=[],B=b[0].ymin,L=0;for(;k.length||b.length;){if(b.length){let o=-1;for(let s=0;s<b.length&&!(b[s].ymin>B);s++)o=s;b.splice(0,o+1).forEach(o=>{k.push({s:B,edge:o})})}if((k=k.filter(o=>!(o.edge.ymax<=B))).sort((o,s)=>o.edge.x===s.edge.x?0:(o.edge.x-s.edge.x)/Math.abs(o.edge.x-s.edge.x)),(1!==c||L%s==0)&&k.length>1)for(let o=0;o<k.length;o+=2){let s=o+1;if(s>=k.length)break;let c=k[o].edge,p=k[s].edge;m.push([[Math.round(c.x),B],[Math.round(p.x),B]])}B+=c,k.forEach(o=>{o.edge.x=o.edge.x+c*o.edge.islope}),L++}return m}(g,f,p);if(c){for(let o of g)a(o,m,-c);!function(o,s,c){let p=[];o.forEach(o=>p.push(...o)),a(p,s,c)}(b,m,-c)}return b}(o,f,p,g||1)}"function"==typeof SuppressedError&&SuppressedError;var s=function(){function t(o){this.helper=o}return t.prototype.fillPolygons=function(o,s){return this._fillPolygons(o,s)},t.prototype._fillPolygons=function(o,s){var c=i(o,s);return{type:"fillSketch",ops:this.renderLines(c,s)}},t.prototype.renderLines=function(o,s){for(var c=[],p=0;p<o.length;p++){var f=o[p];c.push.apply(c,this.helper.doubleLineOps(f[0][0],f[0][1],f[1][0],f[1][1],s))}return c},t}();function u(o){var s=o[0],c=o[1];return Math.sqrt(Math.pow(s[0]-c[0],2)+Math.pow(s[1]-c[1],2))}var c=function(o){function n(){return null!==o&&o.apply(this,arguments)||this}return e(n,o),n.prototype.fillPolygons=function(o,s){var c=s.hachureGap;c<0&&(c=4*s.strokeWidth),c=Math.max(c,.1);for(var p=i(o,Object.assign({},s,{hachureGap:c})),f=Math.PI/180*s.hachureAngle,g=[],m=.5*c*Math.cos(f),b=.5*c*Math.sin(f),k=0;k<p.length;k++){var B=p[k],L=B[0],X=B[1];u([L,X])&&g.push([[L[0]-m,L[1]+b],r([],X,!0)],[[L[0]+m,L[1]-b],r([],X,!0)])}return{type:"fillSketch",ops:this.renderLines(g,s)}},n}(s),p=function(o){function n(){return null!==o&&o.apply(this,arguments)||this}return e(n,o),n.prototype.fillPolygons=function(o,s){var c=this._fillPolygons(o,s),p=Object.assign({},s,{hachureAngle:s.hachureAngle+90}),f=this._fillPolygons(o,p);return c.ops=c.ops.concat(f.ops),c},n}(s),f=function(){function t(o){this.helper=o}return t.prototype.fillPolygons=function(o,s){var c=i(o,s=Object.assign({},s,{hachureAngle:0}));return this.dotsOnLines(c,s)},t.prototype.dotsOnLines=function(o,s){var c=[],p=s.hachureGap;p<0&&(p=4*s.strokeWidth),p=Math.max(p,.1);var f=s.fillWeight;f<0&&(f=s.strokeWidth/2);for(var g=p/4,m=0;m<o.length;m++)for(var b=o[m],k=u(b),B=k/p,L=Math.ceil(B)-1,X=k-L*p,J=(b[0][0]+b[1][0])/2-p/4,te=Math.min(b[0][1],b[1][1]),tr=0;tr<L;tr++){var ti=J-g+2*Math.random()*g,tn=te+X+tr*p-g+2*Math.random()*g,ta=this.helper.ellipse(ti,tn,f,f,s);c.push.apply(c,ta.ops)}return{type:"fillSketch",ops:c}},t}(),g=function(){function t(o){this.helper=o}return t.prototype.fillPolygons=function(o,s){var c=i(o,s);return{type:"fillSketch",ops:this.dashedLine(c,s)}},t.prototype.dashedLine=function(o,s){var c=this,p=s.dashOffset<0?s.hachureGap<0?4*s.strokeWidth:s.hachureGap:s.dashOffset,f=s.dashGap<0?s.hachureGap<0?4*s.strokeWidth:s.hachureGap:s.dashGap,g=[];return o.forEach(function(o){var m=u(o),b=Math.floor(m/(p+f)),k=(m+f-b*(p+f))/2,B=o[0],L=o[1];B[0]>L[0]&&(B=o[1],L=o[0]);for(var X=Math.atan((L[1]-B[1])/(L[0]-B[0])),J=0;J<b;J++){var te=J*(p+f),tr=te+p,ti=[B[0]+te*Math.cos(X)+k*Math.cos(X),B[1]+te*Math.sin(X)+k*Math.sin(X)],tn=[B[0]+tr*Math.cos(X)+k*Math.cos(X),B[1]+tr*Math.sin(X)+k*Math.sin(X)];g.push.apply(g,c.helper.doubleLineOps(ti[0],ti[1],tn[0],tn[1],s))}}),g},t}(),m=function(){function t(o){this.helper=o}return t.prototype.fillPolygons=function(o,s){var c=s.hachureGap<0?4*s.strokeWidth:s.hachureGap,p=s.zigzagOffset<0?c:s.zigzagOffset,f=i(o,s=Object.assign({},s,{hachureGap:c+p}));return{type:"fillSketch",ops:this.zigzagLines(f,p,s)}},t.prototype.zigzagLines=function(o,s,c){var p=this,f=[];return o.forEach(function(o){var g=Math.round(u(o)/(2*s)),m=o[0],b=o[1];m[0]>b[0]&&(m=o[1],b=o[0]);for(var k=Math.atan((b[1]-m[1])/(b[0]-m[0])),B=0;B<g;B++){var L=2*B*s,X=2*(B+1)*s,J=Math.sqrt(2*Math.pow(s,2)),te=[m[0]+L*Math.cos(k),m[1]+L*Math.sin(k)],tr=[m[0]+X*Math.cos(k),m[1]+X*Math.sin(k)],ti=[te[0]+J*Math.cos(k+Math.PI/4),te[1]+J*Math.sin(k+Math.PI/4)];f.push.apply(f,r(r([],p.helper.doubleLineOps(te[0],te[1],ti[0],ti[1],c),!1),p.helper.doubleLineOps(ti[0],ti[1],tr[0],tr[1],c),!1))}}),f},t}(),b={},k=function(){function t(o){this.seed=o}return t.prototype.next=function(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()},t}();let B={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function w(o){let s=[],c=function(o){let s=[];for(;""!==o;)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))s[s.length]={type:0,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];s[s.length]={type:1,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return s[s.length]={type:2,text:""},s}(o),p="BOD",f=0,g=c[0];for(;2!==g.type;){let m=0,b=[];if("BOD"===p){if("M"!==g.text&&"m"!==g.text)return w("M0,0"+o);f++,m=B[g.text],p=g.text}else 1===g.type?m=B[p]:(f++,m=B[g.text],p=g.text);if(!(f+m<c.length))throw Error("Path data ended short");for(let o=f;o<f+m;o++){let s=c[o];if(1!==s.type)throw Error("Param not a number: "+p+","+s.text);b[b.length]=+s.text}if("number"!=typeof B[p])throw Error("Bad segment: "+p);{let o={key:p,data:b};s.push(o),f+=m,g=c[f],"M"===p&&(p="L"),"m"===p&&(p="l")}}return s}function P(o){let s=0,c=0,p=0,f=0,g=[];for(let{key:m,data:b}of o)switch(m){case"M":g.push({key:"M",data:[...b]}),[s,c]=b,[p,f]=b;break;case"m":s+=b[0],c+=b[1],g.push({key:"M",data:[s,c]}),p=s,f=c;break;case"L":g.push({key:"L",data:[...b]}),[s,c]=b;break;case"l":s+=b[0],c+=b[1],g.push({key:"L",data:[s,c]});break;case"C":g.push({key:"C",data:[...b]}),s=b[4],c=b[5];break;case"c":{let o=b.map((o,p)=>p%2?o+c:o+s);g.push({key:"C",data:o}),s=o[4],c=o[5];break}case"Q":g.push({key:"Q",data:[...b]}),s=b[2],c=b[3];break;case"q":{let o=b.map((o,p)=>p%2?o+c:o+s);g.push({key:"Q",data:o}),s=o[2],c=o[3];break}case"A":g.push({key:"A",data:[...b]}),s=b[5],c=b[6];break;case"a":s+=b[5],c+=b[6],g.push({key:"A",data:[b[0],b[1],b[2],b[3],b[4],s,c]});break;case"H":g.push({key:"H",data:[...b]}),s=b[0];break;case"h":s+=b[0],g.push({key:"H",data:[s]});break;case"V":g.push({key:"V",data:[...b]}),c=b[0];break;case"v":c+=b[0],g.push({key:"V",data:[c]});break;case"S":g.push({key:"S",data:[...b]}),s=b[2],c=b[3];break;case"s":{let o=b.map((o,p)=>p%2?o+c:o+s);g.push({key:"S",data:o}),s=o[2],c=o[3];break}case"T":g.push({key:"T",data:[...b]}),s=b[0],c=b[1];break;case"t":s+=b[0],c+=b[1],g.push({key:"T",data:[s,c]});break;case"Z":case"z":g.push({key:"Z",data:[]}),s=p,c=f}return g}function x(o){let s=[],c="",p=0,f=0,g=0,m=0,b=0,k=0;for(let{key:B,data:L}of o){switch(B){case"M":s.push({key:"M",data:[...L]}),[p,f]=L,[g,m]=L;break;case"C":s.push({key:"C",data:[...L]}),p=L[4],f=L[5],b=L[2],k=L[3];break;case"L":s.push({key:"L",data:[...L]}),[p,f]=L;break;case"H":p=L[0],s.push({key:"L",data:[p,f]});break;case"V":f=L[0],s.push({key:"L",data:[p,f]});break;case"S":{let o=0,g=0;"C"===c||"S"===c?(o=p+(p-b),g=f+(f-k)):(o=p,g=f),s.push({key:"C",data:[o,g,...L]}),b=L[0],k=L[1],p=L[2],f=L[3];break}case"T":{let[o,g]=L,m=0,B=0;"Q"===c||"T"===c?(m=p+(p-b),B=f+(f-k)):(m=p,B=f);let X=p+2*(m-p)/3,J=f+2*(B-f)/3,te=o+2*(m-o)/3,tr=g+2*(B-g)/3;s.push({key:"C",data:[X,J,te,tr,o,g]}),b=m,k=B,p=o,f=g;break}case"Q":{let[o,c,g,m]=L,B=p+2*(o-p)/3,X=f+2*(c-f)/3,J=g+2*(o-g)/3,te=m+2*(c-m)/3;s.push({key:"C",data:[B,X,J,te,g,m]}),b=o,k=c,p=g,f=m;break}case"A":{let o=Math.abs(L[0]),c=Math.abs(L[1]),g=L[2],m=L[3],b=L[4],k=L[5],B=L[6];0===o||0===c?(s.push({key:"C",data:[p,f,k,B,k,B]}),p=k,f=B):(p!==k||f!==B)&&((function O(o,s,c,p,f,g,m,b,k,B){let L=Math.PI*m/180,X=[],J=0,te=0,tr=0,ti=0;if(B)[J,te,tr,ti]=B;else{[o,s]=S(o,s,-L),[c,p]=S(c,p,-L);let m=(o-c)/2,B=(s-p)/2,X=m*m/(f*f)+B*B/(g*g);X>1&&(f*=X=Math.sqrt(X),g*=X);let tn=f*f,ta=g*g,to=(b===k?-1:1)*Math.sqrt(Math.abs((tn*ta-tn*B*B-ta*m*m)/(tn*B*B+ta*m*m)));tr=to*f*B/g+(o+c)/2,ti=-(to*g)*m/f+(s+p)/2,J=Math.asin(parseFloat(((s-ti)/g).toFixed(9))),te=Math.asin(parseFloat(((p-ti)/g).toFixed(9))),o<tr&&(J=Math.PI-J),c<tr&&(te=Math.PI-te),J<0&&(J=2*Math.PI+J),te<0&&(te=2*Math.PI+te),k&&J>te&&(J-=2*Math.PI),!k&&te>J&&(te-=2*Math.PI)}let tn=te-J;if(Math.abs(tn)>120*Math.PI/180){let o=te,s=c,b=p;X=O(c=tr+f*Math.cos(te=k&&te>J?J+120*Math.PI/180*1:J+-(120*Math.PI/180*1)),p=ti+g*Math.sin(te),s,b,f,g,m,0,k,[te,o,tr,ti])}tn=te-J;let ta=Math.cos(J),to=Math.sin(J),ts=Math.cos(te),tl=Math.sin(te),th=Math.tan(tn/4),tc=4/3*f*th,tu=4/3*g*th,td=[o,s],tp=[o+tc*to,s-tu*ta],tf=[c+tc*tl,p-tu*ts],tg=[c,p];if(tp[0]=2*td[0]-tp[0],tp[1]=2*td[1]-tp[1],B)return[tp,tf,tg].concat(X);{X=[tp,tf,tg].concat(X);let o=[];for(let s=0;s<X.length;s+=3){let c=S(X[s][0],X[s][1],L),p=S(X[s+1][0],X[s+1][1],L),f=S(X[s+2][0],X[s+2][1],L);o.push([c[0],c[1],p[0],p[1],f[0],f[1]])}return o}})(p,f,k,B,o,c,g,m,b).forEach(function(o){s.push({key:"C",data:o})}),p=k,f=B);break}case"Z":s.push({key:"Z",data:[]}),p=g,f=m}c=B}return s}function S(o,s,c){return[o*Math.cos(c)-s*Math.sin(c),o*Math.sin(c)+s*Math.cos(c)]}var L={randOffset:function(o,s){return F(o,s)},randOffsetWithRange:function(o,s,c){return q(o,s,c)},ellipse:function(o,s,c,p,f){var g=I(c,p,f);return C(o,s,f,g).opset},doubleLineOps:function(o,s,c,p,f){return V(o,s,c,p,f,!0)}};function T(o,s,c,p,f){return{type:"path",ops:V(o,s,c,p,f)}}function _(o,s,c){var p=(o||[]).length;if(p>2){for(var f=[],g=0;g<p-1;g++)f.push.apply(f,V(o[g][0],o[g][1],o[g+1][0],o[g+1][1],c));return s&&f.push.apply(f,V(o[p-1][0],o[p-1][1],o[0][0],o[0][1],c)),{type:"path",ops:f}}return 2===p?T(o[0][0],o[0][1],o[1][0],o[1][1],c):{type:"path",ops:[]}}function A(o,s){if(o.length){for(var c="number"==typeof o[0][0]?[o]:o,p=Q(c[0],1*(1+.2*s.roughness),s),f=s.disableMultiStroke?[]:Q(c[0],1.5*(1+.22*s.roughness),R(s)),g=1;g<c.length;g++){var m=c[g];if(m.length){for(var b,k=Q(m,1*(1+.2*s.roughness),s),B=s.disableMultiStroke?[]:Q(m,1.5*(1+.22*s.roughness),R(s)),L=0;L<k.length;L++)"move"!==(b=k[L]).op&&p.push(b);for(var X=0;X<B.length;X++)"move"!==(b=B[X]).op&&f.push(b)}}return{type:"path",ops:p.concat(f)}}return{type:"path",ops:[]}}function I(o,s,c){var p=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(o/2,2)+Math.pow(s/2,2))/2)),f=2*Math.PI/Math.ceil(Math.max(c.curveStepCount,c.curveStepCount/Math.sqrt(200)*p)),g=Math.abs(o/2),m=Math.abs(s/2),b=1-c.curveFitting;return{increment:f,rx:g+=F(g*b,c),ry:m+=F(m*b,c)}}function C(o,s,c,p){var f=$(p.increment,o,s,p.rx,p.ry,1,p.increment*q(.1,q(.4,1,c),c),c),g=f[0],m=f[1],b=H(g,null,c);if(!c.disableMultiStroke&&0!==c.roughness){var k=H($(p.increment,o,s,p.rx,p.ry,1.5,0,c)[0],null,c);b=b.concat(k)}return{estimatedPoints:m,opset:{type:"path",ops:b}}}function z(o,s,c,p,f,g,m,b,k){var B=Math.abs(c/2),L=Math.abs(p/2);B+=F(.01*B,k),L+=F(.01*L,k);for(var X=f,J=g;X<0;)X+=2*Math.PI,J+=2*Math.PI;J-X>2*Math.PI&&(X=0,J=2*Math.PI);var te=Math.min(2*Math.PI/k.curveStepCount/2,(J-X)/2),tr=N(te,o,s,B,L,X,J,1,k);if(!k.disableMultiStroke){var ti=N(te,o,s,B,L,X,J,1.5,k);tr.push.apply(tr,ti)}return m&&(b?tr.push.apply(tr,r(r([],V(o,s,o+B*Math.cos(X),s+L*Math.sin(X),k),!1),V(o,s,o+B*Math.cos(J),s+L*Math.sin(J),k),!1)):tr.push({op:"lineTo",data:[o,s]},{op:"lineTo",data:[o+B*Math.cos(X),s+L*Math.sin(X)]})),{type:"path",ops:tr}}function W(o,s){for(var c=[],p=[0,0],f=[0,0],g=0,m=x(P(w(o)));g<m.length;g++){var b=m[g],k=b.key,B=b.data;switch(k){case"M":f=[B[0],B[1]],p=[B[0],B[1]];break;case"L":c.push.apply(c,V(f[0],f[1],B[0],B[1],s)),f=[B[0],B[1]];break;case"C":var L=B[0],X=B[1],J=B[2],te=B[3],tr=B[4],ti=B[5];c.push.apply(c,function(o,s,c,p,f,g,m,b){for(var k=[],B=[b.maxRandomnessOffset||1,(b.maxRandomnessOffset||1)+.3],L=[0,0],X=b.disableMultiStroke?1:2,J=b.preserveVertices,te=0;te<X;te++)0===te?k.push({op:"move",data:[m[0],m[1]]}):k.push({op:"move",data:[m[0]+(J?0:F(B[0],b)),m[1]+(J?0:F(B[0],b))]}),L=J?[f,g]:[f+F(B[te],b),g+F(B[te],b)],k.push({op:"bcurveTo",data:[o+F(B[te],b),s+F(B[te],b),c+F(B[te],b),p+F(B[te],b),L[0],L[1]]});return k}(L,X,J,te,tr,ti,f,s)),f=[tr,ti];break;case"Z":c.push.apply(c,V(f[0],f[1],p[0],p[1],s)),f=[p[0],p[1]]}}return{type:"path",ops:c}}function E(o,s){for(var c=[],p=0;p<o.length;p++){var f=o[p];if(f.length){var g=s.maxRandomnessOffset||0,m=f.length;if(m>2){c.push({op:"move",data:[f[0][0]+F(g,s),f[0][1]+F(g,s)]});for(var b=1;b<m;b++)c.push({op:"lineTo",data:[f[b][0]+F(g,s),f[b][1]+F(g,s)]})}}}return{type:"fillPath",ops:c}}function G(o,k){return(function(o,k){var B=o.fillStyle||"hachure";if(!b[B])switch(B){case"zigzag":b[B]||(b[B]=new c(k));break;case"cross-hatch":b[B]||(b[B]=new p(k));break;case"dots":b[B]||(b[B]=new f(k));break;case"dashed":b[B]||(b[B]=new g(k));break;case"zigzag-line":b[B]||(b[B]=new m(k));break;default:b[B="hachure"]||(b[B]=new s(k))}return b[B]})(k,L).fillPolygons(o,k)}function R(o){var s=n({},o);return s.randomizer=void 0,o.seed&&(s.seed=o.seed+1),s}function j(o){return o.randomizer||(o.randomizer=new k(o.seed||0)),o.randomizer.next()}function q(o,s,c,p){return void 0===p&&(p=1),c.roughness*p*(j(c)*(s-o)+o)}function F(o,s,c){return void 0===c&&(c=1),q(-o,o,s,c)}function V(o,s,c,p,f,g){void 0===g&&(g=!1);var m=g?f.disableMultiStrokeFill:f.disableMultiStroke,b=Z(o,s,c,p,f,!0,!1);if(m)return b;var k=Z(o,s,c,p,f,!0,!0);return b.concat(k)}function Z(o,s,c,p,f,g,m){var b=Math.pow(o-c,2)+Math.pow(s-p,2),k=Math.sqrt(b),B=1;B=k<200?1:k>500?.4:-.0016668*k+1.233334;var L=f.maxRandomnessOffset||0;L*L*100>b&&(L=k/10);var X=L/2,J=.2+.2*j(f),te=f.bowing*f.maxRandomnessOffset*(p-s)/200,tr=f.bowing*f.maxRandomnessOffset*(o-c)/200;te=F(te,f,B),tr=F(tr,f,B);var ti=[],y=function(){return F(X,f,B)},v=function(){return F(L,f,B)},tn=f.preserveVertices;return g&&(m?ti.push({op:"move",data:[o+(tn?0:y()),s+(tn?0:y())]}):ti.push({op:"move",data:[o+(tn?0:F(L,f,B)),s+(tn?0:F(L,f,B))]})),m?ti.push({op:"bcurveTo",data:[te+o+(c-o)*J+y(),tr+s+(p-s)*J+y(),te+o+2*(c-o)*J+y(),tr+s+2*(p-s)*J+y(),c+(tn?0:y()),p+(tn?0:y())]}):ti.push({op:"bcurveTo",data:[te+o+(c-o)*J+v(),tr+s+(p-s)*J+v(),te+o+2*(c-o)*J+v(),tr+s+2*(p-s)*J+v(),c+(tn?0:v()),p+(tn?0:v())]}),ti}function Q(o,s,c){if(!o.length)return[];var p=[];p.push([o[0][0]+F(s,c),o[0][1]+F(s,c)]),p.push([o[0][0]+F(s,c),o[0][1]+F(s,c)]);for(var f=1;f<o.length;f++)p.push([o[f][0]+F(s,c),o[f][1]+F(s,c)]),f===o.length-1&&p.push([o[f][0]+F(s,c),o[f][1]+F(s,c)]);return H(p,null,c)}function H(o,s,c){var p=o.length,f=[];if(p>3){var g=[],m=1-c.curveTightness;f.push({op:"move",data:[o[1][0],o[1][1]]});for(var b=1;b+2<p;b++){var k=o[b];g[0]=[k[0],k[1]],g[1]=[k[0]+(m*o[b+1][0]-m*o[b-1][0])/6,k[1]+(m*o[b+1][1]-m*o[b-1][1])/6],g[2]=[o[b+1][0]+(m*o[b][0]-m*o[b+2][0])/6,o[b+1][1]+(m*o[b][1]-m*o[b+2][1])/6],g[3]=[o[b+1][0],o[b+1][1]],f.push({op:"bcurveTo",data:[g[1][0],g[1][1],g[2][0],g[2][1],g[3][0],g[3][1]]})}if(s&&2===s.length){var B=c.maxRandomnessOffset;f.push({op:"lineTo",data:[s[0]+F(B,c),s[1]+F(B,c)]})}}else 3===p?(f.push({op:"move",data:[o[1][0],o[1][1]]}),f.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[2][0],o[2][1]]})):2===p&&f.push.apply(f,Z(o[0][0],o[0][1],o[1][0],o[1][1],c,!0,!0));return f}function $(o,s,c,p,f,g,m,b){var k=[],B=[];if(0===b.roughness){o/=4,B.push([s+p*Math.cos(-o),c+f*Math.sin(-o)]);for(var L=0;L<=2*Math.PI;L+=o){var X=[s+p*Math.cos(L),c+f*Math.sin(L)];k.push(X),B.push(X)}B.push([s+1*p,c+0*f]),B.push([s+p*Math.cos(o),c+f*Math.sin(o)])}else{var J=F(.5,b)-Math.PI/2;B.push([F(g,b)+s+.9*p*Math.cos(J-o),F(g,b)+c+.9*f*Math.sin(J-o)]);var te=2*Math.PI+J-.01;for(L=J;L<te;L+=o)X=[F(g,b)+s+p*Math.cos(L),F(g,b)+c+f*Math.sin(L)],k.push(X),B.push(X);B.push([F(g,b)+s+p*Math.cos(J+2*Math.PI+.5*m),F(g,b)+c+f*Math.sin(J+2*Math.PI+.5*m)]),B.push([F(g,b)+s+.98*p*Math.cos(J+m),F(g,b)+c+.98*f*Math.sin(J+m)]),B.push([F(g,b)+s+.9*p*Math.cos(J+.5*m),F(g,b)+c+.9*f*Math.sin(J+.5*m)])}return[B,k]}function N(o,s,c,p,f,g,m,b,k){var B=g+F(.1,k),L=[];L.push([F(b,k)+s+.9*p*Math.cos(B-o),F(b,k)+c+.9*f*Math.sin(B-o)]);for(var X=B;X<=m;X+=o)L.push([F(b,k)+s+p*Math.cos(X),F(b,k)+c+f*Math.sin(X)]);return L.push([s+p*Math.cos(m),c+f*Math.sin(m)]),L.push([s+p*Math.cos(m),c+f*Math.sin(m)]),H(L,null,k)}function K(o,s=0){let c=o.length;if(c<3)throw Error("A curve must have at least three points.");let p=[];if(3===c)p.push([...o[0]],[...o[1]],[...o[2]],[...o[2]]);else{let c=[];c.push(o[0],o[0]);for(let s=1;s<o.length;s++)c.push(o[s]),s===o.length-1&&c.push(o[s]);let f=[],g=1-s;p.push([...c[0]]);for(let o=1;o+2<c.length;o++){let s=c[o];f[0]=[s[0],s[1]],f[1]=[s[0]+(g*c[o+1][0]-g*c[o-1][0])/6,s[1]+(g*c[o+1][1]-g*c[o-1][1])/6],f[2]=[c[o+1][0]+(g*c[o][0]-g*c[o+2][0])/6,c[o+1][1]+(g*c[o][1]-g*c[o+2][1])/6],f[3]=[c[o+1][0],c[o+1][1]],p.push(f[1],f[2],f[3])}}return p}function U(o,s){return Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)}function Y(o,s,c){return[o[0]+(s[0]-o[0])*c,o[1]+(s[1]-o[1])*c]}function nt(o,s,c,p,f){let g=f||[],m=o[s],b=o[c-1],k=0,B=1;for(let p=s+1;p<c-1;++p){let s=function(o,s,c){let p=U(s,c);if(0===p)return U(o,s);let f=((o[0]-s[0])*(c[0]-s[0])+(o[1]-s[1])*(c[1]-s[1]))/p;return U(o,Y(s,c,f=Math.max(0,Math.min(1,f))))}(o[p],m,b);s>k&&(k=s,B=p)}return Math.sqrt(k)>p?(nt(o,s,B+1,p,g),nt(o,B,c,p,g)):(g.length||g.push(m),g.push(b)),g}function rt(o,s=.15,c){let p=[],f=(o.length-1)/3;for(let c=0;c<f;c++)!function tt(o,s,c,p){let f=p||[];if(function(o,s){let c=o[s+0],p=o[s+1],f=o[s+2],g=o[s+3],m=3*p[0]-2*c[0]-g[0];m*=m;let b=3*p[1]-2*c[1]-g[1];b*=b;let k=3*f[0]-2*g[0]-c[0];k*=k;let B=3*f[1]-2*g[1]-c[1];return B*=B,m<k&&(m=k),b<B&&(b=B),m+b}(o,s)<c){let c=o[s+0];f.length?Math.sqrt(U(f[f.length-1],c))>1&&f.push(c):f.push(c),f.push(o[s+3])}else{let p=o[s+0],g=o[s+1],m=o[s+2],b=o[s+3],k=Y(p,g,.5),B=Y(g,m,.5),L=Y(m,b,.5),X=Y(k,B,.5),J=Y(B,L,.5),te=Y(X,J,.5);tt([p,k,X,te],0,c,f),tt([te,J,L,b],0,c,f)}return f}(o,3*c,s,p);return c&&c>0?nt(p,0,p.length,c):p}var X="none",J=function(){function t(o){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=o||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}return t.newSeed=function(){return Math.floor(2147483648*Math.random())},t.prototype._o=function(o){return o?Object.assign({},this.defaultOptions,o):this.defaultOptions},t.prototype._d=function(o,s,c){return{shape:o,sets:s||[],options:c||this.defaultOptions}},t.prototype.line=function(o,s,c,p,f){var g=this._o(f);return this._d("line",[T(o,s,c,p,g)],g)},t.prototype.rectangle=function(o,s,c,p,f){var g=this._o(f),m=[],b=_([[o,s],[o+c,s],[o+c,s+p],[o,s+p]],!0,g);if(g.fill){var k=[[o,s],[o+c,s],[o+c,s+p],[o,s+p]];"solid"===g.fillStyle?m.push(E([k],g)):m.push(G([k],g))}return g.stroke!==X&&m.push(b),this._d("rectangle",m,g)},t.prototype.ellipse=function(o,s,c,p,f){var g=this._o(f),m=[],b=I(c,p,g),k=C(o,s,g,b);if(g.fill){if("solid"===g.fillStyle){var B=C(o,s,g,b).opset;B.type="fillPath",m.push(B)}else m.push(G([k.estimatedPoints],g))}return g.stroke!==X&&m.push(k.opset),this._d("ellipse",m,g)},t.prototype.circle=function(o,s,c,p){var f=this.ellipse(o,s,c,c,p);return f.shape="circle",f},t.prototype.linearPath=function(o,s){var c=this._o(s);return this._d("linearPath",[_(o,!1,c)],c)},t.prototype.arc=function(o,s,c,p,f,g,m,b){void 0===m&&(m=!1);var k=this._o(b),B=[],L=z(o,s,c,p,f,g,m,!0,k);if(m&&k.fill){if("solid"===k.fillStyle){var J=n({},k);J.disableMultiStroke=!0;var te=z(o,s,c,p,f,g,!0,!1,J);te.type="fillPath",B.push(te)}else B.push(function(o,s,c,p,f,g,m){var b=Math.abs(c/2),k=Math.abs(p/2);b+=F(.01*b,m),k+=F(.01*k,m);for(var B=f,L=g;B<0;)B+=2*Math.PI,L+=2*Math.PI;L-B>2*Math.PI&&(B=0,L=2*Math.PI);for(var X=(L-B)/m.curveStepCount,J=[],te=B;te<=L;te+=X)J.push([o+b*Math.cos(te),s+k*Math.sin(te)]);return J.push([o+b*Math.cos(L),s+k*Math.sin(L)]),J.push([o,s]),G([J],m)}(o,s,c,p,f,g,k))}return k.stroke!==X&&B.push(L),this._d("arc",B,k)},t.prototype.curve=function(o,s){var c=this._o(s),p=[],f=A(o,c);if(c.fill&&c.fill!==X){if("solid"===c.fillStyle){var g=A(o,n(n({},c),{disableMultiStroke:!0,roughness:c.roughness?c.roughness+c.fillShapeRoughnessGain:0}));p.push({type:"fillPath",ops:this._mergedShape(g.ops)})}else{var m=[];if(o.length)for(var b=0,k="number"==typeof o[0][0]?[o]:o;b<k.length;b++){var B=k[b];B.length<3?m.push.apply(m,B):3===B.length?m.push.apply(m,rt(K([B[0],B[0],B[1],B[2]]),10,(1+c.roughness)/2)):m.push.apply(m,rt(K(B),10,(1+c.roughness)/2))}m.length&&p.push(G([m],c))}}return c.stroke!==X&&p.push(f),this._d("curve",p,c)},t.prototype.polygon=function(o,s){var c=this._o(s),p=[],f=_(o,!0,c);return c.fill&&("solid"===c.fillStyle?p.push(E([o],c)):p.push(G([o],c))),c.stroke!==X&&p.push(f),this._d("polygon",p,c)},t.prototype.path=function(o,s){var c=this._o(s),p=[];if(!o)return this._d("path",p,c);o=(o||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var f=c.fill&&"transparent"!==c.fill&&c.fill!==X,g=c.stroke!==X,m=!!(c.simplification&&c.simplification<1),b=function(o,s,c){let p=x(P(w(o))),f=[],g=[],m=[0,0],b=[],h=()=>{b.length>=4&&g.push(...rt(b,1)),b=[]},u=()=>{h(),g.length&&(f.push(g),g=[])};for(let{key:o,data:s}of p)switch(o){case"M":u(),m=[s[0],s[1]],g.push(m);break;case"L":h(),g.push([s[0],s[1]]);break;case"C":if(!b.length){let o=g.length?g[g.length-1]:m;b.push([o[0],o[1]])}b.push([s[0],s[1]]),b.push([s[2],s[3]]),b.push([s[4],s[5]]);break;case"Z":h(),g.push([m[0],m[1]])}if(u(),!c)return f;let k=[];for(let o of f){let s=nt(o,0,o.length,c);s.length&&k.push(s)}return k}(o,0,m?4-4*(c.simplification||1):(1+c.roughness)/2),k=W(o,c);if(f){if("solid"===c.fillStyle){if(1===b.length){var B=W(o,n(n({},c),{disableMultiStroke:!0,roughness:c.roughness?c.roughness+c.fillShapeRoughnessGain:0}));p.push({type:"fillPath",ops:this._mergedShape(B.ops)})}else p.push(E(b,c))}else p.push(G(b,c))}return g&&(m?b.forEach(function(o){p.push(_(o,!1,c))}):p.push(k)),this._d("path",p,c)},t.prototype.opsToPath=function(o,s){for(var c="",p=0,f=o.ops;p<f.length;p++){var g=f[p],m="number"==typeof s&&s>=0?g.data.map(function(o){return+o.toFixed(s)}):g.data;switch(g.op){case"move":c+="M".concat(m[0]," ").concat(m[1]," ");break;case"bcurveTo":c+="C".concat(m[0]," ").concat(m[1],", ").concat(m[2]," ").concat(m[3],", ").concat(m[4]," ").concat(m[5]," ");break;case"lineTo":c+="L".concat(m[0]," ").concat(m[1]," ")}}return c.trim()},t.prototype.toPaths=function(o){for(var s=o.sets||[],c=o.options||this.defaultOptions,p=[],f=0;f<s.length;f++){var g=s[f],m=null;switch(g.type){case"path":m={d:this.opsToPath(g),stroke:c.stroke,strokeWidth:c.strokeWidth,fill:X};break;case"fillPath":m={d:this.opsToPath(g),stroke:X,strokeWidth:0,fill:c.fill||X};break;case"fillSketch":m=this.fillSketch(g,c)}m&&p.push(m)}return p},t.prototype.fillSketch=function(o,s){var c=s.fillWeight;return c<0&&(c=s.strokeWidth/2),{d:this.opsToPath(o),stroke:s.fill||X,strokeWidth:c,fill:X}},t.prototype._mergedShape=function(o){return o.filter(function(o,s){return 0===s||"move"!==o.op})},t}(),te=function(){function t(o,s){this.canvas=o,this.ctx=this.canvas.getContext("2d"),this.gen=new J(s)}return t.prototype.draw=function(o){for(var s=o.sets||[],c=o.options||this.getDefaultOptions(),p=this.ctx,f=o.options.fixedDecimalPlaceDigits,g=0;g<s.length;g++){var m=s[g];switch(m.type){case"path":p.save(),p.strokeStyle="none"===c.stroke?"transparent":c.stroke,p.lineWidth=c.strokeWidth,c.strokeLineDash&&p.setLineDash(c.strokeLineDash),c.strokeLineDashOffset&&(p.lineDashOffset=c.strokeLineDashOffset),this._drawToContext(p,m,f),p.restore();break;case"fillPath":p.save(),p.fillStyle=c.fill||"";var b="curve"===o.shape||"polygon"===o.shape||"path"===o.shape?"evenodd":"nonzero";this._drawToContext(p,m,f,b),p.restore();break;case"fillSketch":this.fillSketch(p,m,c)}}},t.prototype.fillSketch=function(o,s,c){var p=c.fillWeight;p<0&&(p=c.strokeWidth/2),o.save(),c.fillLineDash&&o.setLineDash(c.fillLineDash),c.fillLineDashOffset&&(o.lineDashOffset=c.fillLineDashOffset),o.strokeStyle=c.fill||"",o.lineWidth=p,this._drawToContext(o,s,c.fixedDecimalPlaceDigits),o.restore()},t.prototype._drawToContext=function(o,s,c,p){void 0===p&&(p="nonzero"),o.beginPath();for(var f=0,g=s.ops;f<g.length;f++){var m=g[f],b="number"==typeof c&&c>=0?m.data.map(function(o){return+o.toFixed(c)}):m.data;switch(m.op){case"move":o.moveTo(b[0],b[1]);break;case"bcurveTo":o.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5]);break;case"lineTo":o.lineTo(b[0],b[1])}}"fillPath"===s.type?o.fill(p):o.stroke()},Object.defineProperty(t.prototype,"generator",{get:function(){return this.gen},enumerable:!1,configurable:!0}),t.prototype.getDefaultOptions=function(){return this.gen.defaultOptions},t.prototype.line=function(o,s,c,p,f){var g=this.gen.line(o,s,c,p,f);return this.draw(g),g},t.prototype.rectangle=function(o,s,c,p,f){var g=this.gen.rectangle(o,s,c,p,f);return this.draw(g),g},t.prototype.ellipse=function(o,s,c,p,f){var g=this.gen.ellipse(o,s,c,p,f);return this.draw(g),g},t.prototype.circle=function(o,s,c,p){var f=this.gen.circle(o,s,c,p);return this.draw(f),f},t.prototype.linearPath=function(o,s){var c=this.gen.linearPath(o,s);return this.draw(c),c},t.prototype.polygon=function(o,s){var c=this.gen.polygon(o,s);return this.draw(c),c},t.prototype.arc=function(o,s,c,p,f,g,m,b){void 0===m&&(m=!1);var k=this.gen.arc(o,s,c,p,f,g,m,b);return this.draw(k),k},t.prototype.curve=function(o,s){var c=this.gen.curve(o,s);return this.draw(c),c},t.prototype.path=function(o,s){var c=this.gen.path(o,s);return this.draw(c),c},t}(),tr="http://www.w3.org/2000/svg",ti=function(){function t(o,s){this.svg=o,this.gen=new J(s)}return t.prototype.draw=function(o){for(var s=o.sets||[],c=o.options||this.getDefaultOptions(),p=this.svg.ownerDocument||window.document,f=p.createElementNS(tr,"g"),g=o.options.fixedDecimalPlaceDigits,m=0;m<s.length;m++){var b=s[m],k=null;switch(b.type){case"path":(k=p.createElementNS(tr,"path")).setAttribute("d",this.opsToPath(b,g)),k.setAttribute("stroke",c.stroke),k.setAttribute("stroke-width",c.strokeWidth+""),k.setAttribute("fill","none"),c.strokeLineDash&&k.setAttribute("stroke-dasharray",c.strokeLineDash.join(" ").trim()),c.strokeLineDashOffset&&k.setAttribute("stroke-dashoffset","".concat(c.strokeLineDashOffset));break;case"fillPath":(k=p.createElementNS(tr,"path")).setAttribute("d",this.opsToPath(b,g)),k.setAttribute("stroke","none"),k.setAttribute("stroke-width","0"),k.setAttribute("fill",c.fill||""),"curve"!==o.shape&&"polygon"!==o.shape||k.setAttribute("fill-rule","evenodd");break;case"fillSketch":k=this.fillSketch(p,b,c)}k&&f.appendChild(k)}return f},t.prototype.fillSketch=function(o,s,c){var p=c.fillWeight;p<0&&(p=c.strokeWidth/2);var f=o.createElementNS(tr,"path");return f.setAttribute("d",this.opsToPath(s,c.fixedDecimalPlaceDigits)),f.setAttribute("stroke",c.fill||""),f.setAttribute("stroke-width",p+""),f.setAttribute("fill","none"),c.fillLineDash&&f.setAttribute("stroke-dasharray",c.fillLineDash.join(" ").trim()),c.fillLineDashOffset&&f.setAttribute("stroke-dashoffset","".concat(c.fillLineDashOffset)),f},Object.defineProperty(t.prototype,"generator",{get:function(){return this.gen},enumerable:!1,configurable:!0}),t.prototype.getDefaultOptions=function(){return this.gen.defaultOptions},t.prototype.opsToPath=function(o,s){return this.gen.opsToPath(o,s)},t.prototype.line=function(o,s,c,p,f){var g=this.gen.line(o,s,c,p,f);return this.draw(g)},t.prototype.rectangle=function(o,s,c,p,f){var g=this.gen.rectangle(o,s,c,p,f);return this.draw(g)},t.prototype.ellipse=function(o,s,c,p,f){var g=this.gen.ellipse(o,s,c,p,f);return this.draw(g)},t.prototype.circle=function(o,s,c,p){var f=this.gen.circle(o,s,c,p);return this.draw(f)},t.prototype.linearPath=function(o,s){var c=this.gen.linearPath(o,s);return this.draw(c)},t.prototype.polygon=function(o,s){var c=this.gen.polygon(o,s);return this.draw(c)},t.prototype.arc=function(o,s,c,p,f,g,m,b){void 0===m&&(m=!1);var k=this.gen.arc(o,s,c,p,f,g,m,b);return this.draw(k)},t.prototype.curve=function(o,s){var c=this.gen.curve(o,s);return this.draw(c)},t.prototype.path=function(o,s){var c=this.gen.path(o,s);return this.draw(c)},t}();o.exports={canvas:function(o,s){return new te(o,s)},svg:function(o,s){return new ti(o,s)},generator:function(o){return new J(o)},newSeed:function(){return J.newSeed()}}},8862:(o,s)=>{"use strict";s.Zc=void 0,s.Zc=function(o){for(var s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];var p=Array.from("string"==typeof o?[o]:o);p[p.length-1]=p[p.length-1].replace(/\r?\n([\t ]*)$/,"");var f=p.reduce(function(o,s){var c=s.match(/\n([\t ]+|(?!\s).)/g);return c?o.concat(c.map(function(o){var s,c;return null!==(c=null===(s=o.match(/[\t ]/g))||void 0===s?void 0:s.length)&&void 0!==c?c:0})):o},[]);if(f.length){var g=RegExp("\n[	 ]{"+Math.min.apply(Math,f)+"}","g");p=p.map(function(o){return o.replace(g,"\n")})}p[0]=p[0].replace(/^\r?\n/,"");var m=p[0];return s.forEach(function(o,s){var c=m.match(/(?:^|\n)( *)$/),f=c?c[1]:"",g=o;"string"==typeof o&&o.includes("\n")&&(g=String(o).split("\n").map(function(o,s){return 0===s?o:""+f+o}).join("\n")),m+=g+p[s+1]}),m}},4665:(o,s,c)=>{"use strict";function max(o,s){let c;if(void 0===s)for(let s of o)null!=s&&(c<s||void 0===c&&s>=s)&&(c=s);else{let p=-1;for(let f of o)null!=(f=s(f,++p,o))&&(c<f||void 0===c&&f>=f)&&(c=f)}return c}function min(o,s){let c;if(void 0===s)for(let s of o)null!=s&&(c>s||void 0===c&&s>=s)&&(c=s);else{let p=-1;for(let f of o)null!=(f=s(f,++p,o))&&(c>f||void 0===c&&f>=f)&&(c=f)}return c}function src_identity(o){return o}function translateX(o){return"translate("+o+",0)"}function translateY(o){return"translate(0,"+o+")"}function entering(){return!this.__axis}function axis(o,s){var c=[],p=null,f=null,g=6,m=6,b=3,k="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,B=1===o||4===o?-1:1,L=4===o||2===o?"x":"y",X=1===o||3===o?translateX:translateY;function axis(J){var te=null==p?s.ticks?s.ticks.apply(s,c):s.domain():p,tr=null==f?s.tickFormat?s.tickFormat.apply(s,c):src_identity:f,ti=Math.max(g,0)+b,tn=s.range(),ta=+tn[0]+k,to=+tn[tn.length-1]+k,ts=(s.bandwidth?function(o,s){return s=Math.max(0,o.bandwidth()-2*s)/2,o.round()&&(s=Math.round(s)),c=>+o(c)+s}:function(o){return s=>+o(s)})(s.copy(),k),tl=J.selection?J.selection():J,th=tl.selectAll(".domain").data([null]),tc=tl.selectAll(".tick").data(te,s).order(),tu=tc.exit(),td=tc.enter().append("g").attr("class","tick"),tp=tc.select("line"),tf=tc.select("text");th=th.merge(th.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),tc=tc.merge(td),tp=tp.merge(td.append("line").attr("stroke","currentColor").attr(L+"2",B*g)),tf=tf.merge(td.append("text").attr("fill","currentColor").attr(L,B*ti).attr("dy",1===o?"0em":3===o?"0.71em":"0.32em")),J!==tl&&(th=th.transition(J),tc=tc.transition(J),tp=tp.transition(J),tf=tf.transition(J),tu=tu.transition(J).attr("opacity",1e-6).attr("transform",function(o){return isFinite(o=ts(o))?X(o+k):this.getAttribute("transform")}),td.attr("opacity",1e-6).attr("transform",function(o){var s=this.parentNode.__axis;return X((s&&isFinite(s=s(o))?s:ts(o))+k)})),tu.remove(),th.attr("d",4===o||2===o?m?"M"+B*m+","+ta+"H"+k+"V"+to+"H"+B*m:"M"+k+","+ta+"V"+to:m?"M"+ta+","+B*m+"V"+k+"H"+to+"V"+B*m:"M"+ta+","+k+"H"+to),tc.attr("opacity",1).attr("transform",function(o){return X(ts(o)+k)}),tp.attr(L+"2",B*g),tf.attr(L,B*ti).text(tr),tl.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===o?"start":4===o?"end":"middle"),tl.each(function(){this.__axis=ts})}return axis.scale=function(o){return arguments.length?(s=o,axis):s},axis.ticks=function(){return c=Array.from(arguments),axis},axis.tickArguments=function(o){return arguments.length?(c=null==o?[]:Array.from(o),axis):c.slice()},axis.tickValues=function(o){return arguments.length?(p=null==o?null:Array.from(o),axis):p&&p.slice()},axis.tickFormat=function(o){return arguments.length?(f=o,axis):f},axis.tickSize=function(o){return arguments.length?(g=m=+o,axis):g},axis.tickSizeInner=function(o){return arguments.length?(g=+o,axis):g},axis.tickSizeOuter=function(o){return arguments.length?(m=+o,axis):m},axis.tickPadding=function(o){return arguments.length?(b=+o,axis):b},axis.offset=function(o){return arguments.length?(k=+o,axis):k},axis}function axisTop(o){return axis(1,o)}function axisBottom(o){return axis(3,o)}function none(){}function selector(o){return null==o?none:function(){return this.querySelector(o)}}function empty(){return[]}function selectorAll(o){return null==o?empty:function(){return this.querySelectorAll(o)}}function matcher(o){return function(){return this.matches(o)}}function childMatcher(o){return function(s){return s.matches(o)}}c.d(s,{Nb1:()=>arc,LLu:()=>axisBottom,F5q:()=>axisTop,$0Z:()=>curve_basis,Dts:()=>curve_basisClosed,WQY:()=>basisOpen,qpX:()=>bumpX,u93:()=>bumpY,tFB:()=>eG,YY7:()=>eK,OvA:()=>eQ,dCK:()=>eJ,zgE:()=>e0,fGX:()=>e1,$m7:()=>e2,c_6:()=>curve_linear,fxm:()=>linearClosed,FdL:()=>monotoneX,ak_:()=>monotoneY,SxZ:()=>natural,eA_:()=>step,jsv:()=>stepAfter,iJ:()=>stepBefore,JHv:()=>tH,jvg:()=>line,Fp7:()=>max,VV$:()=>min,ve8:()=>pie,tiA:()=>function band(){var o,s,c=ordinal().unknown(void 0),p=c.domain,f=c.range,g=0,m=1,b=!1,k=0,B=0,L=.5;function rescale(){var c=p().length,X=m<g,J=X?m:g,te=X?g:m;o=(te-J)/Math.max(1,c-k+2*B),b&&(o=Math.floor(o)),J+=(te-J-o*(c-k))*L,s=o*(1-k),b&&(J=Math.round(J),s=Math.round(s));var tr=(function(o,s,c){o=+o,s=+s,c=(f=arguments.length)<2?(s=o,o=0,1):f<3?1:+c;for(var p=-1,f=0|Math.max(0,Math.ceil((s-o)/c)),g=Array(f);++p<f;)g[p]=o+p*c;return g})(c).map(function(s){return J+o*s});return f(X?tr.reverse():tr)}return delete c.unknown,c.domain=function(o){return arguments.length?(p(o),rescale()):p()},c.range=function(o){return arguments.length?([g,m]=o,g=+g,m=+m,rescale()):[g,m]},c.rangeRound=function(o){return[g,m]=o,g=+g,m=+m,b=!0,rescale()},c.bandwidth=function(){return s},c.step=function(){return o},c.round=function(o){return arguments.length?(b=!!o,rescale()):b},c.padding=function(o){return arguments.length?(k=Math.min(1,B=+o),rescale()):k},c.paddingInner=function(o){return arguments.length?(k=Math.min(1,o),rescale()):k},c.paddingOuter=function(o){return arguments.length?(B=+o,rescale()):B},c.align=function(o){return arguments.length?(L=Math.max(0,Math.min(1,o)),rescale()):L},c.copy=function(){return band(p(),[g,m]).round(b).paddingInner(k).paddingOuter(B).align(L)},initRange.apply(rescale(),arguments)},BYU:()=>function linear_linear(){var o,s=continuous();return s.copy=function(){return copy(s,linear_linear())},initRange.apply(s,arguments),o=s.domain,s.ticks=function(s){var c=o();return function(o,s,c){if(s=+s,o=+o,!((c=+c)>0))return[];if(o===s)return[o];let p=s<o,[f,g,m]=p?tickSpec(s,o,c):tickSpec(o,s,c);if(!(g>=f))return[];let b=g-f+1,k=Array(b);if(p){if(m<0)for(let o=0;o<b;++o)k[o]=-((g-o)/m);else for(let o=0;o<b;++o)k[o]=(g-o)*m}else if(m<0)for(let o=0;o<b;++o)k[o]=-((f+o)/m);else for(let o=0;o<b;++o)k[o]=(f+o)*m;return k}(c[0],c[c.length-1],null==s?10:s)},s.tickFormat=function(s,c){var p=o();return function(o,s,c,p){var f,g,m=tickStep(o,s,c);switch((p=formatSpecifier(null==p?",f":p)).type){case"s":var b=Math.max(Math.abs(o),Math.abs(s));return null!=p.precision||isNaN(g=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(b)/3)))-exponent(Math.abs(m))))||(p.precision=g),te(p,b);case"":case"e":case"g":case"p":case"r":null!=p.precision||isNaN(g=Math.max(0,exponent(Math.abs(Math.max(Math.abs(o),Math.abs(s)))-(f=Math.abs(f=m)))-exponent(f))+1)||(p.precision=g-("e"===p.type));break;case"f":case"%":null!=p.precision||isNaN(g=Math.max(0,-exponent(Math.abs(m))))||(p.precision=g-("%"===p.type)*2)}return J(p)}(p[0],p[p.length-1],null==s?10:s,c)},s.nice=function(c){null==c&&(c=10);var p,f,g=o(),m=0,b=g.length-1,k=g[m],B=g[b],L=10;for(B<k&&(f=k,k=B,B=f,f=m,m=b,b=f);L-- >0;){if((f=tickIncrement(k,B,c))===p)return g[m]=k,g[b]=B,o(g);if(f>0)k=Math.floor(k/f)*f,B=Math.ceil(B/f)*f;else if(f<0)k=Math.ceil(k*f)/f,B=Math.floor(B*f)/f;else break;p=f}return s},s},PKp:()=>ordinal,Xf:()=>time,K2I:()=>eD,Ys:()=>src_select,rr1:()=>es,i$Z:()=>ti,y2j:()=>eg,WQD:()=>ea,U8T:()=>ee,Z_i:()=>ei,Ox9:()=>eu,F0B:()=>ev,LqH:()=>em,S1K:()=>er,Zyz:()=>ec,Igq:()=>ef,YDX:()=>ed,EFj:()=>ep});var p=Array.prototype.find;function childFirst(){return this.firstElementChild}var f=Array.prototype.filter;function children(){return Array.from(this.children)}function sparse(o){return Array(o.length)}function EnterNode(o,s){this.ownerDocument=o.ownerDocument,this.namespaceURI=o.namespaceURI,this._next=null,this._parent=o,this.__data__=s}function bindIndex(o,s,c,p,f,g){for(var m,b=0,k=s.length,B=g.length;b<B;++b)(m=s[b])?(m.__data__=g[b],p[b]=m):c[b]=new EnterNode(o,g[b]);for(;b<k;++b)(m=s[b])&&(f[b]=m)}function bindKey(o,s,c,p,f,g,m){var b,k,B,L=new Map,X=s.length,J=g.length,te=Array(X);for(b=0;b<X;++b)(k=s[b])&&(te[b]=B=m.call(k,k.__data__,b,s)+"",L.has(B)?f[b]=k:L.set(B,k));for(b=0;b<J;++b)B=m.call(o,g[b],b,g)+"",(k=L.get(B))?(p[b]=k,k.__data__=g[b],L.delete(B)):c[b]=new EnterNode(o,g[b]);for(b=0;b<X;++b)(k=s[b])&&L.get(te[b])===k&&(f[b]=k)}function datum(o){return o.__data__}function ascending(o,s){return o<s?-1:o>s?1:o>=s?0:NaN}EnterNode.prototype={constructor:EnterNode,appendChild:function(o){return this._parent.insertBefore(o,this._next)},insertBefore:function(o,s){return this._parent.insertBefore(o,s)},querySelector:function(o){return this._parent.querySelector(o)},querySelectorAll:function(o){return this._parent.querySelectorAll(o)}};var g="http://www.w3.org/1999/xhtml";let m={svg:"http://www.w3.org/2000/svg",xhtml:g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(o){var s=o+="",c=s.indexOf(":");return c>=0&&"xmlns"!==(s=o.slice(0,c))&&(o=o.slice(c+1)),m.hasOwnProperty(s)?{space:m[s],local:o}:o}function src_window(o){return o.ownerDocument&&o.ownerDocument.defaultView||o.document&&o||o.defaultView}function styleValue(o,s){return o.style.getPropertyValue(s)||src_window(o).getComputedStyle(o,null).getPropertyValue(s)}function classArray(o){return o.trim().split(/^|\s+/)}function classList(o){return o.classList||new ClassList(o)}function ClassList(o){this._node=o,this._names=classArray(o.getAttribute("class")||"")}function classedAdd(o,s){for(var c=classList(o),p=-1,f=s.length;++p<f;)c.add(s[p])}function classedRemove(o,s){for(var c=classList(o),p=-1,f=s.length;++p<f;)c.remove(s[p])}function textRemove(){this.textContent=""}function htmlRemove(){this.innerHTML=""}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function creator(o){var s=namespace(o);return(s.local?function(o){return function(){return this.ownerDocument.createElementNS(o.space,o.local)}}:function(o){return function(){var s=this.ownerDocument,c=this.namespaceURI;return c===g&&s.documentElement.namespaceURI===g?s.createElement(o):s.createElementNS(c,o)}})(s)}function constantNull(){return null}function remove(){var o=this.parentNode;o&&o.removeChild(this)}function selection_cloneShallow(){var o=this.cloneNode(!1),s=this.parentNode;return s?s.insertBefore(o,this.nextSibling):o}function selection_cloneDeep(){var o=this.cloneNode(!0),s=this.parentNode;return s?s.insertBefore(o,this.nextSibling):o}function onRemove(o){return function(){var s=this.__on;if(s){for(var c,p=0,f=-1,g=s.length;p<g;++p)(c=s[p],o.type&&c.type!==o.type||c.name!==o.name)?s[++f]=c:this.removeEventListener(c.type,c.listener,c.options);++f?s.length=f:delete this.__on}}}function onAdd(o,s,c){return function(){var p,f=this.__on,listener=function(o){s.call(this,o,this.__data__)};if(f){for(var g=0,m=f.length;g<m;++g)if((p=f[g]).type===o.type&&p.name===o.name){this.removeEventListener(p.type,p.listener,p.options),this.addEventListener(p.type,p.listener=listener,p.options=c),p.value=s;return}}this.addEventListener(o.type,listener,c),p={type:o.type,name:o.name,value:s,listener:listener,options:c},f?f.push(p):this.__on=[p]}}function dispatchEvent(o,s,c){var p=src_window(o),f=p.CustomEvent;"function"==typeof f?f=new f(s,c):(f=p.document.createEvent("Event"),c?(f.initEvent(s,c.bubbles,c.cancelable),f.detail=c.detail):f.initEvent(s,!1,!1)),o.dispatchEvent(f)}ClassList.prototype={add:function(o){0>this._names.indexOf(o)&&(this._names.push(o),this._node.setAttribute("class",this._names.join(" ")))},remove:function(o){var s=this._names.indexOf(o);s>=0&&(this._names.splice(s,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(o){return this._names.indexOf(o)>=0}};var b=[null];function Selection(o,s){this._groups=o,this._parents=s}function selection(){return new Selection([[document.documentElement]],b)}Selection.prototype=selection.prototype={constructor:Selection,select:function(o){"function"!=typeof o&&(o=selector(o));for(var s=this._groups,c=s.length,p=Array(c),f=0;f<c;++f)for(var g,m,b=s[f],k=b.length,B=p[f]=Array(k),L=0;L<k;++L)(g=b[L])&&(m=o.call(g,g.__data__,L,b))&&("__data__"in g&&(m.__data__=g.__data__),B[L]=m);return new Selection(p,this._parents)},selectAll:function(o){if("function"==typeof o){var s;s=o,o=function(){var o;return o=s.apply(this,arguments),null==o?[]:Array.isArray(o)?o:Array.from(o)}}else o=selectorAll(o);for(var c=this._groups,p=c.length,f=[],g=[],m=0;m<p;++m)for(var b,k=c[m],B=k.length,L=0;L<B;++L)(b=k[L])&&(f.push(o.call(b,b.__data__,L,k)),g.push(b));return new Selection(f,g)},selectChild:function(o){var s;return this.select(null==o?childFirst:(s="function"==typeof o?o:childMatcher(o),function(){return p.call(this.children,s)}))},selectChildren:function(o){var s;return this.selectAll(null==o?children:(s="function"==typeof o?o:childMatcher(o),function(){return f.call(this.children,s)}))},filter:function(o){"function"!=typeof o&&(o=matcher(o));for(var s=this._groups,c=s.length,p=Array(c),f=0;f<c;++f)for(var g,m=s[f],b=m.length,k=p[f]=[],B=0;B<b;++B)(g=m[B])&&o.call(g,g.__data__,B,m)&&k.push(g);return new Selection(p,this._parents)},data:function(o,s){if(!arguments.length)return Array.from(this,datum);var c=s?bindKey:bindIndex,p=this._parents,f=this._groups;"function"!=typeof o&&(to=o,o=function(){return to});for(var g=f.length,m=Array(g),b=Array(g),k=Array(g),B=0;B<g;++B){var L=p[B],X=f[B],J=X.length,te="object"==typeof(ta=o.call(L,L&&L.__data__,B,p))&&"length"in ta?ta:Array.from(ta),tr=te.length,ti=b[B]=Array(tr),tn=m[B]=Array(tr);c(L,X,ti,tn,k[B]=Array(J),te,s);for(var ta,to,ts,tl,th=0,tc=0;th<tr;++th)if(ts=ti[th]){for(th>=tc&&(tc=th+1);!(tl=tn[tc])&&++tc<tr;);ts._next=tl||null}}return(m=new Selection(m,p))._enter=b,m._exit=k,m},enter:function(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function(o,s,c){var p=this.enter(),f=this,g=this.exit();return"function"==typeof o?(p=o(p))&&(p=p.selection()):p=p.append(o+""),null!=s&&(f=s(f))&&(f=f.selection()),null==c?g.remove():c(g),p&&f?p.merge(f).order():f},merge:function(o){for(var s=o.selection?o.selection():o,c=this._groups,p=s._groups,f=c.length,g=p.length,m=Math.min(f,g),b=Array(f),k=0;k<m;++k)for(var B,L=c[k],X=p[k],J=L.length,te=b[k]=Array(J),tr=0;tr<J;++tr)(B=L[tr]||X[tr])&&(te[tr]=B);for(;k<f;++k)b[k]=c[k];return new Selection(b,this._parents)},selection:function(){return this},order:function(){for(var o=this._groups,s=-1,c=o.length;++s<c;)for(var p,f=o[s],g=f.length-1,m=f[g];--g>=0;)(p=f[g])&&(m&&4^p.compareDocumentPosition(m)&&m.parentNode.insertBefore(p,m),m=p);return this},sort:function(o){function compareNode(s,c){return s&&c?o(s.__data__,c.__data__):!s-!c}o||(o=ascending);for(var s=this._groups,c=s.length,p=Array(c),f=0;f<c;++f){for(var g,m=s[f],b=m.length,k=p[f]=Array(b),B=0;B<b;++B)(g=m[B])&&(k[B]=g);k.sort(compareNode)}return new Selection(p,this._parents).order()},call:function(){var o=arguments[0];return arguments[0]=this,o.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var o=this._groups,s=0,c=o.length;s<c;++s)for(var p=o[s],f=0,g=p.length;f<g;++f){var m=p[f];if(m)return m}return null},size:function(){let o=0;for(let s of this)++o;return o},empty:function(){return!this.node()},each:function(o){for(var s=this._groups,c=0,p=s.length;c<p;++c)for(var f,g=s[c],m=0,b=g.length;m<b;++m)(f=g[m])&&o.call(f,f.__data__,m,g);return this},attr:function(o,s){var c=namespace(o);if(arguments.length<2){var p=this.node();return c.local?p.getAttributeNS(c.space,c.local):p.getAttribute(c)}return this.each((null==s?c.local?function(o){return function(){this.removeAttributeNS(o.space,o.local)}}:function(o){return function(){this.removeAttribute(o)}}:"function"==typeof s?c.local?function(o,s){return function(){var c=s.apply(this,arguments);null==c?this.removeAttributeNS(o.space,o.local):this.setAttributeNS(o.space,o.local,c)}}:function(o,s){return function(){var c=s.apply(this,arguments);null==c?this.removeAttribute(o):this.setAttribute(o,c)}}:c.local?function(o,s){return function(){this.setAttributeNS(o.space,o.local,s)}}:function(o,s){return function(){this.setAttribute(o,s)}})(c,s))},style:function(o,s,c){return arguments.length>1?this.each((null==s?function(o){return function(){this.style.removeProperty(o)}}:"function"==typeof s?function(o,s,c){return function(){var p=s.apply(this,arguments);null==p?this.style.removeProperty(o):this.style.setProperty(o,p,c)}}:function(o,s,c){return function(){this.style.setProperty(o,s,c)}})(o,s,null==c?"":c)):styleValue(this.node(),o)},property:function(o,s){return arguments.length>1?this.each((null==s?function(o){return function(){delete this[o]}}:"function"==typeof s?function(o,s){return function(){var c=s.apply(this,arguments);null==c?delete this[o]:this[o]=c}}:function(o,s){return function(){this[o]=s}})(o,s)):this.node()[o]},classed:function(o,s){var c=classArray(o+"");if(arguments.length<2){for(var p=classList(this.node()),f=-1,g=c.length;++f<g;)if(!p.contains(c[f]))return!1;return!0}return this.each(("function"==typeof s?function(o,s){return function(){(s.apply(this,arguments)?classedAdd:classedRemove)(this,o)}}:s?function(o){return function(){classedAdd(this,o)}}:function(o){return function(){classedRemove(this,o)}})(c,s))},text:function(o){return arguments.length?this.each(null==o?textRemove:("function"==typeof o?function(o){return function(){var s=o.apply(this,arguments);this.textContent=null==s?"":s}}:function(o){return function(){this.textContent=o}})(o)):this.node().textContent},html:function(o){return arguments.length?this.each(null==o?htmlRemove:("function"==typeof o?function(o){return function(){var s=o.apply(this,arguments);this.innerHTML=null==s?"":s}}:function(o){return function(){this.innerHTML=o}})(o)):this.node().innerHTML},raise:function(){return this.each(raise)},lower:function(){return this.each(lower)},append:function(o){var s="function"==typeof o?o:creator(o);return this.select(function(){return this.appendChild(s.apply(this,arguments))})},insert:function(o,s){var c="function"==typeof o?o:creator(o),p=null==s?constantNull:"function"==typeof s?s:selector(s);return this.select(function(){return this.insertBefore(c.apply(this,arguments),p.apply(this,arguments)||null)})},remove:function(){return this.each(remove)},clone:function(o){return this.select(o?selection_cloneDeep:selection_cloneShallow)},datum:function(o){return arguments.length?this.property("__data__",o):this.node().__data__},on:function(o,s,c){var p,f,g=(o+"").trim().split(/^|\s+/).map(function(o){var s="",c=o.indexOf(".");return c>=0&&(s=o.slice(c+1),o=o.slice(0,c)),{type:o,name:s}}),m=g.length;if(arguments.length<2){var b=this.node().__on;if(b){for(var k,B=0,L=b.length;B<L;++B)for(p=0,k=b[B];p<m;++p)if((f=g[p]).type===k.type&&f.name===k.name)return k.value}return}for(p=0,b=s?onAdd:onRemove;p<m;++p)this.each(b(g[p],s,c));return this},dispatch:function(o,s){return this.each(("function"==typeof s?function(o,s){return function(){return dispatchEvent(this,o,s.apply(this,arguments))}}:function(o,s){return function(){return dispatchEvent(this,o,s)}})(o,s))},[Symbol.iterator]:function*(){for(var o=this._groups,s=0,c=o.length;s<c;++s)for(var p,f=o[s],g=0,m=f.length;g<m;++g)(p=f[g])&&(yield p)}};var k={value:()=>{}};function dispatch_dispatch(){for(var o,s=0,c=arguments.length,p={};s<c;++s){if(!(o=arguments[s]+"")||o in p||/[\s.]/.test(o))throw Error("illegal type: "+o);p[o]=[]}return new Dispatch(p)}function Dispatch(o){this._=o}function set(o,s,c){for(var p=0,f=o.length;p<f;++p)if(o[p].name===s){o[p]=k,o=o.slice(0,p).concat(o.slice(p+1));break}return null!=c&&o.push({name:s,value:c}),o}Dispatch.prototype=dispatch_dispatch.prototype={constructor:Dispatch,on:function(o,s){var c,p=this._,f=(o+"").trim().split(/^|\s+/).map(function(o){var s="",c=o.indexOf(".");if(c>=0&&(s=o.slice(c+1),o=o.slice(0,c)),o&&!p.hasOwnProperty(o))throw Error("unknown type: "+o);return{type:o,name:s}}),g=-1,m=f.length;if(arguments.length<2){for(;++g<m;)if((c=(o=f[g]).type)&&(c=function(o,s){for(var c,p=0,f=o.length;p<f;++p)if((c=o[p]).name===s)return c.value}(p[c],o.name)))return c;return}if(null!=s&&"function"!=typeof s)throw Error("invalid callback: "+s);for(;++g<m;)if(c=(o=f[g]).type)p[c]=set(p[c],o.name,s);else if(null==s)for(c in p)p[c]=set(p[c],o.name,null);return this},copy:function(){var o={},s=this._;for(var c in s)o[c]=s[c].slice();return new Dispatch(o)},call:function(o,s){if((c=arguments.length-2)>0)for(var c,p,f=Array(c),g=0;g<c;++g)f[g]=arguments[g+2];if(!this._.hasOwnProperty(o))throw Error("unknown type: "+o);for(p=this._[o],g=0,c=p.length;g<c;++g)p[g].value.apply(s,f)},apply:function(o,s,c){if(!this._.hasOwnProperty(o))throw Error("unknown type: "+o);for(var p=this._[o],f=0,g=p.length;f<g;++f)p[f].value.apply(s,c)}};var B,L,X,J,te,tr,ti,tn,ta,to=0,ts=0,tl=0,th=0,tc=0,tu=0,td="object"==typeof performance&&performance.now?performance:Date,tp="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(o){setTimeout(o,17)};function now(){return tc||(tp(clearNow),tc=td.now()+tu)}function clearNow(){tc=0}function Timer(){this._call=this._time=this._next=null}function timer(o,s,c){var p=new Timer;return p.restart(o,s,c),p}function wake(){tc=(th=td.now())+tu,to=ts=0;try{!function(){now(),++to;for(var o,s=tn;s;)(o=tc-s._time)>=0&&s._call.call(void 0,o),s=s._next;--to}()}finally{to=0,function(){for(var o,s,c=tn,p=1/0;c;)c._call?(p>c._time&&(p=c._time),o=c,c=c._next):(s=c._next,c._next=null,c=o?o._next=s:tn=s);ta=o,sleep(p)}(),tc=0}}function poke(){var o=td.now(),s=o-th;s>1e3&&(tu-=s,th=o)}function sleep(o){!to&&(ts&&(ts=clearTimeout(ts)),o-tc>24?(o<1/0&&(ts=setTimeout(wake,o-td.now()-tu)),tl&&(tl=clearInterval(tl))):(tl||(th=td.now(),tl=setInterval(poke,1e3)),to=1,tp(wake)))}function src_timeout(o,s,c){var p=new Timer;return s=null==s?0:+s,p.restart(c=>{p.stop(),o(c+s)},s,c),p}Timer.prototype=timer.prototype={constructor:Timer,restart:function(o,s,c){if("function"!=typeof o)throw TypeError("callback is not a function");c=(null==c?now():+c)+(null==s?0:+s),this._next||ta===this||(ta?ta._next=this:tn=this,ta=this),this._call=o,this._time=c,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var tf=dispatch_dispatch("start","end","cancel","interrupt"),tg=[];function schedule(o,s,c,p,f,g){var m=o.__transition;if(m){if(c in m)return}else o.__transition={};(function(o,s,c){var p,f=o.__transition;function start(g){var m,b,k,B;if(1!==c.state)return stop();for(m in f)if((B=f[m]).name===c.name){if(3===B.state)return src_timeout(start);4===B.state?(B.state=6,B.timer.stop(),B.on.call("interrupt",o,o.__data__,B.index,B.group),delete f[m]):+m<s&&(B.state=6,B.timer.stop(),B.on.call("cancel",o,o.__data__,B.index,B.group),delete f[m])}if(src_timeout(function(){3===c.state&&(c.state=4,c.timer.restart(tick,c.delay,c.time),tick(g))}),c.state=2,c.on.call("start",o,o.__data__,c.index,c.group),2===c.state){for(m=0,c.state=3,p=Array(k=c.tween.length),b=-1;m<k;++m)(B=c.tween[m].value.call(o,o.__data__,c.index,c.group))&&(p[++b]=B);p.length=b+1}}function tick(s){for(var f=s<c.duration?c.ease.call(null,s/c.duration):(c.timer.restart(stop),c.state=5,1),g=-1,m=p.length;++g<m;)p[g].call(o,f);5===c.state&&(c.on.call("end",o,o.__data__,c.index,c.group),stop())}function stop(){for(var p in c.state=6,c.timer.stop(),delete f[s],f)return;delete o.__transition}f[s]=c,c.timer=timer(function(o){c.state=1,c.timer.restart(start,c.delay,c.time),c.delay<=o&&start(o-c.delay)},0,c.time)})(o,c,{name:s,index:p,group:f,on:tf,tween:tg,time:g.time,delay:g.delay,duration:g.duration,ease:g.ease,timer:null,state:0})}function init(o,s){var c=schedule_get(o,s);if(c.state>0)throw Error("too late; already scheduled");return c}function schedule_set(o,s){var c=schedule_get(o,s);if(c.state>3)throw Error("too late; already running");return c}function schedule_get(o,s){var c=o.__transition;if(!c||!(c=c[s]))throw Error("transition not found");return c}function src_number(o,s){return o=+o,s=+s,function(c){return o*(1-c)+s*c}}var tm=180/Math.PI,ty={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(o,s,c,p,f,g){var m,b,k;return(m=Math.sqrt(o*o+s*s))&&(o/=m,s/=m),(k=o*c+s*p)&&(c-=o*k,p-=s*k),(b=Math.sqrt(c*c+p*p))&&(c/=b,p/=b,k/=b),o*p<s*c&&(o=-o,s=-s,k=-k,m=-m),{translateX:f,translateY:g,rotate:Math.atan2(s,o)*tm,skewX:Math.atan(k)*tm,scaleX:m,scaleY:b}}function interpolateTransform(o,s,c,p){function pop(o){return o.length?o.pop()+" ":""}return function(f,g){var m,b,k,B,L=[],X=[];return f=o(f),g=o(g),function(o,p,f,g,m,b){if(o!==f||p!==g){var k=m.push("translate(",null,s,null,c);b.push({i:k-4,x:src_number(o,f)},{i:k-2,x:src_number(p,g)})}else(f||g)&&m.push("translate("+f+s+g+c)}(f.translateX,f.translateY,g.translateX,g.translateY,L,X),(m=f.rotate)!==(b=g.rotate)?(m-b>180?b+=360:b-m>180&&(m+=360),X.push({i:L.push(pop(L)+"rotate(",null,p)-2,x:src_number(m,b)})):b&&L.push(pop(L)+"rotate("+b+p),(k=f.skewX)!==(B=g.skewX)?X.push({i:L.push(pop(L)+"skewX(",null,p)-2,x:src_number(k,B)}):B&&L.push(pop(L)+"skewX("+B+p),function(o,s,c,p,f,g){if(o!==c||s!==p){var m=f.push(pop(f)+"scale(",null,",",null,")");g.push({i:m-4,x:src_number(o,c)},{i:m-2,x:src_number(s,p)})}else(1!==c||1!==p)&&f.push(pop(f)+"scale("+c+","+p+")")}(f.scaleX,f.scaleY,g.scaleX,g.scaleY,L,X),f=g=null,function(o){for(var s,c=-1,p=X.length;++c<p;)L[(s=X[c]).i]=s.x(o);return L.join("")}}}var t_=interpolateTransform(function(o){let s=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(o+"");return s.isIdentity?ty:decompose(s.a,s.b,s.c,s.d,s.e,s.f)},"px, ","px)","deg)"),tx=interpolateTransform(function(o){return null==o?ty:(B||(B=document.createElementNS("http://www.w3.org/2000/svg","g")),B.setAttribute("transform",o),o=B.transform.baseVal.consolidate())?decompose((o=o.matrix).a,o.b,o.c,o.d,o.e,o.f):ty},", ",")",")");function tweenValue(o,s,c){var p=o._id;return o.each(function(){var o=schedule_set(this,p);(o.value||(o.value={}))[s]=c.apply(this,arguments)}),function(o){return schedule_get(o,p).value[s]}}function src_define(o,s,c){o.prototype=s.prototype=c,c.constructor=o}function extend(o,s){var c=Object.create(o.prototype);for(var p in s)c[p]=s[p];return c}function Color(){}var tb="\\s*([+-]?\\d+)\\s*",tC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tk="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tw=/^#([0-9a-f]{3,8})$/,tv=RegExp(`^rgb\\(${tb},${tb},${tb}\\)$`),tT=RegExp(`^rgb\\(${tk},${tk},${tk}\\)$`),tS=RegExp(`^rgba\\(${tb},${tb},${tb},${tC}\\)$`),tM=RegExp(`^rgba\\(${tk},${tk},${tk},${tC}\\)$`),tA=RegExp(`^hsl\\(${tC},${tk},${tk}\\)$`),tB=RegExp(`^hsla\\(${tC},${tk},${tk},${tC}\\)$`),tL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(o){var s,c;return o=(o+"").trim().toLowerCase(),(s=tw.exec(o))?(c=s[1].length,s=parseInt(s[1],16),6===c?rgbn(s):3===c?new Rgb(s>>8&15|s>>4&240,s>>4&15|240&s,(15&s)<<4|15&s,1):8===c?rgba(s>>24&255,s>>16&255,s>>8&255,(255&s)/255):4===c?rgba(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|240&s,((15&s)<<4|15&s)/255):null):(s=tv.exec(o))?new Rgb(s[1],s[2],s[3],1):(s=tT.exec(o))?new Rgb(255*s[1]/100,255*s[2]/100,255*s[3]/100,1):(s=tS.exec(o))?rgba(s[1],s[2],s[3],s[4]):(s=tM.exec(o))?rgba(255*s[1]/100,255*s[2]/100,255*s[3]/100,s[4]):(s=tA.exec(o))?hsla(s[1],s[2]/100,s[3]/100,1):(s=tB.exec(o))?hsla(s[1],s[2]/100,s[3]/100,s[4]):tL.hasOwnProperty(o)?rgbn(tL[o]):"transparent"===o?new Rgb(NaN,NaN,NaN,0):null}function rgbn(o){return new Rgb(o>>16&255,o>>8&255,255&o,1)}function rgba(o,s,c,p){return p<=0&&(o=s=c=NaN),new Rgb(o,s,c,p)}function rgbConvert(o){return(o instanceof Color||(o=color(o)),o)?(o=o.rgb(),new Rgb(o.r,o.g,o.b,o.opacity)):new Rgb}function color_rgb(o,s,c,p){return 1==arguments.length?rgbConvert(o):new Rgb(o,s,c,null==p?1:p)}function Rgb(o,s,c,p){this.r=+o,this.g=+s,this.b=+c,this.opacity=+p}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatRgb(){let o=clampa(this.opacity);return`${1===o?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===o?")":`, ${o})`}`}function clampa(o){return isNaN(o)?1:Math.max(0,Math.min(1,o))}function clampi(o){return Math.max(0,Math.min(255,Math.round(o)||0))}function hex(o){return((o=clampi(o))<16?"0":"")+o.toString(16)}function hsla(o,s,c,p){return p<=0?o=s=c=NaN:c<=0||c>=1?o=s=NaN:s<=0&&(o=NaN),new Hsl(o,s,c,p)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var s=(o=o.rgb()).r/255,c=o.g/255,p=o.b/255,f=Math.min(s,c,p),g=Math.max(s,c,p),m=NaN,b=g-f,k=(g+f)/2;return b?(m=s===g?(c-p)/b+(c<p)*6:c===g?(p-s)/b+2:(s-c)/b+4,b/=k<.5?g+f:2-g-f,m*=60):b=k>0&&k<1?0:m,new Hsl(m,b,k,o.opacity)}function Hsl(o,s,c,p){this.h=+o,this.s=+s,this.l=+c,this.opacity=+p}function clamph(o){return(o=(o||0)%360)<0?o+360:o}function clampt(o){return Math.max(0,Math.min(1,o||0))}function hsl2rgb(o,s,c){return(o<60?s+(c-s)*o/60:o<180?c:o<240?s+(c-s)*(240-o)/60:s)*255}function basis(o,s,c,p,f){var g=o*o,m=g*o;return((1-3*o+3*g-m)*s+(4-6*g+3*m)*c+(1+3*o+3*g-3*m)*p+m*f)/6}src_define(Color,color,{copy(o){return Object.assign(new this.constructor,this,o)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),src_define(Rgb,color_rgb,extend(Color,{brighter(o){return o=null==o?1.4285714285714286:Math.pow(1.4285714285714286,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},darker(o){return o=null==o?.7:Math.pow(.7,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),src_define(Hsl,function(o,s,c,p){return 1==arguments.length?hslConvert(o):new Hsl(o,s,c,null==p?1:p)},extend(Color,{brighter(o){return o=null==o?1.4285714285714286:Math.pow(1.4285714285714286,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},darker(o){return o=null==o?.7:Math.pow(.7,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},rgb(){var o=this.h%360+(this.h<0)*360,s=isNaN(o)||isNaN(this.s)?0:this.s,c=this.l,p=c+(c<.5?c:1-c)*s,f=2*c-p;return new Rgb(hsl2rgb(o>=240?o-240:o+120,f,p),hsl2rgb(o,f,p),hsl2rgb(o<120?o+240:o-120,f,p),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let o=clampa(this.opacity);return`${1===o?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===o?")":`, ${o})`}`}}));let d3_interpolate_src_constant=o=>()=>o;function linear(o,s){return function(c){return o+c*s}}function nogamma(o,s){var c=s-o;return c?linear(o,c):d3_interpolate_src_constant(isNaN(o)?s:o)}let tF=function rgbGamma(o){var s,c=1==(s=+(s=o))?nogamma:function(o,c){var p,f,g;return c-o?(p=o,f=c,p=Math.pow(p,g=s),f=Math.pow(f,g)-p,g=1/g,function(o){return Math.pow(p+o*f,g)}):d3_interpolate_src_constant(isNaN(o)?c:o)};function rgb(o,s){var p=c((o=color_rgb(o)).r,(s=color_rgb(s)).r),f=c(o.g,s.g),g=c(o.b,s.b),m=nogamma(o.opacity,s.opacity);return function(s){return o.r=p(s),o.g=f(s),o.b=g(s),o.opacity=m(s),o+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(o){return function(s){var c,p,f=s.length,g=Array(f),m=Array(f),b=Array(f);for(c=0;c<f;++c)p=color_rgb(s[c]),g[c]=p.r||0,m[c]=p.g||0,b[c]=p.b||0;return g=o(g),m=o(m),b=o(b),p.opacity=1,function(o){return p.r=g(o),p.g=m(o),p.b=b(o),p+""}}}rgbSpline(function(o){var s=o.length-1;return function(c){var p=c<=0?c=0:c>=1?(c=1,s-1):Math.floor(c*s),f=o[p],g=o[p+1],m=p>0?o[p-1]:2*f-g,b=p<s-1?o[p+2]:2*g-f;return basis((c-p/s)*s,m,f,g,b)}}),rgbSpline(function(o){var s=o.length;return function(c){var p=Math.floor(((c%=1)<0?++c:c)*s),f=o[(p+s-1)%s],g=o[p%s],m=o[(p+1)%s],b=o[(p+2)%s];return basis((c-p/s)*s,f,g,m,b)}});var tE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tW=RegExp(tE.source,"g");function string(o,s){var c,p,f,g,m,b=tE.lastIndex=tW.lastIndex=0,k=-1,B=[],L=[];for(o+="",s+="";(f=tE.exec(o))&&(g=tW.exec(s));)(m=g.index)>b&&(m=s.slice(b,m),B[k]?B[k]+=m:B[++k]=m),(f=f[0])===(g=g[0])?B[k]?B[k]+=g:B[++k]=g:(B[++k]=null,L.push({i:k,x:src_number(f,g)})),b=tW.lastIndex;return b<s.length&&(m=s.slice(b),B[k]?B[k]+=m:B[++k]=m),B.length<2?L[0]?(c=L[0].x,function(o){return c(o)+""}):(p=s,function(){return p}):(s=L.length,function(o){for(var c,p=0;p<s;++p)B[(c=L[p]).i]=c.x(o);return B.join("")})}function transition_interpolate(o,s){var c;return("number"==typeof s?src_number:s instanceof color?tF:(c=color(s))?(s=c,tF):string)(o,s)}var t$=selection.prototype.constructor;function style_styleRemove(o){return function(){this.style.removeProperty(o)}}var tP=0;function Transition(o,s,c,p){this._groups=o,this._parents=s,this._name=c,this._id=p}var tD=selection.prototype;Transition.prototype=(function(o){return selection().transition(o)}).prototype={constructor:Transition,select:function(o){var s=this._name,c=this._id;"function"!=typeof o&&(o=selector(o));for(var p=this._groups,f=p.length,g=Array(f),m=0;m<f;++m)for(var b,k,B=p[m],L=B.length,X=g[m]=Array(L),J=0;J<L;++J)(b=B[J])&&(k=o.call(b,b.__data__,J,B))&&("__data__"in b&&(k.__data__=b.__data__),X[J]=k,schedule(X[J],s,c,J,X,schedule_get(b,c)));return new Transition(g,this._parents,s,c)},selectAll:function(o){var s=this._name,c=this._id;"function"!=typeof o&&(o=selectorAll(o));for(var p=this._groups,f=p.length,g=[],m=[],b=0;b<f;++b)for(var k,B=p[b],L=B.length,X=0;X<L;++X)if(k=B[X]){for(var J,te=o.call(k,k.__data__,X,B),tr=schedule_get(k,c),ti=0,tn=te.length;ti<tn;++ti)(J=te[ti])&&schedule(J,s,c,ti,te,tr);g.push(te),m.push(k)}return new Transition(g,m,s,c)},selectChild:tD.selectChild,selectChildren:tD.selectChildren,filter:function(o){"function"!=typeof o&&(o=matcher(o));for(var s=this._groups,c=s.length,p=Array(c),f=0;f<c;++f)for(var g,m=s[f],b=m.length,k=p[f]=[],B=0;B<b;++B)(g=m[B])&&o.call(g,g.__data__,B,m)&&k.push(g);return new Transition(p,this._parents,this._name,this._id)},merge:function(o){if(o._id!==this._id)throw Error();for(var s=this._groups,c=o._groups,p=s.length,f=c.length,g=Math.min(p,f),m=Array(p),b=0;b<g;++b)for(var k,B=s[b],L=c[b],X=B.length,J=m[b]=Array(X),te=0;te<X;++te)(k=B[te]||L[te])&&(J[te]=k);for(;b<p;++b)m[b]=s[b];return new Transition(m,this._parents,this._name,this._id)},selection:function(){return new t$(this._groups,this._parents)},transition:function(){for(var o=this._name,s=this._id,c=++tP,p=this._groups,f=p.length,g=0;g<f;++g)for(var m,b=p[g],k=b.length,B=0;B<k;++B)if(m=b[B]){var L=schedule_get(m,s);schedule(m,o,c,B,b,{time:L.time+L.delay+L.duration,delay:0,duration:L.duration,ease:L.ease})}return new Transition(p,this._parents,o,c)},call:tD.call,nodes:tD.nodes,node:tD.node,size:tD.size,empty:tD.empty,each:tD.each,on:function(o,s){var c,p,f,g=this._id;return arguments.length<2?schedule_get(this.node(),g).on.on(o):this.each((f=(o+"").trim().split(/^|\s+/).every(function(o){var s=o.indexOf(".");return s>=0&&(o=o.slice(0,s)),!o||"start"===o})?init:schedule_set,function(){var m=f(this,g),b=m.on;b!==c&&(p=(c=b).copy()).on(o,s),m.on=p}))},attr:function(o,s){var c=namespace(o),p="transform"===c?tx:transition_interpolate;return this.attrTween(o,"function"==typeof s?(c.local?function(o,s,c){var p,f,g;return function(){var m,b,k=c(this);return null==k?void this.removeAttributeNS(o.space,o.local):(m=this.getAttributeNS(o.space,o.local))===(b=k+"")?null:m===p&&b===f?g:(f=b,g=s(p=m,k))}}:function(o,s,c){var p,f,g;return function(){var m,b,k=c(this);return null==k?void this.removeAttribute(o):(m=this.getAttribute(o))===(b=k+"")?null:m===p&&b===f?g:(f=b,g=s(p=m,k))}})(c,p,tweenValue(this,"attr."+o,s)):null==s?(c.local?function(o){return function(){this.removeAttributeNS(o.space,o.local)}}:function(o){return function(){this.removeAttribute(o)}})(c):(c.local?function(o,s,c){var p,f,g=c+"";return function(){var m=this.getAttributeNS(o.space,o.local);return m===g?null:m===p?f:f=s(p=m,c)}}:function(o,s,c){var p,f,g=c+"";return function(){var m=this.getAttribute(o);return m===g?null:m===p?f:f=s(p=m,c)}})(c,p,s))},attrTween:function(o,s){var c="attr."+o;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==s)return this.tween(c,null);if("function"!=typeof s)throw Error();var p=namespace(o);return this.tween(c,(p.local?function(o,s){var c,p;function tween(){var f=s.apply(this,arguments);return f!==p&&(c=(p=f)&&function(s){this.setAttributeNS(o.space,o.local,f.call(this,s))}),c}return tween._value=s,tween}:function(o,s){var c,p;function tween(){var f=s.apply(this,arguments);return f!==p&&(c=(p=f)&&function(s){this.setAttribute(o,f.call(this,s))}),c}return tween._value=s,tween})(p,s))},style:function(o,s,c){var p,f,g,m,b,k,B,L,X,J,te,tr,ti,tn,ta,to,ts,tl,th,tc,tu,td="transform"==(o+="")?t_:transition_interpolate;return null==s?this.styleTween(o,(p=o,function(){var o=styleValue(this,p),s=(this.style.removeProperty(p),styleValue(this,p));return o===s?null:o===f&&s===g?m:m=td(f=o,g=s)})).on("end.style."+o,style_styleRemove(o)):"function"==typeof s?this.styleTween(o,(b=o,k=tweenValue(this,"style."+o,s),function(){var o=styleValue(this,b),s=k(this),c=s+"";return null==s&&(this.style.removeProperty(b),c=s=styleValue(this,b)),o===c?null:o===B&&c===L?X:(L=c,X=td(B=o,s))})).each((J=this._id,ts="end."+(to="style."+(te=o)),function(){var o=schedule_set(this,J),s=o.on,c=null==o.value[to]?ta||(ta=style_styleRemove(te)):void 0;(s!==tr||tn!==c)&&(ti=(tr=s).copy()).on(ts,tn=c),o.on=ti})):this.styleTween(o,(tl=o,tu=s+"",function(){var o=styleValue(this,tl);return o===tu?null:o===th?tc:tc=td(th=o,s)}),c).on("end.style."+o,null)},styleTween:function(o,s,c){var p="style."+(o+="");if(arguments.length<2)return(p=this.tween(p))&&p._value;if(null==s)return this.tween(p,null);if("function"!=typeof s)throw Error();return this.tween(p,function(o,s,c){var p,f;function tween(){var g=s.apply(this,arguments);return g!==f&&(p=(f=g)&&function(s){this.style.setProperty(o,g.call(this,s),c)}),p}return tween._value=s,tween}(o,s,null==c?"":c))},text:function(o){var s,c;return this.tween("text","function"==typeof o?(s=tweenValue(this,"text",o),function(){var o=s(this);this.textContent=null==o?"":o}):(c=null==o?"":o+"",function(){this.textContent=c}))},textTween:function(o){var s="text";if(arguments.length<1)return(s=this.tween(s))&&s._value;if(null==o)return this.tween(s,null);if("function"!=typeof o)throw Error();return this.tween(s,function(o){var s,c;function tween(){var p=o.apply(this,arguments);return p!==c&&(s=(c=p)&&function(o){this.textContent=p.call(this,o)}),s}return tween._value=o,tween}(o))},remove:function(){var o;return this.on("end.remove",(o=this._id,function(){var s=this.parentNode;for(var c in this.__transition)if(+c!==o)return;s&&s.removeChild(this)}))},tween:function(o,s){var c=this._id;if(o+="",arguments.length<2){for(var p,f=schedule_get(this.node(),c).tween,g=0,m=f.length;g<m;++g)if((p=f[g]).name===o)return p.value;return null}return this.each((null==s?function(o,s){var c,p;return function(){var f=schedule_set(this,o),g=f.tween;if(g!==c){p=c=g;for(var m=0,b=p.length;m<b;++m)if(p[m].name===s){(p=p.slice()).splice(m,1);break}}f.tween=p}}:function(o,s,c){var p,f;if("function"!=typeof c)throw Error();return function(){var g=schedule_set(this,o),m=g.tween;if(m!==p){f=(p=m).slice();for(var b={name:s,value:c},k=0,B=f.length;k<B;++k)if(f[k].name===s){f[k]=b;break}k===B&&f.push(b)}g.tween=f}})(c,o,s))},delay:function(o){var s=this._id;return arguments.length?this.each(("function"==typeof o?function(o,s){return function(){init(this,o).delay=+s.apply(this,arguments)}}:function(o,s){return s=+s,function(){init(this,o).delay=s}})(s,o)):schedule_get(this.node(),s).delay},duration:function(o){var s=this._id;return arguments.length?this.each(("function"==typeof o?function(o,s){return function(){schedule_set(this,o).duration=+s.apply(this,arguments)}}:function(o,s){return s=+s,function(){schedule_set(this,o).duration=s}})(s,o)):schedule_get(this.node(),s).duration},ease:function(o){var s=this._id;return arguments.length?this.each(function(o,s){if("function"!=typeof s)throw Error();return function(){schedule_set(this,o).ease=s}}(s,o)):schedule_get(this.node(),s).ease},easeVarying:function(o){var s;if("function"!=typeof o)throw Error();return this.each((s=this._id,function(){var c=o.apply(this,arguments);if("function"!=typeof c)throw Error();schedule_set(this,s).ease=c}))},end:function(){var o,s,c=this,p=c._id,f=c.size();return new Promise(function(g,m){var b={value:m},k={value:function(){0==--f&&g()}};c.each(function(){var c=schedule_set(this,p),f=c.on;f!==o&&((s=(o=f).copy())._.cancel.push(b),s._.interrupt.push(b),s._.end.push(k)),c.on=s}),0===f&&g()})},[Symbol.iterator]:tD[Symbol.iterator]};var tO={time:null,delay:0,duration:250,ease:function(o){return((o*=2)<=1?o*o*o:(o-=2)*o*o+2)/2}};selection.prototype.interrupt=function(o){return this.each(function(){!function(o,s){var c,p,f,g=o.__transition,m=!0;if(g){for(f in s=null==s?null:s+"",g){if((c=g[f]).name!==s){m=!1;continue}p=c.state>2&&c.state<5,c.state=6,c.timer.stop(),c.on.call(p?"interrupt":"cancel",o,o.__data__,c.index,c.group),delete g[f]}m&&delete o.__transition}}(this,o)})},selection.prototype.transition=function(o){var s,c;o instanceof Transition?(s=o._id,o=o._name):(s=++tP,(c=tO).time=now(),o=null==o?null:o+"");for(var p=this._groups,f=p.length,g=0;g<f;++g)for(var m,b=p[g],k=b.length,B=0;B<k;++B)(m=b[B])&&schedule(m,o,s,B,b,c||function(o,s){for(var c;!(c=o.__transition)||!(c=c[s]);)if(!(o=o.parentNode))throw Error(`transition ${s} not found`);return c}(m,s));return new Transition(p,this._parents,o,s)};let{abs:tR,max:tI,min:tN}=Math;function number1(o){return[+o[0],+o[1]]}function type(o){return{type:o}}["w","e"].map(type),["n","s"].map(type),["n","w","e","s","nw","ne","sw","se"].map(type);let tj=Math.PI/180,tz=180/Math.PI,tZ=4/29,tq=6/29,tY=3*tq*tq,tU=tq*tq*tq;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);o instanceof Rgb||(o=rgbConvert(o));var s,c,p=rgb2lrgb(o.r),f=rgb2lrgb(o.g),g=rgb2lrgb(o.b),m=xyz2lab((.2225045*p+.7168786*f+.0606169*g)/1);return p===f&&f===g?s=c=m:(s=xyz2lab((.4360747*p+.3850649*f+.1430804*g)/.96422),c=xyz2lab((.0139322*p+.0971045*f+.7141733*g)/.82521)),new Lab(116*m-16,500*(s-m),200*(m-c),o.opacity)}function Lab(o,s,c,p){this.l=+o,this.a=+s,this.b=+c,this.opacity=+p}function xyz2lab(o){return o>tU?Math.pow(o,1/3):o/tY+tZ}function lab2xyz(o){return o>tq?o*o*o:tY*(o-tZ)}function lrgb2rgb(o){return 255*(o<=.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055)}function rgb2lrgb(o){return(o/=255)<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function hcl(o,s,c,p){return 1==arguments.length?function(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);if(o instanceof Lab||(o=labConvert(o)),0===o.a&&0===o.b)return new Hcl(NaN,0<o.l&&o.l<100?0:NaN,o.l,o.opacity);var s=Math.atan2(o.b,o.a)*tz;return new Hcl(s<0?s+360:s,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}(o):new Hcl(o,s,c,null==p?1:p)}function Hcl(o,s,c,p){this.h=+o,this.c=+s,this.l=+c,this.opacity=+p}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var s=o.h*tj;return new Lab(o.l,Math.cos(s)*o.c,Math.sin(s)*o.c,o.opacity)}function hcl_hcl(o){return function(s,c){var p=o((s=hcl(s)).h,(c=hcl(c)).h),f=nogamma(s.c,c.c),g=nogamma(s.l,c.l),m=nogamma(s.opacity,c.opacity);return function(o){return s.h=p(o),s.c=f(o),s.l=g(o),s.opacity=m(o),s+""}}}src_define(Lab,function(o,s,c,p){return 1==arguments.length?labConvert(o):new Lab(o,s,c,null==p?1:p)},extend(Color,{brighter(o){return new Lab(this.l+18*(null==o?1:o),this.a,this.b,this.opacity)},darker(o){return new Lab(this.l-18*(null==o?1:o),this.a,this.b,this.opacity)},rgb(){var o=(this.l+16)/116,s=isNaN(this.a)?o:o+this.a/500,c=isNaN(this.b)?o:o-this.b/200;return s=.96422*lab2xyz(s),o=1*lab2xyz(o),c=.82521*lab2xyz(c),new Rgb(lrgb2rgb(3.1338561*s-1.6168667*o-.4906146*c),lrgb2rgb(-.9787684*s+1.9161415*o+.033454*c),lrgb2rgb(.0719453*s-.2289914*o+1.4052427*c),this.opacity)}})),src_define(Hcl,hcl,extend(Color,{brighter(o){return new Hcl(this.h,this.c,this.l+18*(null==o?1:o),this.opacity)},darker(o){return new Hcl(this.h,this.c,this.l-18*(null==o?1:o),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));let tH=hcl_hcl(function(o,s){var c=s-o;return c?linear(o,c>180||c<-180?c-360*Math.round(c/360):c):d3_interpolate_src_constant(isNaN(o)?s:o)});function initRange(o,s){switch(arguments.length){case 0:break;case 1:this.range(o);break;default:this.range(s).domain(o)}return this}hcl_hcl(nogamma);let InternMap=class InternMap extends Map{constructor(o,s=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),null!=o)for(let[s,c]of o)this.set(s,c)}get(o){return super.get(intern_get(this,o))}has(o){return super.has(intern_get(this,o))}set(o,s){return super.set(function({_intern:o,_key:s},c){let p=s(c);return o.has(p)?o.get(p):(o.set(p,c),c)}(this,o),s)}delete(o){return super.delete(function({_intern:o,_key:s},c){let p=s(c);return o.has(p)&&(c=o.get(p),o.delete(p)),c}(this,o))}};function intern_get({_intern:o,_key:s},c){let p=s(c);return o.has(p)?o.get(p):c}function keyof(o){return null!==o&&"object"==typeof o?o.valueOf():o}let tV=Symbol("implicit");function ordinal(){var o=new InternMap,s=[],c=[],p=tV;function scale(f){let g=o.get(f);if(void 0===g){if(p!==tV)return p;o.set(f,g=s.push(f)-1)}return c[g%c.length]}return scale.domain=function(c){if(!arguments.length)return s.slice();for(let p of(s=[],o=new InternMap,c))o.has(p)||o.set(p,s.push(p)-1);return scale},scale.range=function(o){return arguments.length?(c=Array.from(o),scale):c.slice()},scale.unknown=function(o){return arguments.length?(p=o,scale):p},scale.copy=function(){return ordinal(s,c).unknown(p)},initRange.apply(scale,arguments),scale}let tX=Math.sqrt(50),tG=Math.sqrt(10),tK=Math.sqrt(2);function tickSpec(o,s,c){let p,f,g;let m=(s-o)/Math.max(0,c),b=Math.floor(Math.log10(m)),k=m/Math.pow(10,b),B=k>=tX?10:k>=tG?5:k>=tK?2:1;return(b<0?(p=Math.round(o*(g=Math.pow(10,-b)/B)),f=Math.round(s*g),p/g<o&&++p,f/g>s&&--f,g=-g):(p=Math.round(o/(g=Math.pow(10,b)*B)),f=Math.round(s/g),p*g<o&&++p,f*g>s&&--f),f<p&&.5<=c&&c<2)?tickSpec(o,s,2*c):[p,f,g]}function tickIncrement(o,s,c){return tickSpec(o=+o,s=+s,c=+c)[2]}function tickStep(o,s,c){s=+s,o=+o,c=+c;let p=s<o,f=p?tickIncrement(s,o,c):tickIncrement(o,s,c);return(p?-1:1)*(f<0?-(1/f):f)}function ascending_ascending(o,s){return null==o||null==s?NaN:o<s?-1:o>s?1:o>=s?0:NaN}function descending(o,s){return null==o||null==s?NaN:s<o?-1:s>o?1:s>=o?0:NaN}function bisector(o){let s,c,p;function left(o,p,f=0,g=o.length){if(f<g){if(0!==s(p,p))return g;do{let s=f+g>>>1;0>c(o[s],p)?f=s+1:g=s}while(f<g)}return f}return 2!==o.length?(s=ascending_ascending,c=(s,c)=>ascending_ascending(o(s),c),p=(s,c)=>o(s)-c):(s=o===ascending_ascending||o===descending?o:bisector_zero,c=o,p=o),{left,center:function(o,s,c=0,f=o.length){let g=left(o,s,c,f-1);return g>c&&p(o[g-1],s)>-p(o[g],s)?g-1:g},right:function(o,p,f=0,g=o.length){if(f<g){if(0!==s(p,p))return g;do{let s=f+g>>>1;0>=c(o[s],p)?f=s+1:g=s}while(f<g)}return f}}}function bisector_zero(){return 0}let tQ=bisector(ascending_ascending),tJ=tQ.right;tQ.left,bisector(function(o){return null===o?NaN:+o}).center;function round(o,s){return o=+o,s=+s,function(c){return Math.round(o*(1-c)+s*c)}}function src_number_number(o){return+o}var t0=[0,1];function continuous_identity(o){return o}function normalize(o,s){var c;return(s-=o=+o)?function(c){return(c-o)/s}:(c=isNaN(s)?NaN:.5,function(){return c})}function bimap(o,s,c){var p=o[0],f=o[1],g=s[0],m=s[1];return f<p?(p=normalize(f,p),g=c(m,g)):(p=normalize(p,f),g=c(g,m)),function(o){return g(p(o))}}function polymap(o,s,c){var p=Math.min(o.length,s.length)-1,f=Array(p),g=Array(p),m=-1;for(o[p]<o[0]&&(o=o.slice().reverse(),s=s.slice().reverse());++m<p;)f[m]=normalize(o[m],o[m+1]),g[m]=c(s[m],s[m+1]);return function(s){var c=tJ(o,s,1,p)-1;return g[c](f[c](s))}}function copy(o,s){return s.domain(o.domain()).range(o.range()).interpolate(o.interpolate()).clamp(o.clamp()).unknown(o.unknown())}function continuous(){return(function(){var o,s,c,p,f,g,m=t0,b=t0,interpolate=function value(o,s){var c,p,f=typeof s;return null==s||"boolean"===f?d3_interpolate_src_constant(s):("number"===f?src_number:"string"===f?(p=color(s))?(s=p,tF):string:s instanceof color?tF:s instanceof Date?function(o,s){var c=new Date;return o=+o,s=+s,function(p){return c.setTime(o*(1-p)+s*p),c}}:(c=s,!ArrayBuffer.isView(c)||c instanceof DataView)?Array.isArray(s)?function(o,s){var c,p=s?s.length:0,f=o?Math.min(p,o.length):0,g=Array(f),m=Array(p);for(c=0;c<f;++c)g[c]=value(o[c],s[c]);for(;c<p;++c)m[c]=s[c];return function(o){for(c=0;c<f;++c)m[c]=g[c](o);return m}}:"function"!=typeof s.valueOf&&"function"!=typeof s.toString||isNaN(s)?function(o,s){var c,p={},f={};for(c in(null===o||"object"!=typeof o)&&(o={}),(null===s||"object"!=typeof s)&&(s={}),s)c in o?p[c]=value(o[c],s[c]):f[c]=s[c];return function(o){for(c in p)f[c]=p[c](o);return f}}:src_number:function(o,s){s||(s=[]);var c,p=o?Math.min(s.length,o.length):0,f=s.slice();return function(g){for(c=0;c<p;++c)f[c]=o[c]*(1-g)+s[c]*g;return f}})(o,s)},k=continuous_identity;function rescale(){var o,s,c,B=Math.min(m.length,b.length);return k!==continuous_identity&&(o=m[0],s=m[B-1],o>s&&(c=o,o=s,s=c),k=function(c){return Math.max(o,Math.min(s,c))}),p=B>2?polymap:bimap,f=g=null,scale}function scale(s){return null==s||isNaN(s=+s)?c:(f||(f=p(m.map(o),b,interpolate)))(o(k(s)))}return scale.invert=function(c){return k(s((g||(g=p(b,m.map(o),src_number)))(c)))},scale.domain=function(o){return arguments.length?(m=Array.from(o,src_number_number),rescale()):m.slice()},scale.range=function(o){return arguments.length?(b=Array.from(o),rescale()):b.slice()},scale.rangeRound=function(o){return b=Array.from(o),interpolate=round,rescale()},scale.clamp=function(o){return arguments.length?(k=!!o||continuous_identity,rescale()):k!==continuous_identity},scale.interpolate=function(o){return arguments.length?(interpolate=o,rescale()):interpolate},scale.unknown=function(o){return arguments.length?(c=o,scale):c},function(c,p){return o=c,s=p,rescale()}})()(continuous_identity,continuous_identity)}var t1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(o){var s;if(!(s=t1.exec(o)))throw Error("invalid format: "+o);return new FormatSpecifier({fill:s[1],align:s[2],sign:s[3],symbol:s[4],zero:s[5],width:s[6],comma:s[7],precision:s[8]&&s[8].slice(1),trim:s[9],type:s[10]})}function FormatSpecifier(o){this.fill=void 0===o.fill?" ":o.fill+"",this.align=void 0===o.align?">":o.align+"",this.sign=void 0===o.sign?"-":o.sign+"",this.symbol=void 0===o.symbol?"":o.symbol+"",this.zero=!!o.zero,this.width=void 0===o.width?void 0:+o.width,this.comma=!!o.comma,this.precision=void 0===o.precision?void 0:+o.precision,this.trim=!!o.trim,this.type=void 0===o.type?"":o.type+""}function formatDecimalParts(o,s){if((c=(o=s?o.toExponential(s-1):o.toExponential()).indexOf("e"))<0)return null;var c,p=o.slice(0,c);return[p.length>1?p[0]+p.slice(2):p,+o.slice(c+1)]}function exponent(o){return(o=formatDecimalParts(Math.abs(o)))?o[1]:NaN}function formatRounded(o,s){var c=formatDecimalParts(o,s);if(!c)return o+"";var p=c[0],f=c[1];return f<0?"0."+Array(-f).join("0")+p:p.length>f+1?p.slice(0,f+1)+"."+p.slice(f+1):p+Array(f-p.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let t2={"%":(o,s)=>(100*o).toFixed(s),b:o=>Math.round(o).toString(2),c:o=>o+"",d:function(o){return Math.abs(o=Math.round(o))>=1e21?o.toLocaleString("en").replace(/,/g,""):o.toString(10)},e:(o,s)=>o.toExponential(s),f:(o,s)=>o.toFixed(s),g:(o,s)=>o.toPrecision(s),o:o=>Math.round(o).toString(8),p:(o,s)=>formatRounded(100*o,s),r:formatRounded,s:function(o,s){var c=formatDecimalParts(o,s);if(!c)return o+"";var p=c[0],f=c[1],g=f-(L=3*Math.max(-8,Math.min(8,Math.floor(f/3))))+1,m=p.length;return g===m?p:g>m?p+Array(g-m+1).join("0"):g>0?p.slice(0,g)+"."+p.slice(g):"0."+Array(1-g).join("0")+formatDecimalParts(o,Math.max(0,s+g-1))[0]},X:o=>Math.round(o).toString(16).toUpperCase(),x:o=>Math.round(o).toString(16)};function d3_format_src_identity(o){return o}var t5=Array.prototype.map,t3=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];J=(X=function(o){var s,c,p,f=void 0===o.grouping||void 0===o.thousands?d3_format_src_identity:(s=t5.call(o.grouping,Number),c=o.thousands+"",function(o,p){for(var f=o.length,g=[],m=0,b=s[0],k=0;f>0&&b>0&&(k+b+1>p&&(b=Math.max(1,p-k)),g.push(o.substring(f-=b,f+b)),!((k+=b+1)>p));)b=s[m=(m+1)%s.length];return g.reverse().join(c)}),g=void 0===o.currency?"":o.currency[0]+"",m=void 0===o.currency?"":o.currency[1]+"",b=void 0===o.decimal?".":o.decimal+"",k=void 0===o.numerals?d3_format_src_identity:(p=t5.call(o.numerals,String),function(o){return o.replace(/[0-9]/g,function(o){return p[+o]})}),B=void 0===o.percent?"%":o.percent+"",X=void 0===o.minus?"−":o.minus+"",J=void 0===o.nan?"NaN":o.nan+"";function newFormat(o){var s=(o=formatSpecifier(o)).fill,c=o.align,p=o.sign,te=o.symbol,tr=o.zero,ti=o.width,tn=o.comma,ta=o.precision,to=o.trim,ts=o.type;"n"===ts?(tn=!0,ts="g"):t2[ts]||(void 0===ta&&(ta=12),to=!0,ts="g"),(tr||"0"===s&&"="===c)&&(tr=!0,s="0",c="=");var tl="$"===te?g:"#"===te&&/[boxX]/.test(ts)?"0"+ts.toLowerCase():"",th="$"===te?m:/[%p]/.test(ts)?B:"",tc=t2[ts],tu=/[defgprs%]/.test(ts);function format(o){var g,m,B,te=tl,td=th;if("c"===ts)td=tc(o)+td,o="";else{var tp=(o=+o)<0||1/o<0;if(o=isNaN(o)?J:tc(Math.abs(o),ta),to&&(o=function(o){t:for(var s,c=o.length,p=1,f=-1;p<c;++p)switch(o[p]){case".":f=s=p;break;case"0":0===f&&(f=p),s=p;break;default:if(!+o[p])break t;f>0&&(f=0)}return f>0?o.slice(0,f)+o.slice(s+1):o}(o)),tp&&0==+o&&"+"!==p&&(tp=!1),te=(tp?"("===p?p:X:"-"===p||"("===p?"":p)+te,td=("s"===ts?t3[8+L/3]:"")+td+(tp&&"("===p?")":""),tu){for(g=-1,m=o.length;++g<m;)if(48>(B=o.charCodeAt(g))||B>57){td=(46===B?b+o.slice(g+1):o.slice(g))+td,o=o.slice(0,g);break}}}tn&&!tr&&(o=f(o,1/0));var tf=te.length+o.length+td.length,tg=tf<ti?Array(ti-tf+1).join(s):"";switch(tn&&tr&&(o=f(tg+o,tg.length?ti-td.length:1/0),tg=""),c){case"<":o=te+o+td+tg;break;case"=":o=te+tg+o+td;break;case"^":o=tg.slice(0,tf=tg.length>>1)+te+o+td+tg.slice(tf);break;default:o=tg+te+o+td}return k(o)}return ta=void 0===ta?6:/[gprs]/.test(ts)?Math.max(1,Math.min(21,ta)):Math.max(0,Math.min(20,ta)),format.toString=function(){return o+""},format}return{format:newFormat,formatPrefix:function(o,s){var c=newFormat(((o=formatSpecifier(o)).type="f",o)),p=3*Math.max(-8,Math.min(8,Math.floor(exponent(s)/3))),f=Math.pow(10,-p),g=t3[8+p/3];return function(o){return c(f*o)+g}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,te=X.formatPrefix;let t4=864e5,t6=7*t4,t8=30*t4,t9=365*t4,t7=new Date,et=new Date;function timeInterval(o,s,c,p){function interval(s){return o(s=0==arguments.length?new Date:new Date(+s)),s}return interval.floor=s=>(o(s=new Date(+s)),s),interval.ceil=c=>(o(c=new Date(c-1)),s(c,1),o(c),c),interval.round=o=>{let s=interval(o),c=interval.ceil(o);return o-s<c-o?s:c},interval.offset=(o,c)=>(s(o=new Date(+o),null==c?1:Math.floor(c)),o),interval.range=(c,p,f)=>{let g;let m=[];if(c=interval.ceil(c),f=null==f?1:Math.floor(f),!(c<p)||!(f>0))return m;do m.push(g=new Date(+c)),s(c,f),o(c);while(g<c&&c<p);return m},interval.filter=c=>timeInterval(s=>{if(s>=s)for(;o(s),!c(s);)s.setTime(s-1)},(o,p)=>{if(o>=o){if(p<0)for(;++p<=0;)for(;s(o,-1),!c(o););else for(;--p>=0;)for(;s(o,1),!c(o););}}),c&&(interval.count=(s,p)=>(t7.setTime(+s),et.setTime(+p),o(t7),o(et),Math.floor(c(t7,et))),interval.every=o=>isFinite(o=Math.floor(o))&&o>0?o>1?interval.filter(p?s=>p(s)%o==0:s=>interval.count(0,s)%o==0):interval:null),interval}let ee=timeInterval(()=>{},(o,s)=>{o.setTime(+o+s)},(o,s)=>s-o);ee.every=o=>isFinite(o=Math.floor(o))&&o>0?o>1?timeInterval(s=>{s.setTime(Math.floor(s/o)*o)},(s,c)=>{s.setTime(+s+c*o)},(s,c)=>(c-s)/o):ee:null,ee.range;let er=timeInterval(o=>{o.setTime(o-o.getMilliseconds())},(o,s)=>{o.setTime(+o+1e3*s)},(o,s)=>(s-o)/1e3,o=>o.getUTCSeconds());er.range;let ei=timeInterval(o=>{o.setTime(o-o.getMilliseconds()-1e3*o.getSeconds())},(o,s)=>{o.setTime(+o+6e4*s)},(o,s)=>(s-o)/6e4,o=>o.getMinutes());ei.range;let en=timeInterval(o=>{o.setUTCSeconds(0,0)},(o,s)=>{o.setTime(+o+6e4*s)},(o,s)=>(s-o)/6e4,o=>o.getUTCMinutes());en.range;let ea=timeInterval(o=>{o.setTime(o-o.getMilliseconds()-1e3*o.getSeconds()-6e4*o.getMinutes())},(o,s)=>{o.setTime(+o+36e5*s)},(o,s)=>(s-o)/36e5,o=>o.getHours());ea.range;let eo=timeInterval(o=>{o.setUTCMinutes(0,0,0)},(o,s)=>{o.setTime(+o+36e5*s)},(o,s)=>(s-o)/36e5,o=>o.getUTCHours());eo.range;let es=timeInterval(o=>o.setHours(0,0,0,0),(o,s)=>o.setDate(o.getDate()+s),(o,s)=>(s-o-(s.getTimezoneOffset()-o.getTimezoneOffset())*6e4)/t4,o=>o.getDate()-1);es.range;let el=timeInterval(o=>{o.setUTCHours(0,0,0,0)},(o,s)=>{o.setUTCDate(o.getUTCDate()+s)},(o,s)=>(s-o)/t4,o=>o.getUTCDate()-1);el.range;let eh=timeInterval(o=>{o.setUTCHours(0,0,0,0)},(o,s)=>{o.setUTCDate(o.getUTCDate()+s)},(o,s)=>(s-o)/t4,o=>Math.floor(o/t4));function timeWeekday(o){return timeInterval(s=>{s.setDate(s.getDate()-(s.getDay()+7-o)%7),s.setHours(0,0,0,0)},(o,s)=>{o.setDate(o.getDate()+7*s)},(o,s)=>(s-o-(s.getTimezoneOffset()-o.getTimezoneOffset())*6e4)/t6)}eh.range;let ec=timeWeekday(0),eu=timeWeekday(1),ed=timeWeekday(2),ep=timeWeekday(3),ef=timeWeekday(4),eg=timeWeekday(5),em=timeWeekday(6);function utcWeekday(o){return timeInterval(s=>{s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-o)%7),s.setUTCHours(0,0,0,0)},(o,s)=>{o.setUTCDate(o.getUTCDate()+7*s)},(o,s)=>(s-o)/t6)}ec.range,eu.range,ed.range,ep.range,ef.range,eg.range,em.range;let ey=utcWeekday(0),e_=utcWeekday(1),ex=utcWeekday(2),eb=utcWeekday(3),eC=utcWeekday(4),ek=utcWeekday(5),ew=utcWeekday(6);ey.range,e_.range,ex.range,eb.range,eC.range,ek.range,ew.range;let ev=timeInterval(o=>{o.setDate(1),o.setHours(0,0,0,0)},(o,s)=>{o.setMonth(o.getMonth()+s)},(o,s)=>s.getMonth()-o.getMonth()+(s.getFullYear()-o.getFullYear())*12,o=>o.getMonth());ev.range;let eT=timeInterval(o=>{o.setUTCDate(1),o.setUTCHours(0,0,0,0)},(o,s)=>{o.setUTCMonth(o.getUTCMonth()+s)},(o,s)=>s.getUTCMonth()-o.getUTCMonth()+(s.getUTCFullYear()-o.getUTCFullYear())*12,o=>o.getUTCMonth());eT.range;let eS=timeInterval(o=>{o.setMonth(0,1),o.setHours(0,0,0,0)},(o,s)=>{o.setFullYear(o.getFullYear()+s)},(o,s)=>s.getFullYear()-o.getFullYear(),o=>o.getFullYear());eS.every=o=>isFinite(o=Math.floor(o))&&o>0?timeInterval(s=>{s.setFullYear(Math.floor(s.getFullYear()/o)*o),s.setMonth(0,1),s.setHours(0,0,0,0)},(s,c)=>{s.setFullYear(s.getFullYear()+c*o)}):null,eS.range;let eM=timeInterval(o=>{o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0)},(o,s)=>{o.setUTCFullYear(o.getUTCFullYear()+s)},(o,s)=>s.getUTCFullYear()-o.getUTCFullYear(),o=>o.getUTCFullYear());function ticker(o,s,c,p,f,g){let m=[[er,1,1e3],[er,5,5e3],[er,15,15e3],[er,30,3e4],[g,1,6e4],[g,5,3e5],[g,15,9e5],[g,30,18e5],[f,1,36e5],[f,3,108e5],[f,6,216e5],[f,12,432e5],[p,1,t4],[p,2,2*t4],[c,1,t6],[s,1,t8],[s,3,3*t8],[o,1,t9]];function tickInterval(s,c,p){let f=Math.abs(c-s)/p,g=bisector(([,,o])=>o).right(m,f);if(g===m.length)return o.every(tickStep(s/t9,c/t9,p));if(0===g)return ee.every(Math.max(tickStep(s,c,p),1));let[b,k]=m[f/m[g-1][2]<m[g][2]/f?g-1:g];return b.every(k)}return[function(o,s,c){let p=s<o;p&&([o,s]=[s,o]);let f=c&&"function"==typeof c.range?c:tickInterval(o,s,c),g=f?f.range(o,+s+1):[];return p?g.reverse():g},tickInterval]}eM.every=o=>isFinite(o=Math.floor(o))&&o>0?timeInterval(s=>{s.setUTCFullYear(Math.floor(s.getUTCFullYear()/o)*o),s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)},(s,c)=>{s.setUTCFullYear(s.getUTCFullYear()+c*o)}):null,eM.range;let[eA,eB]=ticker(eM,eT,ey,eh,eo,en),[eL,eF]=ticker(eS,ev,ec,es,ea,ei);function localDate(o){if(0<=o.y&&o.y<100){var s=new Date(-1,o.m,o.d,o.H,o.M,o.S,o.L);return s.setFullYear(o.y),s}return new Date(o.y,o.m,o.d,o.H,o.M,o.S,o.L)}function utcDate(o){if(0<=o.y&&o.y<100){var s=new Date(Date.UTC(-1,o.m,o.d,o.H,o.M,o.S,o.L));return s.setUTCFullYear(o.y),s}return new Date(Date.UTC(o.y,o.m,o.d,o.H,o.M,o.S,o.L))}function newDate(o,s,c){return{y:o,m:s,d:c,H:0,M:0,S:0,L:0}}var eE={"-":"",_:" ",0:"0"},eW=/^\s*\d+/,e$=/^%/,eP=/[\\^$*+?|[\]().{}]/g;function pad(o,s,c){var p=o<0?"-":"",f=(p?-o:o)+"",g=f.length;return p+(g<c?Array(c-g+1).join(s)+f:f)}function requote(o){return o.replace(eP,"\\$&")}function formatRe(o){return RegExp("^(?:"+o.map(requote).join("|")+")","i")}function formatLookup(o){return new Map(o.map((o,s)=>[o.toLowerCase(),s]))}function parseWeekdayNumberSunday(o,s,c){var p=eW.exec(s.slice(c,c+1));return p?(o.w=+p[0],c+p[0].length):-1}function parseWeekdayNumberMonday(o,s,c){var p=eW.exec(s.slice(c,c+1));return p?(o.u=+p[0],c+p[0].length):-1}function parseWeekNumberSunday(o,s,c){var p=eW.exec(s.slice(c,c+2));return p?(o.U=+p[0],c+p[0].length):-1}function parseWeekNumberISO(o,s,c){var p=eW.exec(s.slice(c,c+2));return p?(o.V=+p[0],c+p[0].length):-1}function parseWeekNumberMonday(o,s,c){var p=eW.exec(s.slice(c,c+2));return p?(o.W=+p[0],c+p[0].length):-1}function parseFullYear(o,s,c){var p=eW.exec(s.slice(c,c+4));return p?(o.y=+p[0],c+p[0].length):-1}function parseYear(o,s,c){var p=eW.exec(s.slice(c,c+2));return p?(o.y=+p[0]+(+p[0]>68?1900:2e3),c+p[0].length):-1}function parseZone(o,s,c){var p=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(s.slice(c,c+6));return p?(o.Z=p[1]?0:-(p[2]+(p[3]||"00")),c+p[0].length):-1}function parseQuarter(o,s,c){var p=eW.exec(s.slice(c,c+1));return p?(o.q=3*p[0]-3,c+p[0].length):-1}function parseMonthNumber(o,s,c){var p=eW.exec(s.slice(c,c+2));return p?(o.m=p[0]-1,c+p[0].length):-1}function parseDayOfMonth(o,s,c){var p=eW.exec(s.slice(c,c+2));return p?(o.d=+p[0],c+p[0].length):-1}function parseDayOfYear(o,s,c){var p=eW.exec(s.slice(c,c+3));return p?(o.m=0,o.d=+p[0],c+p[0].length):-1}function parseHour24(o,s,c){var p=eW.exec(s.slice(c,c+2));return p?(o.H=+p[0],c+p[0].length):-1}function parseMinutes(o,s,c){var p=eW.exec(s.slice(c,c+2));return p?(o.M=+p[0],c+p[0].length):-1}function parseSeconds(o,s,c){var p=eW.exec(s.slice(c,c+2));return p?(o.S=+p[0],c+p[0].length):-1}function parseMilliseconds(o,s,c){var p=eW.exec(s.slice(c,c+3));return p?(o.L=+p[0],c+p[0].length):-1}function parseMicroseconds(o,s,c){var p=eW.exec(s.slice(c,c+6));return p?(o.L=Math.floor(p[0]/1e3),c+p[0].length):-1}function parseLiteralPercent(o,s,c){var p=e$.exec(s.slice(c,c+1));return p?c+p[0].length:-1}function parseUnixTimestamp(o,s,c){var p=eW.exec(s.slice(c));return p?(o.Q=+p[0],c+p[0].length):-1}function parseUnixTimestampSeconds(o,s,c){var p=eW.exec(s.slice(c));return p?(o.s=+p[0],c+p[0].length):-1}function formatDayOfMonth(o,s){return pad(o.getDate(),s,2)}function formatHour24(o,s){return pad(o.getHours(),s,2)}function formatHour12(o,s){return pad(o.getHours()%12||12,s,2)}function formatDayOfYear(o,s){return pad(1+es.count(eS(o),o),s,3)}function formatMilliseconds(o,s){return pad(o.getMilliseconds(),s,3)}function formatMicroseconds(o,s){return formatMilliseconds(o,s)+"000"}function formatMonthNumber(o,s){return pad(o.getMonth()+1,s,2)}function formatMinutes(o,s){return pad(o.getMinutes(),s,2)}function formatSeconds(o,s){return pad(o.getSeconds(),s,2)}function formatWeekdayNumberMonday(o){var s=o.getDay();return 0===s?7:s}function formatWeekNumberSunday(o,s){return pad(ec.count(eS(o)-1,o),s,2)}function dISO(o){var s=o.getDay();return s>=4||0===s?ef(o):ef.ceil(o)}function formatWeekNumberISO(o,s){return o=dISO(o),pad(ef.count(eS(o),o)+(4===eS(o).getDay()),s,2)}function formatWeekdayNumberSunday(o){return o.getDay()}function formatWeekNumberMonday(o,s){return pad(eu.count(eS(o)-1,o),s,2)}function formatYear(o,s){return pad(o.getFullYear()%100,s,2)}function formatYearISO(o,s){return pad((o=dISO(o)).getFullYear()%100,s,2)}function formatFullYear(o,s){return pad(o.getFullYear()%1e4,s,4)}function formatFullYearISO(o,s){var c=o.getDay();return pad((o=c>=4||0===c?ef(o):ef.ceil(o)).getFullYear()%1e4,s,4)}function formatZone(o){var s=o.getTimezoneOffset();return(s>0?"-":(s*=-1,"+"))+pad(s/60|0,"0",2)+pad(s%60,"0",2)}function formatUTCDayOfMonth(o,s){return pad(o.getUTCDate(),s,2)}function formatUTCHour24(o,s){return pad(o.getUTCHours(),s,2)}function formatUTCHour12(o,s){return pad(o.getUTCHours()%12||12,s,2)}function formatUTCDayOfYear(o,s){return pad(1+el.count(eM(o),o),s,3)}function formatUTCMilliseconds(o,s){return pad(o.getUTCMilliseconds(),s,3)}function formatUTCMicroseconds(o,s){return formatUTCMilliseconds(o,s)+"000"}function formatUTCMonthNumber(o,s){return pad(o.getUTCMonth()+1,s,2)}function formatUTCMinutes(o,s){return pad(o.getUTCMinutes(),s,2)}function formatUTCSeconds(o,s){return pad(o.getUTCSeconds(),s,2)}function formatUTCWeekdayNumberMonday(o){var s=o.getUTCDay();return 0===s?7:s}function formatUTCWeekNumberSunday(o,s){return pad(ey.count(eM(o)-1,o),s,2)}function UTCdISO(o){var s=o.getUTCDay();return s>=4||0===s?eC(o):eC.ceil(o)}function formatUTCWeekNumberISO(o,s){return o=UTCdISO(o),pad(eC.count(eM(o),o)+(4===eM(o).getUTCDay()),s,2)}function formatUTCWeekdayNumberSunday(o){return o.getUTCDay()}function formatUTCWeekNumberMonday(o,s){return pad(e_.count(eM(o)-1,o),s,2)}function formatUTCYear(o,s){return pad(o.getUTCFullYear()%100,s,2)}function formatUTCYearISO(o,s){return pad((o=UTCdISO(o)).getUTCFullYear()%100,s,2)}function formatUTCFullYear(o,s){return pad(o.getUTCFullYear()%1e4,s,4)}function formatUTCFullYearISO(o,s){var c=o.getUTCDay();return pad((o=c>=4||0===c?eC(o):eC.ceil(o)).getUTCFullYear()%1e4,s,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(o){return+o}function formatUnixTimestampSeconds(o){return Math.floor(+o/1e3)}function time_date(o){return new Date(o)}function time_number(o){return o instanceof Date?+o:+new Date(+o)}function time(){return initRange.apply((function calendar(o,s,c,p,f,g,m,b,k,B){var L=continuous(),X=L.invert,J=L.domain,te=B(".%L"),tr=B(":%S"),ti=B("%I:%M"),tn=B("%I %p"),ta=B("%a %d"),to=B("%b %d"),ts=B("%B"),tl=B("%Y");function tickFormat(o){return(k(o)<o?te:b(o)<o?tr:m(o)<o?ti:g(o)<o?tn:p(o)<o?f(o)<o?ta:to:c(o)<o?ts:tl)(o)}return L.invert=function(o){return new Date(X(o))},L.domain=function(o){return arguments.length?J(Array.from(o,time_number)):J().map(time_date)},L.ticks=function(s){var c=J();return o(c[0],c[c.length-1],null==s?10:s)},L.tickFormat=function(o,s){return null==s?tickFormat:B(s)},L.nice=function(o){var c,p,f,g,m,b,k,B=J();return o&&"function"==typeof o.range||(o=s(B[0],B[B.length-1],null==o?10:o)),o?J((c=B,p=o,c=c.slice(),g=0,m=c.length-1,b=c[g],(k=c[m])<b&&(f=g,g=m,m=f,f=b,b=k,k=f),c[g]=p.floor(b),c[m]=p.ceil(k),c)):L},L.copy=function(){return copy(L,calendar(o,s,c,p,f,g,m,b,k,B))},L})(eL,eF,eS,ev,ec,es,ea,ei,er,ti).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}ti=(tr=function(o){var s=o.dateTime,c=o.date,p=o.time,f=o.periods,g=o.days,m=o.shortDays,b=o.months,k=o.shortMonths,B=formatRe(f),L=formatLookup(f),X=formatRe(g),J=formatLookup(g),te=formatRe(m),tr=formatLookup(m),ti=formatRe(b),tn=formatLookup(b),ta=formatRe(k),to=formatLookup(k),ts={a:function(o){return m[o.getDay()]},A:function(o){return g[o.getDay()]},b:function(o){return k[o.getMonth()]},B:function(o){return b[o.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(o){return f[+(o.getHours()>=12)]},q:function(o){return 1+~~(o.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},tl={a:function(o){return m[o.getUTCDay()]},A:function(o){return g[o.getUTCDay()]},b:function(o){return k[o.getUTCMonth()]},B:function(o){return b[o.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(o){return f[+(o.getUTCHours()>=12)]},q:function(o){return 1+~~(o.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},th={a:function(o,s,c){var p=te.exec(s.slice(c));return p?(o.w=tr.get(p[0].toLowerCase()),c+p[0].length):-1},A:function(o,s,c){var p=X.exec(s.slice(c));return p?(o.w=J.get(p[0].toLowerCase()),c+p[0].length):-1},b:function(o,s,c){var p=ta.exec(s.slice(c));return p?(o.m=to.get(p[0].toLowerCase()),c+p[0].length):-1},B:function(o,s,c){var p=ti.exec(s.slice(c));return p?(o.m=tn.get(p[0].toLowerCase()),c+p[0].length):-1},c:function(o,c,p){return parseSpecifier(o,s,c,p)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(o,s,c){var p=B.exec(s.slice(c));return p?(o.p=L.get(p[0].toLowerCase()),c+p[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(o,s,p){return parseSpecifier(o,c,s,p)},X:function(o,s,c){return parseSpecifier(o,p,s,c)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(o,s){return function(c){var p,f,g,m=[],b=-1,k=0,B=o.length;for(c instanceof Date||(c=new Date(+c));++b<B;)37===o.charCodeAt(b)&&(m.push(o.slice(k,b)),null!=(f=eE[p=o.charAt(++b)])?p=o.charAt(++b):f="e"===p?" ":"0",(g=s[p])&&(p=g(c,f)),m.push(p),k=b+1);return m.push(o.slice(k,b)),m.join("")}}function newParse(o,s){return function(c){var p,f,g=newDate(1900,void 0,1);if(parseSpecifier(g,o,c+="",0)!=c.length)return null;if("Q"in g)return new Date(g.Q);if("s"in g)return new Date(1e3*g.s+("L"in g?g.L:0));if(!s||"Z"in g||(g.Z=0),"p"in g&&(g.H=g.H%12+12*g.p),void 0===g.m&&(g.m="q"in g?g.q:0),"V"in g){if(g.V<1||g.V>53)return null;"w"in g||(g.w=1),"Z"in g?(p=(f=(p=utcDate(newDate(g.y,0,1))).getUTCDay())>4||0===f?e_.ceil(p):e_(p),p=el.offset(p,(g.V-1)*7),g.y=p.getUTCFullYear(),g.m=p.getUTCMonth(),g.d=p.getUTCDate()+(g.w+6)%7):(p=(f=(p=localDate(newDate(g.y,0,1))).getDay())>4||0===f?eu.ceil(p):eu(p),p=es.offset(p,(g.V-1)*7),g.y=p.getFullYear(),g.m=p.getMonth(),g.d=p.getDate()+(g.w+6)%7)}else("W"in g||"U"in g)&&("w"in g||(g.w="u"in g?g.u%7:"W"in g?1:0),f="Z"in g?utcDate(newDate(g.y,0,1)).getUTCDay():localDate(newDate(g.y,0,1)).getDay(),g.m=0,g.d="W"in g?(g.w+6)%7+7*g.W-(f+5)%7:g.w+7*g.U-(f+6)%7);return"Z"in g?(g.H+=g.Z/100|0,g.M+=g.Z%100,utcDate(g)):localDate(g)}}function parseSpecifier(o,s,c,p){for(var f,g,m=0,b=s.length,k=c.length;m<b;){if(p>=k)return -1;if(37===(f=s.charCodeAt(m++))){if(!(g=th[(f=s.charAt(m++))in eE?s.charAt(m++):f])||(p=g(o,c,p))<0)return -1}else if(f!=c.charCodeAt(p++))return -1}return p}return ts.x=newFormat(c,ts),ts.X=newFormat(p,ts),ts.c=newFormat(s,ts),tl.x=newFormat(c,tl),tl.X=newFormat(p,tl),tl.c=newFormat(s,tl),{format:function(o){var s=newFormat(o+="",ts);return s.toString=function(){return o},s},parse:function(o){var s=newParse(o+="",!1);return s.toString=function(){return o},s},utcFormat:function(o){var s=newFormat(o+="",tl);return s.toString=function(){return o},s},utcParse:function(o){var s=newParse(o+="",!0);return s.toString=function(){return o},s}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,tr.parse,tr.utcFormat,tr.utcParse;let eD=function(o){for(var s=o.length/6|0,c=Array(s),p=0;p<s;)c[p]="#"+o.slice(6*p,6*++p);return c}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function src_select(o){return"string"==typeof o?new Selection([[document.querySelector(o)]],[document.documentElement]):new Selection([[o]],b)}function d3_shape_src_constant(o){return function(){return o}}let eO=Math.abs,eR=Math.atan2,eI=Math.cos,eN=Math.max,ej=Math.min,ez=Math.sin,eZ=Math.sqrt,eq=Math.PI,eY=eq/2,eU=2*eq;function asin(o){return o>=1?eY:o<=-1?-eY:Math.asin(o)}let eH=Math.PI,eV=2*eH,eX=eV-1e-6;function path_append(o){this._+=o[0];for(let s=1,c=o.length;s<c;++s)this._+=arguments[s]+o[s]}let Path=class Path{constructor(o){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==o?path_append:function(o){let s=Math.floor(o);if(!(s>=0))throw Error(`invalid digits: ${o}`);if(s>15)return path_append;let c=10**s;return function(o){this._+=o[0];for(let s=1,p=o.length;s<p;++s)this._+=Math.round(arguments[s]*c)/c+o[s]}}(o)}moveTo(o,s){this._append`M${this._x0=this._x1=+o},${this._y0=this._y1=+s}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(o,s){this._append`L${this._x1=+o},${this._y1=+s}`}quadraticCurveTo(o,s,c,p){this._append`Q${+o},${+s},${this._x1=+c},${this._y1=+p}`}bezierCurveTo(o,s,c,p,f,g){this._append`C${+o},${+s},${+c},${+p},${this._x1=+f},${this._y1=+g}`}arcTo(o,s,c,p,f){if(o=+o,s=+s,c=+c,p=+p,(f=+f)<0)throw Error(`negative radius: ${f}`);let g=this._x1,m=this._y1,b=c-o,k=p-s,B=g-o,L=m-s,X=B*B+L*L;if(null===this._x1)this._append`M${this._x1=o},${this._y1=s}`;else if(X>1e-6){if(Math.abs(L*b-k*B)>1e-6&&f){let J=c-g,te=p-m,tr=b*b+k*k,ti=Math.sqrt(tr),tn=Math.sqrt(X),ta=f*Math.tan((eH-Math.acos((tr+X-(J*J+te*te))/(2*ti*tn)))/2),to=ta/tn,ts=ta/ti;Math.abs(to-1)>1e-6&&this._append`L${o+to*B},${s+to*L}`,this._append`A${f},${f},0,0,${+(L*J>B*te)},${this._x1=o+ts*b},${this._y1=s+ts*k}`}else this._append`L${this._x1=o},${this._y1=s}`}}arc(o,s,c,p,f,g){if(o=+o,s=+s,g=!!g,(c=+c)<0)throw Error(`negative radius: ${c}`);let m=c*Math.cos(p),b=c*Math.sin(p),k=o+m,B=s+b,L=1^g,X=g?p-f:f-p;null===this._x1?this._append`M${k},${B}`:(Math.abs(this._x1-k)>1e-6||Math.abs(this._y1-B)>1e-6)&&this._append`L${k},${B}`,c&&(X<0&&(X=X%eV+eV),X>eX?this._append`A${c},${c},0,1,${L},${o-m},${s-b}A${c},${c},0,1,${L},${this._x1=k},${this._y1=B}`:X>1e-6&&this._append`A${c},${c},0,${+(X>=eH)},${L},${this._x1=o+c*Math.cos(f)},${this._y1=s+c*Math.sin(f)}`)}rect(o,s,c,p){this._append`M${this._x0=this._x1=+o},${this._y0=this._y1=+s}h${c=+c}v${+p}h${-c}Z`}toString(){return this._}};function withPath(o){let s=3;return o.digits=function(c){if(!arguments.length)return s;if(null==c)s=null;else{let o=Math.floor(c);if(!(o>=0))throw RangeError(`invalid digits: ${c}`);s=o}return o},()=>new Path(s)}function arcInnerRadius(o){return o.innerRadius}function arcOuterRadius(o){return o.outerRadius}function arcStartAngle(o){return o.startAngle}function arcEndAngle(o){return o.endAngle}function arcPadAngle(o){return o&&o.padAngle}function cornerTangents(o,s,c,p,f,g,m){var b=o-c,k=s-p,B=(m?g:-g)/eZ(b*b+k*k),L=B*k,X=-B*b,J=o+L,te=s+X,tr=c+L,ti=p+X,tn=(J+tr)/2,ta=(te+ti)/2,to=tr-J,ts=ti-te,tl=to*to+ts*ts,th=f-g,tc=J*ti-tr*te,tu=(ts<0?-1:1)*eZ(eN(0,th*th*tl-tc*tc)),td=(tc*ts-to*tu)/tl,tp=(-tc*to-ts*tu)/tl,tf=(tc*ts+to*tu)/tl,tg=(-tc*to+ts*tu)/tl,tm=td-tn,ty=tp-ta,t_=tf-tn,tx=tg-ta;return tm*tm+ty*ty>t_*t_+tx*tx&&(td=tf,tp=tg),{cx:td,cy:tp,x01:-L,y01:-X,x11:td*(f/th-1),y11:tp*(f/th-1)}}function arc(){var o=arcInnerRadius,s=arcOuterRadius,c=d3_shape_src_constant(0),p=null,f=arcStartAngle,g=arcEndAngle,m=arcPadAngle,b=null,k=withPath(arc);function arc(){var B,L,X=+o.apply(this,arguments),J=+s.apply(this,arguments),te=f.apply(this,arguments)-eY,tr=g.apply(this,arguments)-eY,ti=eO(tr-te),tn=tr>te;if(b||(b=B=k()),J<X&&(L=J,J=X,X=L),J>1e-12){if(ti>eU-1e-12)b.moveTo(J*eI(te),J*ez(te)),b.arc(0,0,J,te,tr,!tn),X>1e-12&&(b.moveTo(X*eI(tr),X*ez(tr)),b.arc(0,0,X,tr,te,tn));else{var ta,to,ts=te,tl=tr,th=te,tc=tr,tu=ti,td=ti,tp=m.apply(this,arguments)/2,tf=tp>1e-12&&(p?+p.apply(this,arguments):eZ(X*X+J*J)),tg=ej(eO(J-X)/2,+c.apply(this,arguments)),tm=tg,ty=tg;if(tf>1e-12){var t_=asin(tf/X*ez(tp)),tx=asin(tf/J*ez(tp));(tu-=2*t_)>1e-12?(t_*=tn?1:-1,th+=t_,tc-=t_):(tu=0,th=tc=(te+tr)/2),(td-=2*tx)>1e-12?(tx*=tn?1:-1,ts+=tx,tl-=tx):(td=0,ts=tl=(te+tr)/2)}var tb=J*eI(ts),tC=J*ez(ts),tk=X*eI(tc),tw=X*ez(tc);if(tg>1e-12){var tv,tT=J*eI(tl),tS=J*ez(tl),tM=X*eI(th),tA=X*ez(th);if(ti<eq){if(tv=function(o,s,c,p,f,g,m,b){var k=c-o,B=p-s,L=m-f,X=b-g,J=X*k-L*B;if(!(J*J<1e-12))return J=(L*(s-g)-X*(o-f))/J,[o+J*k,s+J*B]}(tb,tC,tM,tA,tT,tS,tk,tw)){var tB,tL=tb-tv[0],tF=tC-tv[1],tE=tT-tv[0],tW=tS-tv[1],t$=1/ez(((tB=(tL*tE+tF*tW)/(eZ(tL*tL+tF*tF)*eZ(tE*tE+tW*tW)))>1?0:tB<-1?eq:Math.acos(tB))/2),tP=eZ(tv[0]*tv[0]+tv[1]*tv[1]);tm=ej(tg,(X-tP)/(t$-1)),ty=ej(tg,(J-tP)/(t$+1))}else tm=ty=0}}td>1e-12?ty>1e-12?(ta=cornerTangents(tM,tA,tb,tC,J,ty,tn),to=cornerTangents(tT,tS,tk,tw,J,ty,tn),b.moveTo(ta.cx+ta.x01,ta.cy+ta.y01),ty<tg?b.arc(ta.cx,ta.cy,ty,eR(ta.y01,ta.x01),eR(to.y01,to.x01),!tn):(b.arc(ta.cx,ta.cy,ty,eR(ta.y01,ta.x01),eR(ta.y11,ta.x11),!tn),b.arc(0,0,J,eR(ta.cy+ta.y11,ta.cx+ta.x11),eR(to.cy+to.y11,to.cx+to.x11),!tn),b.arc(to.cx,to.cy,ty,eR(to.y11,to.x11),eR(to.y01,to.x01),!tn))):(b.moveTo(tb,tC),b.arc(0,0,J,ts,tl,!tn)):b.moveTo(tb,tC),X>1e-12&&tu>1e-12?tm>1e-12?(ta=cornerTangents(tk,tw,tT,tS,X,-tm,tn),to=cornerTangents(tb,tC,tM,tA,X,-tm,tn),b.lineTo(ta.cx+ta.x01,ta.cy+ta.y01),tm<tg?b.arc(ta.cx,ta.cy,tm,eR(ta.y01,ta.x01),eR(to.y01,to.x01),!tn):(b.arc(ta.cx,ta.cy,tm,eR(ta.y01,ta.x01),eR(ta.y11,ta.x11),!tn),b.arc(0,0,X,eR(ta.cy+ta.y11,ta.cx+ta.x11),eR(to.cy+to.y11,to.cx+to.x11),tn),b.arc(to.cx,to.cy,tm,eR(to.y11,to.x11),eR(to.y01,to.x01),!tn))):b.arc(0,0,X,tc,th,tn):b.lineTo(tk,tw)}}else b.moveTo(0,0);if(b.closePath(),B)return b=null,B+""||null}return arc.centroid=function(){var c=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2,p=(+f.apply(this,arguments)+ +g.apply(this,arguments))/2-eq/2;return[eI(p)*c,ez(p)*c]},arc.innerRadius=function(s){return arguments.length?(o="function"==typeof s?s:d3_shape_src_constant(+s),arc):o},arc.outerRadius=function(o){return arguments.length?(s="function"==typeof o?o:d3_shape_src_constant(+o),arc):s},arc.cornerRadius=function(o){return arguments.length?(c="function"==typeof o?o:d3_shape_src_constant(+o),arc):c},arc.padRadius=function(o){return arguments.length?(p=null==o?null:"function"==typeof o?o:d3_shape_src_constant(+o),arc):p},arc.startAngle=function(o){return arguments.length?(f="function"==typeof o?o:d3_shape_src_constant(+o),arc):f},arc.endAngle=function(o){return arguments.length?(g="function"==typeof o?o:d3_shape_src_constant(+o),arc):g},arc.padAngle=function(o){return arguments.length?(m="function"==typeof o?o:d3_shape_src_constant(+o),arc):m},arc.context=function(o){return arguments.length?(b=null==o?null:o,arc):b},arc}function d3_shape_src_array(o){return"object"==typeof o&&"length"in o?o:Array.from(o)}function Linear(o){this._context=o}function curve_linear(o){return new Linear(o)}function point_x(o){return o[0]}function point_y(o){return o[1]}function line(o,s){var c=d3_shape_src_constant(!0),p=null,f=curve_linear,g=null,m=withPath(line);function line(b){var k,B,L,X=(b=d3_shape_src_array(b)).length,J=!1;for(null==p&&(g=f(L=m())),k=0;k<=X;++k)!(k<X&&c(B=b[k],k,b))===J&&((J=!J)?g.lineStart():g.lineEnd()),J&&g.point(+o(B,k,b),+s(B,k,b));if(L)return g=null,L+""||null}return o="function"==typeof o?o:void 0===o?point_x:d3_shape_src_constant(o),s="function"==typeof s?s:void 0===s?point_y:d3_shape_src_constant(s),line.x=function(s){return arguments.length?(o="function"==typeof s?s:d3_shape_src_constant(+s),line):o},line.y=function(o){return arguments.length?(s="function"==typeof o?o:d3_shape_src_constant(+o),line):s},line.defined=function(o){return arguments.length?(c="function"==typeof o?o:d3_shape_src_constant(!!o),line):c},line.curve=function(o){return arguments.length?(f=o,null!=p&&(g=f(p)),line):f},line.context=function(o){return arguments.length?(null==o?p=g=null:g=f(p=o),line):p},line}function src_descending(o,s){return s<o?-1:s>o?1:s>=o?0:NaN}function d3_shape_src_identity(o){return o}function pie(){var o=d3_shape_src_identity,s=src_descending,c=null,p=d3_shape_src_constant(0),f=d3_shape_src_constant(eU),g=d3_shape_src_constant(0);function pie(m){var b,k,B,L,X,J=(m=d3_shape_src_array(m)).length,te=0,tr=Array(J),ti=Array(J),tn=+p.apply(this,arguments),ta=Math.min(eU,Math.max(-eU,f.apply(this,arguments)-tn)),to=Math.min(Math.abs(ta)/J,g.apply(this,arguments)),ts=to*(ta<0?-1:1);for(b=0;b<J;++b)(X=ti[tr[b]=b]=+o(m[b],b,m))>0&&(te+=X);for(null!=s?tr.sort(function(o,c){return s(ti[o],ti[c])}):null!=c&&tr.sort(function(o,s){return c(m[o],m[s])}),b=0,B=te?(ta-J*ts)/te:0;b<J;++b,tn=L)L=tn+((X=ti[k=tr[b]])>0?X*B:0)+ts,ti[k]={data:m[k],index:b,value:X,startAngle:tn,endAngle:L,padAngle:to};return ti}return pie.value=function(s){return arguments.length?(o="function"==typeof s?s:d3_shape_src_constant(+s),pie):o},pie.sortValues=function(o){return arguments.length?(s=o,c=null,pie):s},pie.sort=function(o){return arguments.length?(c=o,s=null,pie):c},pie.startAngle=function(o){return arguments.length?(p="function"==typeof o?o:d3_shape_src_constant(+o),pie):p},pie.endAngle=function(o){return arguments.length?(f="function"==typeof o?o:d3_shape_src_constant(+o),pie):f},pie.padAngle=function(o){return arguments.length?(g="function"==typeof o?o:d3_shape_src_constant(+o),pie):g},pie}function src_noop(){}function basis_point(o,s,c){o._context.bezierCurveTo((2*o._x0+o._x1)/3,(2*o._y0+o._y1)/3,(o._x0+2*o._x1)/3,(o._y0+2*o._y1)/3,(o._x0+4*o._x1+s)/6,(o._y0+4*o._y1+c)/6)}function Basis(o){this._context=o}function curve_basis(o){return new Basis(o)}function BasisClosed(o){this._context=o}function curve_basisClosed(o){return new BasisClosed(o)}function BasisOpen(o){this._context=o}function basisOpen(o){return new BasisOpen(o)}Path.prototype,Array.prototype.slice,Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(o,s){switch(o=+o,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,s):this._context.moveTo(o,s);break;case 1:this._point=2;default:this._context.lineTo(o,s)}}},Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:basis_point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(o,s){switch(o=+o,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,s):this._context.moveTo(o,s);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:basis_point(this,o,s)}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=s}},BasisClosed.prototype={areaStart:src_noop,areaEnd:src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(o,s){switch(o=+o,s=+s,this._point){case 0:this._point=1,this._x2=o,this._y2=s;break;case 1:this._point=2,this._x3=o,this._y3=s;break;case 2:this._point=3,this._x4=o,this._y4=s,this._context.moveTo((this._x0+4*this._x1+o)/6,(this._y0+4*this._y1+s)/6);break;default:basis_point(this,o,s)}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=s}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(o,s){switch(o=+o,s=+s,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+o)/6,p=(this._y0+4*this._y1+s)/6;this._line?this._context.lineTo(c,p):this._context.moveTo(c,p);break;case 3:this._point=4;default:basis_point(this,o,s)}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=s}};let Bump=class Bump{constructor(o,s){this._context=o,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(o,s){switch(o=+o,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,s):this._context.moveTo(o,s);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+o)/2,this._y0,this._x0,s,o,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,o,this._y0,o,s)}this._x0=o,this._y0=s}};function bumpX(o){return new Bump(o,!0)}function bumpY(o){return new Bump(o,!1)}function Bundle(o,s){this._basis=new Basis(o),this._beta=s}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var o=this._x,s=this._y,c=o.length-1;if(c>0)for(var p,f=o[0],g=s[0],m=o[c]-f,b=s[c]-g,k=-1;++k<=c;)p=k/c,this._basis.point(this._beta*o[k]+(1-this._beta)*(f+p*m),this._beta*s[k]+(1-this._beta)*(g+p*b));this._x=this._y=null,this._basis.lineEnd()},point:function(o,s){this._x.push(+o),this._y.push(+s)}};let eG=function custom(o){function bundle(s){return 1===o?new Basis(s):new Bundle(s,o)}return bundle.beta=function(o){return custom(+o)},bundle}(.85);function cardinal_point(o,s,c){o._context.bezierCurveTo(o._x1+o._k*(o._x2-o._x0),o._y1+o._k*(o._y2-o._y0),o._x2+o._k*(o._x1-s),o._y2+o._k*(o._y1-c),o._x2,o._y2)}function Cardinal(o,s){this._context=o,this._k=(1-s)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cardinal_point(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(o,s){switch(o=+o,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,s):this._context.moveTo(o,s);break;case 1:this._point=2,this._x1=o,this._y1=s;break;case 2:this._point=3;default:cardinal_point(this,o,s)}this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=s}};let eK=function custom(o){function cardinal(s){return new Cardinal(s,o)}return cardinal.tension=function(o){return custom(+o)},cardinal}(0);function CardinalClosed(o,s){this._context=o,this._k=(1-s)/6}CardinalClosed.prototype={areaStart:src_noop,areaEnd:src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(o,s){switch(o=+o,s=+s,this._point){case 0:this._point=1,this._x3=o,this._y3=s;break;case 1:this._point=2,this._context.moveTo(this._x4=o,this._y4=s);break;case 2:this._point=3,this._x5=o,this._y5=s;break;default:cardinal_point(this,o,s)}this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=s}};let eQ=function custom(o){function cardinal(s){return new CardinalClosed(s,o)}return cardinal.tension=function(o){return custom(+o)},cardinal}(0);function CardinalOpen(o,s){this._context=o,this._k=(1-s)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(o,s){switch(o=+o,s=+s,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cardinal_point(this,o,s)}this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=s}};let eJ=function custom(o){function cardinal(s){return new CardinalOpen(s,o)}return cardinal.tension=function(o){return custom(+o)},cardinal}(0);function catmullRom_point(o,s,c){var p=o._x1,f=o._y1,g=o._x2,m=o._y2;if(o._l01_a>1e-12){var b=2*o._l01_2a+3*o._l01_a*o._l12_a+o._l12_2a,k=3*o._l01_a*(o._l01_a+o._l12_a);p=(p*b-o._x0*o._l12_2a+o._x2*o._l01_2a)/k,f=(f*b-o._y0*o._l12_2a+o._y2*o._l01_2a)/k}if(o._l23_a>1e-12){var B=2*o._l23_2a+3*o._l23_a*o._l12_a+o._l12_2a,L=3*o._l23_a*(o._l23_a+o._l12_a);g=(g*B+o._x1*o._l23_2a-s*o._l12_2a)/L,m=(m*B+o._y1*o._l23_2a-c*o._l12_2a)/L}o._context.bezierCurveTo(p,f,g,m,o._x2,o._y2)}function CatmullRom(o,s){this._context=o,this._alpha=s}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(o,s){if(o=+o,s=+s,this._point){var c=this._x2-o,p=this._y2-s;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+p*p,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(o,s):this._context.moveTo(o,s);break;case 1:this._point=2;break;case 2:this._point=3;default:catmullRom_point(this,o,s)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=s}};let e0=function custom(o){function catmullRom(s){return o?new CatmullRom(s,o):new Cardinal(s,0)}return catmullRom.alpha=function(o){return custom(+o)},catmullRom}(.5);function CatmullRomClosed(o,s){this._context=o,this._alpha=s}CatmullRomClosed.prototype={areaStart:src_noop,areaEnd:src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(o,s){if(o=+o,s=+s,this._point){var c=this._x2-o,p=this._y2-s;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+p*p,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=o,this._y3=s;break;case 1:this._point=2,this._context.moveTo(this._x4=o,this._y4=s);break;case 2:this._point=3,this._x5=o,this._y5=s;break;default:catmullRom_point(this,o,s)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=s}};let e1=function custom(o){function catmullRom(s){return o?new CatmullRomClosed(s,o):new CardinalClosed(s,0)}return catmullRom.alpha=function(o){return custom(+o)},catmullRom}(.5);function CatmullRomOpen(o,s){this._context=o,this._alpha=s}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(o,s){if(o=+o,s=+s,this._point){var c=this._x2-o,p=this._y2-s;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+p*p,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:catmullRom_point(this,o,s)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=s}};let e2=function custom(o){function catmullRom(s){return o?new CatmullRomOpen(s,o):new CardinalOpen(s,0)}return catmullRom.alpha=function(o){return custom(+o)},catmullRom}(.5);function LinearClosed(o){this._context=o}function linearClosed(o){return new LinearClosed(o)}function slope3(o,s,c){var p=o._x1-o._x0,f=s-o._x1,g=(o._y1-o._y0)/(p||f<0&&-0),m=(c-o._y1)/(f||p<0&&-0);return((g<0?-1:1)+(m<0?-1:1))*Math.min(Math.abs(g),Math.abs(m),.5*Math.abs((g*f+m*p)/(p+f)))||0}function slope2(o,s){var c=o._x1-o._x0;return c?(3*(o._y1-o._y0)/c-s)/2:s}function monotone_point(o,s,c){var p=o._x0,f=o._y0,g=o._x1,m=o._y1,b=(g-p)/3;o._context.bezierCurveTo(p+b,f+b*s,g-b,m-b*c,g,m)}function MonotoneX(o){this._context=o}function MonotoneY(o){this._context=new ReflectContext(o)}function ReflectContext(o){this._context=o}function monotoneX(o){return new MonotoneX(o)}function monotoneY(o){return new MonotoneY(o)}function Natural(o){this._context=o}function controlPoints(o){var s,c,p=o.length-1,f=Array(p),g=Array(p),m=Array(p);for(f[0]=0,g[0]=2,m[0]=o[0]+2*o[1],s=1;s<p-1;++s)f[s]=1,g[s]=4,m[s]=4*o[s]+2*o[s+1];for(f[p-1]=2,g[p-1]=7,m[p-1]=8*o[p-1]+o[p],s=1;s<p;++s)c=f[s]/g[s-1],g[s]-=c,m[s]-=c*m[s-1];for(f[p-1]=m[p-1]/g[p-1],s=p-2;s>=0;--s)f[s]=(m[s]-f[s+1])/g[s];for(s=0,g[p-1]=(o[p]+f[p-1])/2;s<p-1;++s)g[s]=2*o[s+1]-f[s+1];return[f,g]}function natural(o){return new Natural(o)}function Step(o,s){this._context=o,this._t=s}function step(o){return new Step(o,.5)}function stepBefore(o){return new Step(o,0)}function stepAfter(o){return new Step(o,1)}function transform_Transform(o,s,c){this.k=o,this.x=s,this.y=c}LinearClosed.prototype={areaStart:src_noop,areaEnd:src_noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(o,s){o=+o,s=+s,this._point?this._context.lineTo(o,s):(this._point=1,this._context.moveTo(o,s))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:monotone_point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(o,s){var c=NaN;if(s=+s,(o=+o)!==this._x1||s!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(o,s):this._context.moveTo(o,s);break;case 1:this._point=2;break;case 2:this._point=3,monotone_point(this,slope2(this,c=slope3(this,o,s)),c);break;default:monotone_point(this,this._t0,c=slope3(this,o,s))}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=s,this._t0=c}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(o,s){MonotoneX.prototype.point.call(this,s,o)},ReflectContext.prototype={moveTo:function(o,s){this._context.moveTo(s,o)},closePath:function(){this._context.closePath()},lineTo:function(o,s){this._context.lineTo(s,o)},bezierCurveTo:function(o,s,c,p,f,g){this._context.bezierCurveTo(s,o,p,c,g,f)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var o=this._x,s=this._y,c=o.length;if(c){if(this._line?this._context.lineTo(o[0],s[0]):this._context.moveTo(o[0],s[0]),2===c)this._context.lineTo(o[1],s[1]);else for(var p=controlPoints(o),f=controlPoints(s),g=0,m=1;m<c;++g,++m)this._context.bezierCurveTo(p[0][g],f[0][g],p[1][g],f[1][g],o[m],s[m])}(this._line||0!==this._line&&1===c)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(o,s){this._x.push(+o),this._y.push(+s)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(o,s){switch(o=+o,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,s):this._context.moveTo(o,s);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,s),this._context.lineTo(o,s);else{var c=this._x*(1-this._t)+o*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,s)}}this._x=o,this._y=s}},transform_Transform.prototype={constructor:transform_Transform,scale:function(o){return 1===o?this:new transform_Transform(this.k*o,this.x,this.y)},translate:function(o,s){return 0===o&0===s?this:new transform_Transform(this.k,this.x+this.k*o,this.y+this.k*s)},apply:function(o){return[o[0]*this.k+this.x,o[1]*this.k+this.y]},applyX:function(o){return o*this.k+this.x},applyY:function(o){return o*this.k+this.y},invert:function(o){return[(o[0]-this.x)/this.k,(o[1]-this.y)/this.k]},invertX:function(o){return(o-this.x)/this.k},invertY:function(o){return(o-this.y)/this.k},rescaleX:function(o){return o.copy().domain(o.range().map(this.invertX,this).map(o.invert,o))},rescaleY:function(o){return o.copy().domain(o.range().map(this.invertY,this).map(o.invert,o))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new transform_Transform(1,0,0),transform_Transform.prototype},8126:(o,s,c)=>{"use strict";c.d(s,{Z:()=>k});var p=c(9324),f=c(2972);let g=class{constructor(){this.type=f.w.ALL}get(){return this.type}set(o){if(this.type&&this.type!==o)throw Error("Cannot change both RGB and HSL channels at the same time");this.type=o}reset(){this.type=f.w.ALL}is(o){return this.type===o}},m=class{constructor(o,s){this.color=s,this.changed=!1,this.data=o,this.type=new g}set(o,s){return this.color=s,this.changed=!1,this.data=o,this.type.type=f.w.ALL,this}_ensureHSL(){let o=this.data,{h:s,s:c,l:f}=o;void 0===s&&(o.h=p.Z.channel.rgb2hsl(o,"h")),void 0===c&&(o.s=p.Z.channel.rgb2hsl(o,"s")),void 0===f&&(o.l=p.Z.channel.rgb2hsl(o,"l"))}_ensureRGB(){let o=this.data,{r:s,g:c,b:f}=o;void 0===s&&(o.r=p.Z.channel.hsl2rgb(o,"r")),void 0===c&&(o.g=p.Z.channel.hsl2rgb(o,"g")),void 0===f&&(o.b=p.Z.channel.hsl2rgb(o,"b"))}get r(){let o=this.data,s=o.r;return this.type.is(f.w.HSL)||void 0===s?(this._ensureHSL(),p.Z.channel.hsl2rgb(o,"r")):s}get g(){let o=this.data,s=o.g;return this.type.is(f.w.HSL)||void 0===s?(this._ensureHSL(),p.Z.channel.hsl2rgb(o,"g")):s}get b(){let o=this.data,s=o.b;return this.type.is(f.w.HSL)||void 0===s?(this._ensureHSL(),p.Z.channel.hsl2rgb(o,"b")):s}get h(){let o=this.data,s=o.h;return this.type.is(f.w.RGB)||void 0===s?(this._ensureRGB(),p.Z.channel.rgb2hsl(o,"h")):s}get s(){let o=this.data,s=o.s;return this.type.is(f.w.RGB)||void 0===s?(this._ensureRGB(),p.Z.channel.rgb2hsl(o,"s")):s}get l(){let o=this.data,s=o.l;return this.type.is(f.w.RGB)||void 0===s?(this._ensureRGB(),p.Z.channel.rgb2hsl(o,"l")):s}get a(){return this.data.a}set r(o){this.type.set(f.w.RGB),this.changed=!0,this.data.r=o}set g(o){this.type.set(f.w.RGB),this.changed=!0,this.data.g=o}set b(o){this.type.set(f.w.RGB),this.changed=!0,this.data.b=o}set h(o){this.type.set(f.w.HSL),this.changed=!0,this.data.h=o}set s(o){this.type.set(f.w.HSL),this.changed=!0,this.data.s=o}set l(o){this.type.set(f.w.HSL),this.changed=!0,this.data.l=o}set a(o){this.changed=!0,this.data.a=o}},b=new m({r:0,g:0,b:0,a:0},"transparent"),k=b},3660:(o,s,c)=>{"use strict";c.d(s,{Z:()=>L});var p=c(8126),f=c(2972);let g={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:o=>{if(35!==o.charCodeAt(0))return;let s=o.match(g.re);if(!s)return;let c=s[1],f=parseInt(c,16),m=c.length,b=m%4==0,k=m>4,B=k?1:17,L=k?8:4,X=b?0:-1,J=k?255:15;return p.Z.set({r:(f>>L*(X+3)&J)*B,g:(f>>L*(X+2)&J)*B,b:(f>>L*(X+1)&J)*B,a:b?(f&J)*B/255:1},o)},stringify:o=>{let{r:s,g:c,b:p,a:g}=o;return g<1?`#${f.Q[Math.round(s)]}${f.Q[Math.round(c)]}${f.Q[Math.round(p)]}${f.Q[Math.round(255*g)]}`:`#${f.Q[Math.round(s)]}${f.Q[Math.round(c)]}${f.Q[Math.round(p)]}`}};var m=c(9324);let b={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:o=>{let s=o.match(b.hueRe);if(s){let[,o,c]=s;switch(c){case"grad":return m.Z.channel.clamp.h(.9*parseFloat(o));case"rad":return m.Z.channel.clamp.h(180*parseFloat(o)/Math.PI);case"turn":return m.Z.channel.clamp.h(360*parseFloat(o))}}return m.Z.channel.clamp.h(parseFloat(o))},parse:o=>{let s=o.charCodeAt(0);if(104!==s&&72!==s)return;let c=o.match(b.re);if(!c)return;let[,f,g,k,B,L]=c;return p.Z.set({h:b._hue2deg(f),s:m.Z.channel.clamp.s(parseFloat(g)),l:m.Z.channel.clamp.l(parseFloat(k)),a:B?m.Z.channel.clamp.a(L?parseFloat(B)/100:parseFloat(B)):1},o)},stringify:o=>{let{h:s,s:c,l:p,a:f}=o;return f<1?`hsla(${m.Z.lang.round(s)}, ${m.Z.lang.round(c)}%, ${m.Z.lang.round(p)}%, ${f})`:`hsl(${m.Z.lang.round(s)}, ${m.Z.lang.round(c)}%, ${m.Z.lang.round(p)}%)`}},k={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:o=>{o=o.toLowerCase();let s=k.colors[o];if(s)return g.parse(s)},stringify:o=>{let s=g.stringify(o);for(let o in k.colors)if(k.colors[o]===s)return o}},B={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:o=>{let s=o.charCodeAt(0);if(114!==s&&82!==s)return;let c=o.match(B.re);if(!c)return;let[,f,g,b,k,L,X,J,te]=c;return p.Z.set({r:m.Z.channel.clamp.r(g?2.55*parseFloat(f):parseFloat(f)),g:m.Z.channel.clamp.g(k?2.55*parseFloat(b):parseFloat(b)),b:m.Z.channel.clamp.b(X?2.55*parseFloat(L):parseFloat(L)),a:J?m.Z.channel.clamp.a(te?parseFloat(J)/100:parseFloat(J)):1},o)},stringify:o=>{let{r:s,g:c,b:p,a:f}=o;return f<1?`rgba(${m.Z.lang.round(s)}, ${m.Z.lang.round(c)}, ${m.Z.lang.round(p)}, ${m.Z.lang.round(f)})`:`rgb(${m.Z.lang.round(s)}, ${m.Z.lang.round(c)}, ${m.Z.lang.round(p)})`}},L={format:{keyword:k,hex:g,rgb:B,rgba:B,hsl:b,hsla:b},parse:o=>{if("string"!=typeof o)return o;let s=g.parse(o)||B.parse(o)||b.parse(o)||k.parse(o);if(s)return s;throw Error(`Unsupported color format: "${o}"`)},stringify:o=>!o.changed&&o.color?o.color:o.type.is(f.w.HSL)||void 0===o.data.r?b.stringify(o):!(o.a<1)&&Number.isInteger(o.r)&&Number.isInteger(o.g)&&Number.isInteger(o.b)?g.stringify(o):B.stringify(o)}},2972:(o,s,c)=>{"use strict";c.d(s,{Q:()=>f,w:()=>g});var p=c(9324);let f={};for(let o=0;o<=255;o++)f[o]=p.Z.unit.dec2hex(o);let g={ALL:0,RGB:1,HSL:2}},595:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(9324),f=c(3660);let __WEBPACK_DEFAULT_EXPORT__=(o,s,c)=>{let g=f.Z.parse(o),m=g[s],b=p.Z.channel.clamp[s](m+c);return m!==b&&(g[s]=b),f.Z.stringify(g)}},3338:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(9324),f=c(3660);let __WEBPACK_DEFAULT_EXPORT__=(o,s)=>{let c=f.Z.parse(o);for(let o in s)c[o]=p.Z.channel.clamp[o](s[o]);return f.Z.stringify(c)}},3596:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(595);let __WEBPACK_DEFAULT_EXPORT__=(o,s)=>(0,p.Z)(o,"l",-s)},3723:(o,s,c)=>{"use strict";c.d(s,{Z:()=>is_dark});var p=c(9324),f=c(3660);let methods_luminance=o=>{let{r:s,g:c,b:g}=f.Z.parse(o),m=.2126*p.Z.channel.toLinear(s)+.7152*p.Z.channel.toLinear(c)+.0722*p.Z.channel.toLinear(g);return p.Z.lang.round(m)},is_light=o=>methods_luminance(o)>=.5,is_dark=o=>!is_light(o)},5680:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(595);let __WEBPACK_DEFAULT_EXPORT__=(o,s)=>(0,p.Z)(o,"l",s)},8139:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(9324),f=c(8126),g=c(3660),m=c(3338);let __WEBPACK_DEFAULT_EXPORT__=(o,s,c=0,b=1)=>{if("number"!=typeof o)return(0,m.Z)(o,{a:s});let k=f.Z.set({r:p.Z.channel.clamp.r(o),g:p.Z.channel.clamp.g(s),b:p.Z.channel.clamp.b(c),a:p.Z.channel.clamp.a(b)});return g.Z.stringify(k)}},9324:(o,s,c)=>{"use strict";c.d(s,{Z:()=>f});let p={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:o=>o>=255?255:o<0?0:o,g:o=>o>=255?255:o<0?0:o,b:o=>o>=255?255:o<0?0:o,h:o=>o%360,s:o=>o>=100?100:o<0?0:o,l:o=>o>=100?100:o<0?0:o,a:o=>o>=1?1:o<0?0:o},toLinear:o=>{let s=o/255;return o>.03928?Math.pow((s+.055)/1.055,2.4):s/12.92},hue2rgb:(o,s,c)=>(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?o+(s-o)*6*c:c<.5?s:c<2/3?o+(s-o)*(2/3-c)*6:o,hsl2rgb:({h:o,s,l:c},f)=>{if(!s)return 2.55*c;o/=360,s/=100,c/=100;let g=c<.5?c*(1+s):c+s-c*s,m=2*c-g;switch(f){case"r":return 255*p.hue2rgb(m,g,o+1/3);case"g":return 255*p.hue2rgb(m,g,o);case"b":return 255*p.hue2rgb(m,g,o-1/3)}},rgb2hsl:({r:o,g:s,b:c},p)=>{o/=255,s/=255,c/=255;let f=Math.max(o,s,c),g=Math.min(o,s,c),m=(f+g)/2;if("l"===p)return 100*m;if(f===g)return 0;let b=f-g;if("s"===p)return 100*(m>.5?b/(2-f-g):b/(f+g));switch(f){case o:return((s-c)/b+(s<c?6:0))*60;case s:return((c-o)/b+2)*60;case c:return((o-s)/b+4)*60;default:return -1}}},f={channel:p,lang:{clamp:(o,s,c)=>s>c?Math.min(s,Math.max(c,o)):Math.min(c,Math.max(s,o)),round:o=>Math.round(1e10*o)/1e10},unit:{dec2hex:o=>{let s=Math.round(o).toString(16);return s.length>1?s:`0${s}`}}}},1779:(o,s,c)=>{"use strict";c.d(s,{Z:()=>g});var p=c(4523);let _assocIndexOf=function(o,s){for(var c=o.length;c--;)if((0,p.Z)(o[c][0],s))return c;return -1};var f=Array.prototype.splice;function ListCache(o){var s=-1,c=null==o?0:o.length;for(this.clear();++s<c;){var p=o[s];this.set(p[0],p[1])}}ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(o){var s=this.__data__,c=_assocIndexOf(s,o);return!(c<0)&&(c==s.length-1?s.pop():f.call(s,c,1),--this.size,!0)},ListCache.prototype.get=function(o){var s=this.__data__,c=_assocIndexOf(s,o);return c<0?void 0:s[c][1]},ListCache.prototype.has=function(o){return _assocIndexOf(this.__data__,o)>-1},ListCache.prototype.set=function(o,s){var c=this.__data__,p=_assocIndexOf(c,o);return p<0?(++this.size,c.push([o,s])):c[p][1]=s,this};let g=ListCache},9385:(o,s,c)=>{"use strict";c.d(s,{Z:()=>m});var p=c(1311),f=c(9615),g=(0,p.Z)(f.Z,"Map");let m=g},1380:(o,s,c)=>{"use strict";c.d(s,{Z:()=>k});var p=(0,c(1311).Z)(Object,"create"),f=Object.prototype.hasOwnProperty,g=Object.prototype.hasOwnProperty;function Hash(o){var s=-1,c=null==o?0:o.length;for(this.clear();++s<c;){var p=o[s];this.set(p[0],p[1])}}Hash.prototype.clear=function(){this.__data__=p?p(null):{},this.size=0},Hash.prototype.delete=function(o){var s=this.has(o)&&delete this.__data__[o];return this.size-=s?1:0,s},Hash.prototype.get=function(o){var s=this.__data__;if(p){var c=s[o];return"__lodash_hash_undefined__"===c?void 0:c}return f.call(s,o)?s[o]:void 0},Hash.prototype.has=function(o){var s=this.__data__;return p?void 0!==s[o]:g.call(s,o)},Hash.prototype.set=function(o,s){var c=this.__data__;return this.size+=this.has(o)?0:1,c[o]=p&&void 0===s?"__lodash_hash_undefined__":s,this};var m=c(1779),b=c(9385);let _isKeyable=function(o){var s=typeof o;return"string"==s||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==o:null===o},_getMapData=function(o,s){var c=o.__data__;return _isKeyable(s)?c["string"==typeof s?"string":"hash"]:c.map};function MapCache(o){var s=-1,c=null==o?0:o.length;for(this.clear();++s<c;){var p=o[s];this.set(p[0],p[1])}}MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(b.Z||m.Z),string:new Hash}},MapCache.prototype.delete=function(o){var s=_getMapData(this,o).delete(o);return this.size-=s?1:0,s},MapCache.prototype.get=function(o){return _getMapData(this,o).get(o)},MapCache.prototype.has=function(o){return _getMapData(this,o).has(o)},MapCache.prototype.set=function(o,s){var c=_getMapData(this,o),p=c.size;return c.set(o,s),this.size+=c.size==p?0:1,this};let k=MapCache},6169:(o,s,c)=>{"use strict";c.d(s,{Z:()=>m});var p=c(1311),f=c(9615),g=(0,p.Z)(f.Z,"Set");let m=g},4507:(o,s,c)=>{"use strict";c.d(s,{Z:()=>m});var p=c(1779),f=c(9385),g=c(1380);function Stack(o){var s=this.__data__=new p.Z(o);this.size=s.size}Stack.prototype.clear=function(){this.__data__=new p.Z,this.size=0},Stack.prototype.delete=function(o){var s=this.__data__,c=s.delete(o);return this.size=s.size,c},Stack.prototype.get=function(o){return this.__data__.get(o)},Stack.prototype.has=function(o){return this.__data__.has(o)},Stack.prototype.set=function(o,s){var c=this.__data__;if(c instanceof p.Z){var m=c.__data__;if(!f.Z||m.length<199)return m.push([o,s]),this.size=++c.size,this;c=this.__data__=new g.Z(m)}return c.set(o,s),this.size=c.size,this};let m=Stack},6711:(o,s,c)=>{"use strict";c.d(s,{Z:()=>f});var p=c(9615).Z.Symbol;let f=p},6299:(o,s,c)=>{"use strict";c.d(s,{Z:()=>f});var p=c(9615).Z.Uint8Array;let f=p},6858:(o,s,c)=>{"use strict";c.d(s,{Z:()=>_arrayLikeKeys});let _baseTimes=function(o,s){for(var c=-1,p=Array(o);++c<o;)p[c]=s(c);return p};var p=c(5380),f=c(6052),g=c(5673),m=c(9313),b=c(9064),k=Object.prototype.hasOwnProperty;let _arrayLikeKeys=function(o,s){var c=(0,f.Z)(o),B=!c&&(0,p.Z)(o),L=!c&&!B&&(0,g.Z)(o),X=!c&&!B&&!L&&(0,b.Z)(o),J=c||B||L||X,te=J?_baseTimes(o.length,String):[],tr=te.length;for(var ti in o)(s||k.call(o,ti))&&!(J&&("length"==ti||L&&("offset"==ti||"parent"==ti)||X&&("buffer"==ti||"byteLength"==ti||"byteOffset"==ti)||(0,m.Z)(ti,tr)))&&te.push(ti);return te}},1572:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(857),f=c(4523),g=Object.prototype.hasOwnProperty;let __WEBPACK_DEFAULT_EXPORT__=function(o,s,c){var m=o[s];g.call(o,s)&&(0,f.Z)(m,c)&&(void 0!==c||s in o)||(0,p.Z)(o,s,c)}},857:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(5136);let __WEBPACK_DEFAULT_EXPORT__=function(o,s,c){"__proto__"==s&&p.Z?(0,p.Z)(o,s,{configurable:!0,enumerable:!0,value:c,writable:!0}):o[s]=c}},9148:(o,s,c)=>{"use strict";c.d(s,{Z:()=>_baseFor});let _baseFor=function(o,s,c){for(var p=-1,f=Object(o),g=c(o),m=g.length;m--;){var b=g[++p];if(!1===s(f[b],b,f))break}return o}},3918:(o,s,c)=>{"use strict";c.d(s,{Z:()=>_baseGetTag});var p=c(6711),f=Object.prototype,g=f.hasOwnProperty,m=f.toString,b=p.Z?p.Z.toStringTag:void 0;let _getRawTag=function(o){var s=g.call(o,b),c=o[b];try{o[b]=void 0;var p=!0}catch(o){}var f=m.call(o);return p&&(s?o[b]=c:delete o[b]),f};var k=Object.prototype.toString,B=p.Z?p.Z.toStringTag:void 0;let _baseGetTag=function(o){return null==o?void 0===o?"[object Undefined]":"[object Null]":B&&B in Object(o)?_getRawTag(o):k.call(o)}},8343:(o,s,c)=>{"use strict";c.d(s,{Z:()=>_baseKeys});var p=c(5196),f=(0,c(5635).Z)(Object.keys,Object),g=Object.prototype.hasOwnProperty;let _baseKeys=function(o){if(!(0,p.Z)(o))return f(o);var s=[];for(var c in Object(o))g.call(o,c)&&"constructor"!=c&&s.push(c);return s}},9851:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(6402),f=c(8416),g=c(3772);let __WEBPACK_DEFAULT_EXPORT__=function(o,s){return(0,g.Z)((0,f.Z)(o,s,p.Z),o+"")}},5467:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});let __WEBPACK_DEFAULT_EXPORT__=function(o){return function(s){return o(s)}}},7990:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(6299);let __WEBPACK_DEFAULT_EXPORT__=function(o){var s=new o.constructor(o.byteLength);return new p.Z(s).set(new p.Z(o)),s}},5309:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(9615),f="object"==typeof exports&&exports&&!exports.nodeType&&exports,g=f&&"object"==typeof module&&module&&!module.nodeType&&module,m=g&&g.exports===f?p.Z.Buffer:void 0,b=m?m.allocUnsafe:void 0;let __WEBPACK_DEFAULT_EXPORT__=function(o,s){if(s)return o.slice();var c=o.length,p=b?b(c):new o.constructor(c);return o.copy(p),p}},1523:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(7990);let __WEBPACK_DEFAULT_EXPORT__=function(o,s){var c=s?(0,p.Z)(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.length)}},2126:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});let __WEBPACK_DEFAULT_EXPORT__=function(o,s){var c=-1,p=o.length;for(s||(s=Array(p));++c<p;)s[c]=o[c];return s}},2949:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(1572),f=c(857);let __WEBPACK_DEFAULT_EXPORT__=function(o,s,c,g){var m=!c;c||(c={});for(var b=-1,k=s.length;++b<k;){var B=s[b],L=g?g(c[B],o[B],B,c,o):void 0;void 0===L&&(L=o[B]),m?(0,f.Z)(c,B,L):(0,p.Z)(c,B,L)}return c}},1543:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(9851),f=c(1833);let __WEBPACK_DEFAULT_EXPORT__=function(o){return(0,p.Z)(function(s,c){var p=-1,g=c.length,m=g>1?c[g-1]:void 0,b=g>2?c[2]:void 0;for(m=o.length>3&&"function"==typeof m?(g--,m):void 0,b&&(0,f.Z)(c[0],c[1],b)&&(m=g<3?void 0:m,g=1),s=Object(s);++p<g;){var k=c[p];k&&o(s,k,p,m)}return s})}},5136:(o,s,c)=>{"use strict";c.d(s,{Z:()=>g});var p=c(1311),f=function(){try{var o=(0,p.Z)(Object,"defineProperty");return o({},"",{}),o}catch(o){}}();let g=f},7889:(o,s,c)=>{"use strict";c.d(s,{Z:()=>f});var p="object"==typeof global&&global&&global.Object===Object&&global;let f=p},1311:(o,s,c)=>{"use strict";c.d(s,{Z:()=>_getNative});var p=c(8987),f=c(9615).Z["__core-js_shared__"],g=function(){var o=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),m=c(2433),b=c(5114),k=/^\[object .+?Constructor\]$/,B=Object.prototype,L=Function.prototype.toString,X=B.hasOwnProperty,J=RegExp("^"+L.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");let _getNative=function(o,s){var c,f=null==o?void 0:o[s];return(c=f,(0,m.Z)(c)&&(!g||!(g in c))&&((0,p.Z)(c)?J:k).test((0,b.Z)(c)))?f:void 0}},964:(o,s,c)=>{"use strict";c.d(s,{Z:()=>f});var p=(0,c(5635).Z)(Object.getPrototypeOf,Object);let f=p},3313:(o,s,c)=>{"use strict";c.d(s,{Z:()=>tu});var p=c(1311),f=c(9615),g=(0,p.Z)(f.Z,"DataView"),m=c(9385),b=(0,p.Z)(f.Z,"Promise"),k=c(6169),B=(0,p.Z)(f.Z,"WeakMap"),L=c(3918),X=c(5114),J="[object Map]",te="[object Promise]",tr="[object Set]",ti="[object WeakMap]",tn="[object DataView]",ta=(0,X.Z)(g),to=(0,X.Z)(m.Z),ts=(0,X.Z)(b),tl=(0,X.Z)(k.Z),th=(0,X.Z)(B),tc=L.Z;(g&&tc(new g(new ArrayBuffer(1)))!=tn||m.Z&&tc(new m.Z)!=J||b&&tc(b.resolve())!=te||k.Z&&tc(new k.Z)!=tr||B&&tc(new B)!=ti)&&(tc=function(o){var s=(0,L.Z)(o),c="[object Object]"==s?o.constructor:void 0,p=c?(0,X.Z)(c):"";if(p)switch(p){case ta:return tn;case to:return J;case ts:return te;case tl:return tr;case th:return ti}return s});let tu=tc},6448:(o,s,c)=>{"use strict";c.d(s,{Z:()=>_initCloneObject});var p=c(2433),f=Object.create,g=function(){function object(){}return function(o){if(!(0,p.Z)(o))return{};if(f)return f(o);object.prototype=o;var s=new object;return object.prototype=void 0,s}}(),m=c(964),b=c(5196);let _initCloneObject=function(o){return"function"!=typeof o.constructor||(0,b.Z)(o)?{}:g((0,m.Z)(o))}},9313:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=/^(?:0|[1-9]\d*)$/;let __WEBPACK_DEFAULT_EXPORT__=function(o,s){var c=typeof o;return!!(s=null==s?9007199254740991:s)&&("number"==c||"symbol"!=c&&p.test(o))&&o>-1&&o%1==0&&o<s}},1833:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(4523),f=c(9634),g=c(9313),m=c(2433);let __WEBPACK_DEFAULT_EXPORT__=function(o,s,c){if(!(0,m.Z)(c))return!1;var b=typeof s;return("number"==b?!!((0,f.Z)(c)&&(0,g.Z)(s,c.length)):"string"==b&&s in c)&&(0,p.Z)(c[s],o)}},5196:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=Object.prototype;let __WEBPACK_DEFAULT_EXPORT__=function(o){var s=o&&o.constructor;return o===("function"==typeof s&&s.prototype||p)}},2350:(o,s,c)=>{"use strict";c.d(s,{Z:()=>k});var p=c(7889),f="object"==typeof exports&&exports&&!exports.nodeType&&exports,g=f&&"object"==typeof module&&module&&!module.nodeType&&module,m=g&&g.exports===f&&p.Z.process,b=function(){try{var o=g&&g.require&&g.require("util").types;if(o)return o;return m&&m.binding&&m.binding("util")}catch(o){}}();let k=b},5635:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});let __WEBPACK_DEFAULT_EXPORT__=function(o,s){return function(c){return o(s(c))}}},8416:(o,s,c)=>{"use strict";c.d(s,{Z:()=>_overRest});let _apply=function(o,s,c){switch(c.length){case 0:return o.call(s);case 1:return o.call(s,c[0]);case 2:return o.call(s,c[0],c[1]);case 3:return o.call(s,c[0],c[1],c[2])}return o.apply(s,c)};var p=Math.max;let _overRest=function(o,s,c){return s=p(void 0===s?o.length-1:s,0),function(){for(var f=arguments,g=-1,m=p(f.length-s,0),b=Array(m);++g<m;)b[g]=f[s+g];g=-1;for(var k=Array(s+1);++g<s;)k[g]=f[g];return k[s]=c(b),_apply(o,this,k)}}},9615:(o,s,c)=>{"use strict";c.d(s,{Z:()=>m});var p=c(7889),f="object"==typeof self&&self&&self.Object===Object&&self,g=p.Z||f||Function("return this")();let m=g},3772:(o,s,c)=>{"use strict";c.d(s,{Z:()=>B});var p=c(6964),f=c(5136),g=c(6402),m=f.Z?function(o,s){return(0,f.Z)(o,"toString",{configurable:!0,enumerable:!1,value:(0,p.Z)(s),writable:!0})}:g.Z,b=Date.now,k=function(o){var s=0,c=0;return function(){var p=b(),f=16-(p-c);if(c=p,f>0){if(++s>=800)return arguments[0]}else s=0;return o.apply(void 0,arguments)}}(m);let B=k},5114:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=Function.prototype.toString;let __WEBPACK_DEFAULT_EXPORT__=function(o){if(null!=o){try{return p.call(o)}catch(o){}try{return o+""}catch(o){}}return""}},6964:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});let __WEBPACK_DEFAULT_EXPORT__=function(o){return function(){return o}}},4523:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});let __WEBPACK_DEFAULT_EXPORT__=function(o,s){return o===s||o!=o&&s!=s}},6402:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});let __WEBPACK_DEFAULT_EXPORT__=function(o){return o}},5380:(o,s,c)=>{"use strict";c.d(s,{Z:()=>B});var p=c(3918),f=c(3795);let _baseIsArguments=function(o){return(0,f.Z)(o)&&"[object Arguments]"==(0,p.Z)(o)};var g=Object.prototype,m=g.hasOwnProperty,b=g.propertyIsEnumerable,k=_baseIsArguments(function(){return arguments}())?_baseIsArguments:function(o){return(0,f.Z)(o)&&m.call(o,"callee")&&!b.call(o,"callee")};let B=k},6052:(o,s,c)=>{"use strict";c.d(s,{Z:()=>f});var p=Array.isArray;let f=p},9634:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(8987),f=c(5743);let __WEBPACK_DEFAULT_EXPORT__=function(o){return null!=o&&(0,f.Z)(o.length)&&!(0,p.Z)(o)}},4488:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(9634),f=c(3795);let __WEBPACK_DEFAULT_EXPORT__=function(o){return(0,f.Z)(o)&&(0,p.Z)(o)}},5673:(o,s,c)=>{"use strict";c.d(s,{Z:()=>k});var p=c(9615),f="object"==typeof exports&&exports&&!exports.nodeType&&exports,g=f&&"object"==typeof module&&module&&!module.nodeType&&module,m=g&&g.exports===f?p.Z.Buffer:void 0,b=m?m.isBuffer:void 0;let k=b||function(){return!1}},5943:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(8343),f=c(3313),g=c(5380),m=c(6052),b=c(9634),k=c(5673),B=c(5196),L=c(9064),X=Object.prototype.hasOwnProperty;let __WEBPACK_DEFAULT_EXPORT__=function(o){if(null==o)return!0;if((0,b.Z)(o)&&((0,m.Z)(o)||"string"==typeof o||"function"==typeof o.splice||(0,k.Z)(o)||(0,L.Z)(o)||(0,g.Z)(o)))return!o.length;var s=(0,f.Z)(o);if("[object Map]"==s||"[object Set]"==s)return!o.size;if((0,B.Z)(o))return!(0,p.Z)(o).length;for(var c in o)if(X.call(o,c))return!1;return!0}},8987:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var p=c(3918),f=c(2433);let __WEBPACK_DEFAULT_EXPORT__=function(o){if(!(0,f.Z)(o))return!1;var s=(0,p.Z)(o);return"[object Function]"==s||"[object GeneratorFunction]"==s||"[object AsyncFunction]"==s||"[object Proxy]"==s}},5743:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});let __WEBPACK_DEFAULT_EXPORT__=function(o){return"number"==typeof o&&o>-1&&o%1==0&&o<=9007199254740991}},2433:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});let __WEBPACK_DEFAULT_EXPORT__=function(o){var s=typeof o;return null!=o&&("object"==s||"function"==s)}},3795:(o,s,c)=>{"use strict";c.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});let __WEBPACK_DEFAULT_EXPORT__=function(o){return null!=o&&"object"==typeof o}},9064:(o,s,c)=>{"use strict";c.d(s,{Z:()=>X});var p=c(3918),f=c(5743),g=c(3795),m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Arguments]"]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m["[object Map]"]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1;var b=c(5467),k=c(2350),B=k.Z&&k.Z.isTypedArray,L=B?(0,b.Z)(B):function(o){return(0,g.Z)(o)&&(0,f.Z)(o.length)&&!!m[(0,p.Z)(o)]};let X=L},2817:(o,s,c)=>{"use strict";c.d(s,{Z:()=>lodash_es_keysIn});var p=c(6858),f=c(2433),g=c(5196);let _nativeKeysIn=function(o){var s=[];if(null!=o)for(var c in Object(o))s.push(c);return s};var m=Object.prototype.hasOwnProperty;let _baseKeysIn=function(o){if(!(0,f.Z)(o))return _nativeKeysIn(o);var s=(0,g.Z)(o),c=[];for(var p in o)"constructor"==p&&(s||!m.call(o,p))||c.push(p);return c};var b=c(9634);let lodash_es_keysIn=function(o){return(0,b.Z)(o)?(0,p.Z)(o,!0):_baseKeysIn(o)}},9332:(o,s,c)=>{"use strict";c.d(s,{Z:()=>f});var p=c(1380);function memoize(o,s){if("function"!=typeof o||null!=s&&"function"!=typeof s)throw TypeError("Expected a function");var memoized=function(){var c=arguments,p=s?s.apply(this,c):c[0],f=memoized.cache;if(f.has(p))return f.get(p);var g=o.apply(this,c);return memoized.cache=f.set(p,g)||f,g};return memoized.cache=new(memoize.Cache||p.Z),memoized}memoize.Cache=p.Z;let f=memoize},1263:(o,s,c)=>{"use strict";c.d(s,{Z:()=>tm});var p=c(4507),f=c(857),g=c(4523);let _assignMergeValue=function(o,s,c){(void 0===c||(0,g.Z)(o[s],c))&&(void 0!==c||s in o)||(0,f.Z)(o,s,c)};var m=c(9148),b=c(5309),k=c(1523),B=c(2126),L=c(6448),X=c(5380),J=c(6052),te=c(4488),tr=c(5673),ti=c(8987),tn=c(2433),ta=c(3918),to=c(964),ts=c(3795),tl=Object.prototype,th=Function.prototype.toString,tc=tl.hasOwnProperty,tu=th.call(Object);let lodash_es_isPlainObject=function(o){if(!(0,ts.Z)(o)||"[object Object]"!=(0,ta.Z)(o))return!1;var s=(0,to.Z)(o);if(null===s)return!0;var c=tc.call(s,"constructor")&&s.constructor;return"function"==typeof c&&c instanceof c&&th.call(c)==tu};var td=c(9064);let _safeGet=function(o,s){if(("constructor"!==s||"function"!=typeof o[s])&&"__proto__"!=s)return o[s]};var tp=c(2949),tf=c(2817);let _baseMergeDeep=function(o,s,c,p,f,g,m){var ta=_safeGet(o,c),to=_safeGet(s,c),ts=m.get(to);if(ts){_assignMergeValue(o,c,ts);return}var tl=g?g(ta,to,c+"",o,s,m):void 0,th=void 0===tl;if(th){var tc=(0,J.Z)(to),tu=!tc&&(0,tr.Z)(to),tg=!tc&&!tu&&(0,td.Z)(to);(tl=to,tc||tu||tg)?(0,J.Z)(ta)?tl=ta:(0,te.Z)(ta)?tl=(0,B.Z)(ta):tu?(th=!1,tl=(0,b.Z)(to,!0)):tg?(th=!1,tl=(0,k.Z)(to,!0)):tl=[]:lodash_es_isPlainObject(to)||(0,X.Z)(to)?(tl=ta,(0,X.Z)(ta))?tl=(0,tp.Z)(ta,(0,tf.Z)(ta)):(!(0,tn.Z)(ta)||(0,ti.Z)(ta))&&(tl=(0,L.Z)(to)):th=!1}th&&(m.set(to,tl),f(tl,to,p,g,m),m.delete(to)),_assignMergeValue(o,c,tl)},_baseMerge=function baseMerge(o,s,c,f,g){o!==s&&(0,m.Z)(s,function(m,b){if(g||(g=new p.Z),(0,tn.Z)(m))_baseMergeDeep(o,s,b,c,baseMerge,f,g);else{var k=f?f(_safeGet(o,b),m,b+"",o,s,g):void 0;void 0===k&&(k=m),_assignMergeValue(o,b,k)}},tf.Z)};var tg=(0,c(1543).Z)(function(o,s,c){_baseMerge(o,s,c)});let tm=tg},3895:(o,s,c)=>{"use strict";c.d(s,{s4:()=>th,ef:()=>ts,cN:()=>tn});var p=c(8554);let f=/^[a-z0-9]+(-[a-z0-9]+)*$/,stringToIcon=(o,s,c,p="")=>{let f=o.split(":");if("@"===o.slice(0,1)){if(f.length<2||f.length>3)return null;p=f.shift().slice(1)}if(f.length>3||!f.length)return null;if(f.length>1){let o=f.pop(),c=f.pop(),g={provider:f.length>0?f[0]:p,prefix:c,name:o};return s&&!validateIconName(g)?null:g}let g=f[0],m=g.split("-");if(m.length>1){let o={provider:p,prefix:m.shift(),name:m.join("-")};return s&&!validateIconName(o)?null:o}if(c&&""===p){let o={provider:p,prefix:"",name:g};return s&&!validateIconName(o,c)?null:o}return null},validateIconName=(o,s)=>!!o&&!!((""===o.provider||o.provider.match(f))&&(s&&""===o.prefix||o.prefix.match(f))&&o.name.match(f)),g=Object.freeze({left:0,top:0,width:16,height:16}),m=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),b=Object.freeze({...g,...m}),k=Object.freeze({...b,body:"",hidden:!1});function mergeIconData(o,s){let c=function(o,s){let c={};!o.hFlip!=!s.hFlip&&(c.hFlip=!0),!o.vFlip!=!s.vFlip&&(c.vFlip=!0);let p=((o.rotate||0)+(s.rotate||0))%4;return p&&(c.rotate=p),c}(o,s);for(let p in k)p in m?p in o&&!(p in c)&&(c[p]=m[p]):p in s?c[p]=s[p]:p in o&&(c[p]=o[p]);return c}function internalGetIconData(o,s,c){let p=o.icons,f=o.aliases||Object.create(null),g={};function parse(o){g=mergeIconData(p[o]||f[o],g)}return parse(s),c.forEach(parse),mergeIconData(o,g)}let B=Object.freeze({width:null,height:null}),L=Object.freeze({...B,...m}),X=/(-?[0-9.]*[0-9]+[0-9.]*)/g,J=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(o,s,c){if(1===s)return o;if(c=c||100,"number"==typeof o)return Math.ceil(o*s*c)/c;if("string"!=typeof o)return o;let p=o.split(X);if(null===p||!p.length)return o;let f=[],g=p.shift(),m=J.test(g);for(;;){if(m){let o=parseFloat(g);isNaN(o)?f.push(g):f.push(Math.ceil(o*s*c)/c)}else f.push(g);if(void 0===(g=p.shift()))return f.join("");m=!m}}let isUnsetKeyword=o=>"unset"===o||"undefined"===o||"none"===o,te=/\sid="(\S+)"/g,tr="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16),ti=0;var tn={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},ta=new Map,to=new Map,ts=(0,p.eW)(o=>{for(let s of o){if(!s.name)throw Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(p.cM.debug("Registering icon pack:",s.name),"loader"in s)to.set(s.name,s.loader);else if("icons"in s)ta.set(s.name,s.icons);else throw p.cM.error("Invalid icon loader:",s),Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),tl=(0,p.eW)(async(o,s)=>{let c=stringToIcon(o,!0,void 0!==s);if(!c)throw Error(`Invalid icon name: ${o}`);let f=c.prefix||s;if(!f)throw Error(`Icon name must contain a prefix: ${o}`);let g=ta.get(f);if(!g){let o=to.get(f);if(!o)throw Error(`Icon set not found: ${c.prefix}`);try{let s=await o();g={...s,prefix:f},ta.set(f,g)}catch(o){throw p.cM.error(o),Error(`Failed to load icon set: ${c.prefix}`)}}let m=function(o,s){if(o.icons[s])return internalGetIconData(o,s,[]);let c=function(o,s){let c=o.icons,p=o.aliases||Object.create(null),f=Object.create(null);return(s||Object.keys(c).concat(Object.keys(p))).forEach(function resolve(o){if(c[o])return f[o]=[];if(!(o in f)){f[o]=null;let s=p[o]&&p[o].parent,c=s&&resolve(s);c&&(f[o]=[s].concat(c))}return f[o]}),f}(o,[s])[s];return c?internalGetIconData(o,s,c):null}(g,c.name);if(!m)throw Error(`Icon not found: ${o}`);return m},"getRegisteredIconData"),th=(0,p.eW)(async(o,s)=>{let c;try{c=await tl(o,s?.fallbackPrefix)}catch(o){p.cM.error(o),c=tn}let f=function(o,s){let c,p;let f={...b,...o},g={...L,...s},m={left:f.left,top:f.top,width:f.width,height:f.height},k=f.body;[f,g].forEach(o=>{let s;let c=[],p=o.hFlip,f=o.vFlip,g=o.rotate;switch(p?f?g+=2:(c.push("translate("+(m.width+m.left).toString()+" "+(0-m.top).toString()+")"),c.push("scale(-1 1)"),m.top=m.left=0):f&&(c.push("translate("+(0-m.left).toString()+" "+(m.height+m.top).toString()+")"),c.push("scale(1 -1)"),m.top=m.left=0),g<0&&(g-=4*Math.floor(g/4)),g%=4){case 1:c.unshift("rotate(90 "+(s=m.height/2+m.top).toString()+" "+s.toString()+")");break;case 2:c.unshift("rotate(180 "+(m.width/2+m.left).toString()+" "+(m.height/2+m.top).toString()+")");break;case 3:c.unshift("rotate(-90 "+(s=m.width/2+m.left).toString()+" "+s.toString()+")")}g%2==1&&(m.left!==m.top&&(s=m.left,m.left=m.top,m.top=s),m.width!==m.height&&(s=m.width,m.width=m.height,m.height=s)),c.length&&(k=function(o,s,c){var p,f;let g=function(o,s="defs"){let c="",p=o.indexOf("<"+s);for(;p>=0;){let f=o.indexOf(">",p),g=o.indexOf("</"+s);if(-1===f||-1===g)break;let m=o.indexOf(">",g);if(-1===m)break;c+=o.slice(f+1,g).trim(),o=o.slice(0,p).trim()+o.slice(m+1)}return{defs:c,content:o}}(o);return p=g.defs,f=s+g.content+c,p?"<defs>"+p+"</defs>"+f:f}(k,'<g transform="'+c.join(" ")+'">',"</g>"))});let B=g.width,X=g.height,J=m.width,te=m.height;null===B?c=calculateSize(p=null===X?"1em":"auto"===X?te:X,J/te):(c="auto"===B?J:B,p=null===X?calculateSize(c,te/J):"auto"===X?te:X);let tr={},setAttr=(o,s)=>{isUnsetKeyword(s)||(tr[o]=s.toString())};setAttr("width",c),setAttr("height",p);let ti=[m.left,m.top,J,te];return tr.viewBox=ti.join(" "),{attributes:tr,viewBox:ti,body:k}}(c,s),g=function(o,s){let c=-1===o.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let o in s)c+=" "+o+'="'+s[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+c+">"+o+"</svg>"}(function(o,s=tr){let c;let p=[];for(;c=te.exec(o);)p.push(c[1]);if(!p.length)return o;let f="suffix"+(16777216*Math.random()|Date.now()).toString(16);return p.forEach(c=>{let p="function"==typeof s?s(c):s+(ti++).toString(),g=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");o=o.replace(RegExp('([#;"])('+g+')([")]|\\.[a-z])',"g"),"$1"+p+f+"$3")}),o=o.replace(RegExp(f,"g"),"")}(f.body),f.attributes);return g},"getIconSVG")},4841:(o,s,c)=>{"use strict";c.d(s,{P:()=>g});var p=c(8554),f=c(4665),g=(0,p.eW)(o=>{let{securityLevel:s}=(0,p.nV)(),c=(0,f.Ys)("body");if("sandbox"===s){let s=(0,f.Ys)(`#i${o}`),p=s.node()?.contentDocument??document;c=(0,f.Ys)(p.body)}let g=c.select(`#${o}`);return g},"selectSvgElement")},2809:(o,s,c)=>{"use strict";c.d(s,{C1:()=>L,Lf:()=>insertNode,XO:()=>ti,Yn:()=>t$,ZH:()=>ty,aH:()=>tD,dW:()=>isValidShape,gU:()=>tP,jr:()=>J,us:()=>tm});var p=c(3895),f=c(9344),g=c(1412),m=c(5968),b=c(8554),k=c(4665),B=c(5611),L=(0,b.eW)(async(o,s,c)=>{let p,f;let B=s.useHtmlLabels||(0,b.ku)(b.nV()?.htmlLabels);p=c||"node default";let L=o.insert("g").attr("class",p).attr("id",s.domId||s.id),X=L.insert("g").attr("class","label").attr("style",(0,m.R7)(s.labelStyle));f=void 0===s.label?"":"string"==typeof s.label?s.label:s.label[0];let J=await (0,g.rw)(X,(0,b.oO)((0,m.SH)(f),(0,b.nV)()),{useHtmlLabels:B,width:s.width||b.nV().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:s.labelStyle,addSvgBackground:!!s.icon||!!s.img}),te=J.getBBox(),tr=(s?.padding??0)/2;if(B){let o=J.children[0],s=(0,k.Ys)(J),c=o.getElementsByTagName("img");if(c){let o=""===f.replace(/<img[^>]*>/g,"").trim();await Promise.all([...c].map(s=>new Promise(c=>{function setupImage(){if(s.style.display="flex",s.style.flexDirection="column",o){let o=(0,b.nV)().fontSize?(0,b.nV)().fontSize:window.getComputedStyle(document.body).fontSize,[c=b.vZ.fontSize]=(0,m.VG)(o),p=5*c+"px";s.style.minWidth=p,s.style.maxWidth=p}else s.style.width="100%";c(s)}(0,b.eW)(setupImage,"setupImage"),setTimeout(()=>{s.complete&&setupImage()}),s.addEventListener("error",setupImage),s.addEventListener("load",setupImage)})))}te=o.getBoundingClientRect(),s.attr("width",te.width),s.attr("height",te.height)}return B?X.attr("transform","translate("+-te.width/2+", "+-te.height/2+")"):X.attr("transform","translate(0, "+-te.height/2+")"),s.centerLabel&&X.attr("transform","translate("+-te.width/2+", "+-te.height/2+")"),X.insert("rect",":first-child"),{shapeSvg:L,bbox:te,halfPadding:tr,label:X}},"labelHelper"),X=(0,b.eW)(async(o,s,c)=>{let p=c.useHtmlLabels||(0,b.ku)(b.nV()?.flowchart?.htmlLabels),f=o.insert("g").attr("class","label").attr("style",c.labelStyle||""),B=await (0,g.rw)(f,(0,b.oO)((0,m.SH)(s),(0,b.nV)()),{useHtmlLabels:p,width:c.width||b.nV()?.flowchart?.wrappingWidth,style:c.labelStyle,addSvgBackground:!!c.icon||!!c.img}),L=B.getBBox(),X=c.padding/2;if((0,b.ku)(b.nV()?.flowchart?.htmlLabels)){let o=B.children[0],s=(0,k.Ys)(B);L=o.getBoundingClientRect(),s.attr("width",L.width),s.attr("height",L.height)}return p?f.attr("transform","translate("+-L.width/2+", "+-L.height/2+")"):f.attr("transform","translate(0, "+-L.height/2+")"),c.centerLabel&&f.attr("transform","translate("+-L.width/2+", "+-L.height/2+")"),f.insert("rect",":first-child"),{shapeSvg:o,bbox:L,halfPadding:X,label:f}},"insertLabel"),J=(0,b.eW)((o,s)=>{let c=s.node().getBBox();o.width=c.width,o.height=c.height},"updateNodeBounds"),te=(0,b.eW)((o,s)=>("handDrawn"===o.look?"rough-node":"node")+" "+o.cssClasses+" "+(s||""),"getNodeClasses");function createPathFromPoints(o){let s=o.map((o,s)=>`${0===s?"M":"L"}${o.x},${o.y}`);return s.push("Z"),s.join(" ")}function generateFullSineWavePoints(o,s,c,p,f,g){let m=[],b=c-o,k=2*Math.PI/(b/g),B=s+(p-s)/2;for(let s=0;s<=50;s++){let c=s/50,p=o+c*b,g=B+f*Math.sin(k*(p-o));m.push({x:p,y:g})}return m}function generateCirclePoints(o,s,c,p,f,g){let m=[],b=f*Math.PI/180,k=g*Math.PI/180,B=(k-b)/(p-1);for(let f=0;f<p;f++){let p=b+f*B,g=o+c*Math.cos(p),k=s+c*Math.sin(p);m.push({x:-g,y:-k})}return m}(0,b.eW)(createPathFromPoints,"createPathFromPoints"),(0,b.eW)(generateFullSineWavePoints,"generateFullSineWavePoints"),(0,b.eW)(generateCirclePoints,"generateCirclePoints");var tr=(0,b.eW)((o,s)=>{var c,p,f=o.x,g=o.y,m=s.x-f,b=s.y-g,k=o.width/2,B=o.height/2;return Math.abs(b)*k>Math.abs(m)*B?(b<0&&(B=-B),c=0===b?0:B*m/b,p=B):(m<0&&(k=-k),c=k,p=0===m?0:k*b/m),{x:f+c,y:g+p}},"intersectRect");function applyStyle(o,s){s&&o.attr("style",s)}async function addHtmlLabel(o){let s=(0,k.Ys)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),c=s.append("xhtml:div"),p=o.label;o.label&&(0,b.l0)(o.label)&&(p=await (0,b.uT)(o.label.replace(b.SY.lineBreakRegex,"\n"),(0,b.nV)()));let f=o.isNode?"nodeLabel":"edgeLabel";return c.html('<span class="'+f+'" '+(o.labelStyle?'style="'+o.labelStyle+'"':"")+">"+p+"</span>"),applyStyle(c,o.labelStyle),c.style("display","inline-block"),c.style("padding-right","1px"),c.style("white-space","nowrap"),c.attr("xmlns","http://www.w3.org/1999/xhtml"),s.node()}(0,b.eW)(applyStyle,"applyStyle"),(0,b.eW)(addHtmlLabel,"addHtmlLabel");var ti=(0,b.eW)(async(o,s,c,p)=>{let f=o||"";if("object"==typeof f&&(f=f[0]),(0,b.ku)((0,b.nV)().flowchart.htmlLabels)){f=f.replace(/\\n|\n/g,"<br />"),b.cM.info("vertexText"+f);let o={isNode:p,label:(0,m.SH)(f).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:s?s.replace("fill:","color:"):s};return await addHtmlLabel(o)}{let o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",s.replace("color:","fill:"));for(let s of"string"==typeof f?f.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(f)?f:[]){let p=document.createElementNS("http://www.w3.org/2000/svg","tspan");p.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),p.setAttribute("dy","1em"),p.setAttribute("x","0"),c?p.setAttribute("class","title-row"):p.setAttribute("class","row"),p.textContent=s.trim(),o.appendChild(p)}return o}},"createLabel"),tn=(0,b.eW)((o,s,c,p,f)=>["M",o+f,s,"H",o+c-f,"A",f,f,0,0,1,o+c,s+f,"V",s+p-f,"A",f,f,0,0,1,o+c-f,s+p,"H",o+f,"A",f,f,0,0,1,o,s+p-f,"V",s+f,"A",f,f,0,0,1,o+f,s,"Z"].join(" "),"createRoundedRectPathD"),ta=(0,b.eW)(o=>{let{handDrawnSeed:s}=(0,b.nV)();return{fill:o,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:o,seed:s}},"solidStateFill"),to=(0,b.eW)(o=>{let s=ts([...o.cssCompiledStyles||[],...o.cssStyles||[]]);return{stylesMap:s,stylesArray:[...s]}},"compileStyles"),ts=(0,b.eW)(o=>{let s=new Map;return o.forEach(o=>{let[c,p]=o.split(":");s.set(c.trim(),p?.trim())}),s},"styles2Map"),tl=(0,b.eW)(o=>{let{stylesArray:s}=to(o),c=[],p=[],f=[],g=[];return s.forEach(o=>{let s=o[0];"color"===s||"font-size"===s||"font-family"===s||"font-weight"===s||"font-style"===s||"text-decoration"===s||"text-align"===s||"text-transform"===s||"line-height"===s||"letter-spacing"===s||"word-spacing"===s||"text-shadow"===s||"text-overflow"===s||"white-space"===s||"word-wrap"===s||"word-break"===s||"overflow-wrap"===s||"hyphens"===s?c.push(o.join(":")+" !important"):(p.push(o.join(":")+" !important"),s.includes("stroke")&&f.push(o.join(":")+" !important"),"fill"===s&&g.push(o.join(":")+" !important"))}),{labelStyles:c.join(";"),nodeStyles:p.join(";"),stylesArray:s,borderStyles:f,backgroundStyles:g}},"styles2String"),th=(0,b.eW)((o,s)=>{let{themeVariables:c,handDrawnSeed:p}=(0,b.nV)(),{nodeBorder:f,mainBkg:g}=c,{stylesMap:m}=to(o),k=Object.assign({roughness:.7,fill:m.get("fill")||g,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:m.get("stroke")||f,seed:p,strokeWidth:m.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0]},s);return k},"userNodeOverrides"),tc=(0,b.eW)(async(o,s)=>{let c;b.cM.info("Creating subgraph rect for ",s.id,s);let p=(0,b.nV)(),{themeVariables:m,handDrawnSeed:L}=p,{clusterBkg:X,clusterBorder:J}=m,{labelStyles:te,nodeStyles:ti,borderStyles:ta,backgroundStyles:to}=tl(s),ts=o.insert("g").attr("class","cluster "+s.cssClasses).attr("id",s.id).attr("data-look",s.look),tc=(0,b.ku)(p.flowchart.htmlLabels),tu=ts.insert("g").attr("class","cluster-label "),td=await (0,g.rw)(tu,s.label,{style:s.labelStyle,useHtmlLabels:tc,isNode:!0}),tp=td.getBBox();if((0,b.ku)(p.flowchart.htmlLabels)){let o=td.children[0],s=(0,k.Ys)(td);tp=o.getBoundingClientRect(),s.attr("width",tp.width),s.attr("height",tp.height)}let tf=s.width<=tp.width+s.padding?tp.width+s.padding:s.width;s.width<=tp.width+s.padding?s.diff=(tf-s.width)/2-s.padding:s.diff=-s.padding;let tg=s.height,tm=s.x-tf/2,ty=s.y-tg/2;if(b.cM.trace("Data ",s,JSON.stringify(s)),"handDrawn"===s.look){let o=B.svg(ts),p=th(s,{roughness:.7,fill:X,stroke:J,fillWeight:3,seed:L}),f=o.path(tn(tm,ty,tf,tg,0),p);(c=ts.insert(()=>(b.cM.debug("Rough node insert CXC",f),f),":first-child")).select("path:nth-child(2)").attr("style",ta.join(";")),c.select("path").attr("style",to.join(";").replace("fill","stroke"))}else(c=ts.insert("rect",":first-child")).attr("style",ti).attr("rx",s.rx).attr("ry",s.ry).attr("x",tm).attr("y",ty).attr("width",tf).attr("height",tg);let{subGraphTitleTopMargin:t_}=(0,f.L)(p);if(tu.attr("transform",`translate(${s.x-tp.width/2}, ${s.y-s.height/2+t_})`),te){let o=tu.select("span");o&&o.attr("style",te)}let tx=c.node().getBBox();return s.offsetX=0,s.width=tx.width,s.height=tx.height,s.offsetY=tp.height-s.padding/2,s.intersect=function(o){return tr(s,o)},{cluster:ts,labelBBox:tp}},"rect"),tu=(0,b.eW)((o,s)=>{let c=o.insert("g").attr("class","note-cluster").attr("id",s.id),p=c.insert("rect",":first-child"),f=0*s.padding,g=f/2;p.attr("rx",s.rx).attr("ry",s.ry).attr("x",s.x-s.width/2-g).attr("y",s.y-s.height/2-g).attr("width",s.width+f).attr("height",s.height+f).attr("fill","none");let m=p.node().getBBox();return s.width=m.width,s.height=m.height,s.intersect=function(o){return tr(s,o)},{cluster:c,labelBBox:{width:0,height:0}}},"noteGroup"),td=(0,b.eW)(async(o,s)=>{let c;let p=(0,b.nV)(),{themeVariables:f,handDrawnSeed:g}=p,{altBackground:m,compositeBackground:L,compositeTitleBackground:X,nodeBorder:J}=f,te=o.insert("g").attr("class",s.cssClasses).attr("id",s.id).attr("data-id",s.id).attr("data-look",s.look),ta=te.insert("g",":first-child"),to=te.insert("g").attr("class","cluster-label"),ts=te.append("rect"),tl=to.node().appendChild(await ti(s.label,s.labelStyle,void 0,!0)),th=tl.getBBox();if((0,b.ku)(p.flowchart.htmlLabels)){let o=tl.children[0],s=(0,k.Ys)(tl);th=o.getBoundingClientRect(),s.attr("width",th.width),s.attr("height",th.height)}let tc=0*s.padding,tu=(s.width<=th.width+s.padding?th.width+s.padding:s.width)+tc;s.width<=th.width+s.padding?s.diff=(tu-s.width)/2-s.padding:s.diff=-s.padding;let td=s.height+tc,tp=s.height+tc-th.height-6,tf=s.x-tu/2,tg=s.y-td/2;s.width=tu;let tm=s.y-s.height/2-tc/2+th.height+2;if("handDrawn"===s.look){let o=s.cssClasses.includes("statediagram-cluster-alt"),p=B.svg(te),f=s.rx||s.ry?p.path(tn(tf,tg,tu,td,10),{roughness:.7,fill:X,fillStyle:"solid",stroke:J,seed:g}):p.rectangle(tf,tg,tu,td,{seed:g});c=te.insert(()=>f,":first-child");let b=p.rectangle(tf,tm,tu,tp,{fill:o?m:L,fillStyle:o?"hachure":"solid",stroke:J,seed:g});c=te.insert(()=>f,":first-child"),ts=te.insert(()=>b)}else(c=ta.insert("rect",":first-child")).attr("class","outer").attr("x",tf).attr("y",tg).attr("width",tu).attr("height",td).attr("data-look",s.look),ts.attr("class","inner").attr("x",tf).attr("y",tm).attr("width",tu).attr("height",tp);to.attr("transform",`translate(${s.x-th.width/2}, ${tg+1-((0,b.ku)(p.flowchart.htmlLabels)?0:3)})`);let ty=c.node().getBBox();return s.height=ty.height,s.offsetX=0,s.offsetY=th.height-s.padding/2,s.labelBBox=th,s.intersect=function(o){return tr(s,o)},{cluster:te,labelBBox:th}},"roundedWithTitle"),tp=(0,b.eW)(async(o,s)=>{let c;b.cM.info("Creating subgraph rect for ",s.id,s);let p=(0,b.nV)(),{themeVariables:m,handDrawnSeed:L}=p,{clusterBkg:X,clusterBorder:J}=m,{labelStyles:te,nodeStyles:ti,borderStyles:ta,backgroundStyles:to}=tl(s),ts=o.insert("g").attr("class","cluster "+s.cssClasses).attr("id",s.id).attr("data-look",s.look),tc=(0,b.ku)(p.flowchart.htmlLabels),tu=ts.insert("g").attr("class","cluster-label "),td=await (0,g.rw)(tu,s.label,{style:s.labelStyle,useHtmlLabels:tc,isNode:!0,width:s.width}),tp=td.getBBox();if((0,b.ku)(p.flowchart.htmlLabels)){let o=td.children[0],s=(0,k.Ys)(td);tp=o.getBoundingClientRect(),s.attr("width",tp.width),s.attr("height",tp.height)}let tf=s.width<=tp.width+s.padding?tp.width+s.padding:s.width;s.width<=tp.width+s.padding?s.diff=(tf-s.width)/2-s.padding:s.diff=-s.padding;let tg=s.height,tm=s.x-tf/2,ty=s.y-tg/2;if(b.cM.trace("Data ",s,JSON.stringify(s)),"handDrawn"===s.look){let o=B.svg(ts),p=th(s,{roughness:.7,fill:X,stroke:J,fillWeight:4,seed:L}),f=o.path(tn(tm,ty,tf,tg,s.rx),p);(c=ts.insert(()=>(b.cM.debug("Rough node insert CXC",f),f),":first-child")).select("path:nth-child(2)").attr("style",ta.join(";")),c.select("path").attr("style",to.join(";").replace("fill","stroke"))}else(c=ts.insert("rect",":first-child")).attr("style",ti).attr("rx",s.rx).attr("ry",s.ry).attr("x",tm).attr("y",ty).attr("width",tf).attr("height",tg);let{subGraphTitleTopMargin:t_}=(0,f.L)(p);if(tu.attr("transform",`translate(${s.x-tp.width/2}, ${s.y-s.height/2+t_})`),te){let o=tu.select("span");o&&o.attr("style",te)}let tx=c.node().getBBox();return s.offsetX=0,s.width=tx.width,s.height=tx.height,s.offsetY=tp.height-s.padding/2,s.intersect=function(o){return tr(s,o)},{cluster:ts,labelBBox:tp}},"kanbanSection"),tf={rect:tc,squareRect:tc,roundedWithTitle:td,noteGroup:tu,divider:(0,b.eW)((o,s)=>{let c;let p=(0,b.nV)(),{themeVariables:f,handDrawnSeed:g}=p,{nodeBorder:m}=f,k=o.insert("g").attr("class",s.cssClasses).attr("id",s.id).attr("data-look",s.look),L=k.insert("g",":first-child"),X=0*s.padding,J=s.width+X;s.diff=-s.padding;let te=s.height+X,ti=s.x-J/2,tn=s.y-te/2;if(s.width=J,"handDrawn"===s.look){let o=B.svg(k),s=o.rectangle(ti,tn,J,te,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:m,seed:g});c=k.insert(()=>s,":first-child")}else(c=L.insert("rect",":first-child")).attr("class","divider").attr("x",ti).attr("y",tn).attr("width",J).attr("height",te).attr("data-look",s.look);let ta=c.node().getBBox();return s.height=ta.height,s.offsetX=0,s.offsetY=0,s.intersect=function(o){return tr(s,o)},{cluster:k,labelBBox:{}}},"divider"),kanbanSection:tp},tg=new Map,tm=(0,b.eW)(async(o,s)=>{let c=s.shape||"rect",p=await tf[c](o,s);return tg.set(s.id,p),p},"insertCluster"),ty=(0,b.eW)(()=>{tg=new Map},"clear");function intersectNode(o,s){return o.intersect(s)}function intersectEllipse(o,s,c,p){var f=o.x,g=o.y,m=f-p.x,b=g-p.y,k=Math.sqrt(s*s*b*b+c*c*m*m),B=Math.abs(s*c*m/k);p.x<f&&(B=-B);var L=Math.abs(s*c*b/k);return p.y<g&&(L=-L),{x:f+B,y:g+L}}function intersectCircle(o,s,c){return intersectEllipse(o,s,s,c)}function intersectLine(o,s,c,p){var f,g,m,b,k,B,L,X,J,te,tr,ti,tn;if(f=s.y-o.y,m=o.x-s.x,k=s.x*o.y-o.x*s.y,J=f*c.x+m*c.y+k,te=f*p.x+m*p.y+k,!(0!==J&&0!==te&&sameSign(J,te))&&(g=p.y-c.y,b=c.x-p.x,B=p.x*c.y-c.x*p.y,L=g*o.x+b*o.y+B,X=g*s.x+b*s.y+B,!(0!==L&&0!==X&&sameSign(L,X))&&0!=(tr=f*b-g*m)))return ti=Math.abs(tr/2),{x:(tn=m*B-b*k)<0?(tn-ti)/tr:(tn+ti)/tr,y:(tn=g*k-f*B)<0?(tn-ti)/tr:(tn+ti)/tr}}function sameSign(o,s){return o*s>0}function intersectPolygon(o,s,c){let p=o.x,f=o.y,g=[],m=Number.POSITIVE_INFINITY,b=Number.POSITIVE_INFINITY;"function"==typeof s.forEach?s.forEach(function(o){m=Math.min(m,o.x),b=Math.min(b,o.y)}):(m=Math.min(m,s.x),b=Math.min(b,s.y));let k=p-o.width/2-m,B=f-o.height/2-b;for(let p=0;p<s.length;p++){let f=s[p],m=s[p<s.length-1?p+1:0],b=intersectLine(o,c,{x:k+f.x,y:B+f.y},{x:k+m.x,y:B+m.y});b&&g.push(b)}return g.length?(g.length>1&&g.sort(function(o,s){let p=o.x-c.x,f=o.y-c.y,g=Math.sqrt(p*p+f*f),m=s.x-c.x,b=s.y-c.y,k=Math.sqrt(m*m+b*b);return g<k?-1:g===k?0:1}),g[0]):o}(0,b.eW)(intersectNode,"intersectNode"),(0,b.eW)(intersectEllipse,"intersectEllipse"),(0,b.eW)(intersectCircle,"intersectCircle"),(0,b.eW)(intersectLine,"intersectLine"),(0,b.eW)(sameSign,"sameSign"),(0,b.eW)(intersectPolygon,"intersectPolygon");var t_={node:intersectNode,circle:intersectCircle,ellipse:intersectEllipse,polygon:intersectPolygon,rect:tr};function anchor(o,s){let{labelStyles:c}=tl(s);s.labelStyle=c;let p=te(s),f=p;p||(f="anchor");let g=o.insert("g").attr("class",f).attr("id",s.domId||s.id),{cssStyles:k}=s,L=B.svg(g),X=th(s,{fill:"black",stroke:"none",fillStyle:"solid"});"handDrawn"!==s.look&&(X.roughness=0);let tr=L.circle(0,0,2,X),ti=g.insert(()=>tr,":first-child");return ti.attr("class","anchor").attr("style",(0,m.R7)(k)),J(s,ti),s.intersect=function(o){return b.cM.info("Circle intersect",s,1,o),t_.circle(s,1,o)},g}function generateArcPoints(o,s,c,p,f,g,m){let b=Math.atan2(p-s,c-o),k=Math.sqrt(((c-o)/2/f)**2+((p-s)/2/g)**2);if(k>1)throw Error("The given radii are too small to create an arc between the points.");let B=Math.sqrt(1-k**2),L=(o+c)/2+B*g*Math.sin(b)*(m?-1:1),X=(s+p)/2-B*f*Math.cos(b)*(m?-1:1),J=Math.atan2((s-X)/g,(o-L)/f),te=Math.atan2((p-X)/g,(c-L)/f),tr=te-J;m&&tr<0&&(tr+=2*Math.PI),!m&&tr>0&&(tr-=2*Math.PI);let ti=[];for(let o=0;o<20;o++){let s=o/19,c=J+s*tr,p=L+f*Math.cos(c),m=X+g*Math.sin(c);ti.push({x:p,y:m})}return ti}async function bowTieRect(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g}=await L(o,s,te(s)),m=g.width+s.padding+20,b=g.height+s.padding,k=b/2,X=k/(2.5+b/50),{cssStyles:tr}=s,ti=[{x:m/2,y:-b/2},{x:-m/2,y:-b/2},...generateArcPoints(-m/2,-b/2,-m/2,b/2,X,k,!1),{x:m/2,y:b/2},...generateArcPoints(m/2,b/2,m/2,-b/2,X,k,!0)],tn=B.svg(f),ta=th(s,{});"handDrawn"!==s.look&&(ta.roughness=0,ta.fillStyle="solid");let to=createPathFromPoints(ti),ts=tn.path(to,ta),tc=f.insert(()=>ts,":first-child");return tc.attr("class","basic label-container"),tr&&"handDrawn"!==s.look&&tc.selectAll("path").attr("style",tr),p&&"handDrawn"!==s.look&&tc.selectAll("path").attr("style",p),tc.attr("transform",`translate(${X/2}, 0)`),J(s,tc),s.intersect=function(o){let c=t_.polygon(s,ti,o);return c},f}function insertPolygonShape(o,s,c,p){return o.insert("polygon",":first-child").attr("points",p.map(function(o){return o.x+","+o.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-s/2+","+c/2+")")}async function card(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:m}=await L(o,s,te(s)),b=m.height+s.padding,k=m.width+s.padding+12,X=-b,tr=[{x:12,y:X},{x:k,y:X},{x:k,y:0},{x:0,y:0},{x:0,y:X+12},{x:12,y:X}],{cssStyles:ti}=s;if("handDrawn"===s.look){let o=B.svg(g),p=th(s,{}),f=createPathFromPoints(tr),m=o.path(f,p);c=g.insert(()=>m,":first-child").attr("transform",`translate(${-k/2}, ${b/2})`),ti&&c.attr("style",ti)}else c=insertPolygonShape(g,k,b,tr);return f&&c.attr("style",f),J(s,c),s.intersect=function(o){return t_.polygon(s,tr,o)},g}function choice(o,s){let{nodeStyles:c}=tl(s);s.label="";let p=o.insert("g").attr("class",te(s)).attr("id",s.domId??s.id),{cssStyles:f}=s,g=Math.max(28,s.width??0),m=[{x:0,y:g/2},{x:g/2,y:0},{x:0,y:-g/2},{x:-g/2,y:0}],b=B.svg(p),k=th(s,{});"handDrawn"!==s.look&&(k.roughness=0,k.fillStyle="solid");let L=createPathFromPoints(m),X=b.path(L,k),J=p.insert(()=>X,":first-child");return f&&"handDrawn"!==s.look&&J.selectAll("path").attr("style",f),c&&"handDrawn"!==s.look&&J.selectAll("path").attr("style",c),s.width=28,s.height=28,s.intersect=function(o){return t_.polygon(s,m,o)},p}async function circle(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:k,halfPadding:X}=await L(o,s,te(s)),tr=k.width/2+X,{cssStyles:ti}=s;if("handDrawn"===s.look){let o=B.svg(g),p=th(s,{}),f=o.circle(0,0,2*tr,p);(c=g.insert(()=>f,":first-child")).attr("class","basic label-container").attr("style",(0,m.R7)(ti))}else c=g.insert("circle",":first-child").attr("class","basic label-container").attr("style",f).attr("r",tr).attr("cx",0).attr("cy",0);return J(s,c),s.intersect=function(o){return b.cM.info("Circle intersect",s,tr,o),t_.circle(s,tr,o)},g}function createLine(o){let s=Math.cos(Math.PI/4),c=Math.sin(Math.PI/4),p=2*o,f={x:p/2*s,y:p/2*c},g={x:-(p/2)*s,y:p/2*c},m={x:-(p/2)*s,y:-(p/2)*c},b={x:p/2*s,y:-(p/2)*c};return`M ${g.x},${g.y} L ${b.x},${b.y}
                   M ${f.x},${f.y} L ${m.x},${m.y}`}function crossedCircle(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c,s.label="";let f=o.insert("g").attr("class",te(s)).attr("id",s.domId??s.id),g=Math.max(30,s?.width??0),{cssStyles:m}=s,k=B.svg(f),L=th(s,{});"handDrawn"!==s.look&&(L.roughness=0,L.fillStyle="solid");let X=k.circle(0,0,2*g,L),tr=createLine(g),ti=k.path(tr,L),tn=f.insert(()=>X,":first-child");return tn.insert(()=>ti),m&&"handDrawn"!==s.look&&tn.selectAll("path").attr("style",m),p&&"handDrawn"!==s.look&&tn.selectAll("path").attr("style",p),J(s,tn),s.intersect=function(o){b.cM.info("crossedCircle intersect",s,{radius:g,point:o});let c=t_.circle(s,g,o);return c},f}function generateCirclePoints2(o,s,c,p=100,f=0,g=180){let m=[],b=f*Math.PI/180,k=g*Math.PI/180,B=(k-b)/(p-1);for(let f=0;f<p;f++){let p=b+f*B,g=o+c*Math.cos(p),k=s+c*Math.sin(p);m.push({x:-g,y:-k})}return m}async function curlyBraceLeft(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=g.width+(s.padding??0),k=g.height+(s.padding??0),X=Math.max(5,.1*k),{cssStyles:tr}=s,ti=[...generateCirclePoints2(b/2,-k/2,X,30,-90,0),{x:-b/2-X,y:X},...generateCirclePoints2(b/2+2*X,-X,X,20,-180,-270),...generateCirclePoints2(b/2+2*X,X,X,20,-90,-180),{x:-b/2-X,y:-k/2},...generateCirclePoints2(b/2,k/2,X,20,0,90)],tn=[{x:b/2,y:-k/2-X},{x:-b/2,y:-k/2-X},...generateCirclePoints2(b/2,-k/2,X,20,-90,0),{x:-b/2-X,y:-X},...generateCirclePoints2(b/2+.1*b,-X,X,20,-180,-270),...generateCirclePoints2(b/2+.1*b,X,X,20,-90,-180),{x:-b/2-X,y:k/2},...generateCirclePoints2(b/2,k/2,X,20,0,90),{x:-b/2,y:k/2+X},{x:b/2,y:k/2+X}],ta=B.svg(f),to=th(s,{fill:"none"});"handDrawn"!==s.look&&(to.roughness=0,to.fillStyle="solid");let ts=createPathFromPoints(ti),tc=ts.replace("Z",""),tu=ta.path(tc,to),td=createPathFromPoints(tn),tp=ta.path(td,{...to}),tf=f.insert("g",":first-child");return tf.insert(()=>tp,":first-child").attr("stroke-opacity",0),tf.insert(()=>tu,":first-child"),tf.attr("class","text"),tr&&"handDrawn"!==s.look&&tf.selectAll("path").attr("style",tr),p&&"handDrawn"!==s.look&&tf.selectAll("path").attr("style",p),tf.attr("transform",`translate(${X}, 0)`),m.attr("transform",`translate(${-b/2+X-(g.x-(g.left??0))},${-k/2+(s.padding??0)/2-(g.y-(g.top??0))})`),J(s,tf),s.intersect=function(o){let c=t_.polygon(s,tn,o);return c},f}function generateCirclePoints3(o,s,c,p=100,f=0,g=180){let m=[],b=f*Math.PI/180,k=g*Math.PI/180,B=(k-b)/(p-1);for(let f=0;f<p;f++){let p=b+f*B,g=o+c*Math.cos(p),k=s+c*Math.sin(p);m.push({x:g,y:k})}return m}async function curlyBraceRight(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=g.width+(s.padding??0),k=g.height+(s.padding??0),X=Math.max(5,.1*k),{cssStyles:tr}=s,ti=[...generateCirclePoints3(b/2,-k/2,X,20,-90,0),{x:b/2+X,y:-X},...generateCirclePoints3(b/2+2*X,-X,X,20,-180,-270),...generateCirclePoints3(b/2+2*X,X,X,20,-90,-180),{x:b/2+X,y:k/2},...generateCirclePoints3(b/2,k/2,X,20,0,90)],tn=[{x:-b/2,y:-k/2-X},{x:b/2,y:-k/2-X},...generateCirclePoints3(b/2,-k/2,X,20,-90,0),{x:b/2+X,y:-X},...generateCirclePoints3(b/2+2*X,-X,X,20,-180,-270),...generateCirclePoints3(b/2+2*X,X,X,20,-90,-180),{x:b/2+X,y:k/2},...generateCirclePoints3(b/2,k/2,X,20,0,90),{x:b/2,y:k/2+X},{x:-b/2,y:k/2+X}],ta=B.svg(f),to=th(s,{fill:"none"});"handDrawn"!==s.look&&(to.roughness=0,to.fillStyle="solid");let ts=createPathFromPoints(ti),tc=ts.replace("Z",""),tu=ta.path(tc,to),td=createPathFromPoints(tn),tp=ta.path(td,{...to}),tf=f.insert("g",":first-child");return tf.insert(()=>tp,":first-child").attr("stroke-opacity",0),tf.insert(()=>tu,":first-child"),tf.attr("class","text"),tr&&"handDrawn"!==s.look&&tf.selectAll("path").attr("style",tr),p&&"handDrawn"!==s.look&&tf.selectAll("path").attr("style",p),tf.attr("transform",`translate(${-X}, 0)`),m.attr("transform",`translate(${-b/2+(s.padding??0)/2-(g.x-(g.left??0))},${-k/2+(s.padding??0)/2-(g.y-(g.top??0))})`),J(s,tf),s.intersect=function(o){let c=t_.polygon(s,tn,o);return c},f}function generateCirclePoints4(o,s,c,p=100,f=0,g=180){let m=[],b=f*Math.PI/180,k=g*Math.PI/180,B=(k-b)/(p-1);for(let f=0;f<p;f++){let p=b+f*B,g=o+c*Math.cos(p),k=s+c*Math.sin(p);m.push({x:-g,y:-k})}return m}async function curlyBraces(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=g.width+(s.padding??0),k=g.height+(s.padding??0),X=Math.max(5,.1*k),{cssStyles:tr}=s,ti=[...generateCirclePoints4(b/2,-k/2,X,30,-90,0),{x:-b/2-X,y:X},...generateCirclePoints4(b/2+2*X,-X,X,20,-180,-270),...generateCirclePoints4(b/2+2*X,X,X,20,-90,-180),{x:-b/2-X,y:-k/2},...generateCirclePoints4(b/2,k/2,X,20,0,90)],tn=[...generateCirclePoints4(-b/2+X+X/2,-k/2,X,20,-90,-180),{x:b/2-X/2,y:X},...generateCirclePoints4(-b/2-X/2,-X,X,20,0,90),...generateCirclePoints4(-b/2-X/2,X,X,20,-90,0),{x:b/2-X/2,y:-X},...generateCirclePoints4(-b/2+X+X/2,k/2,X,30,-180,-270)],ta=[{x:b/2,y:-k/2-X},{x:-b/2,y:-k/2-X},...generateCirclePoints4(b/2,-k/2,X,20,-90,0),{x:-b/2-X,y:-X},...generateCirclePoints4(b/2+2*X,-X,X,20,-180,-270),...generateCirclePoints4(b/2+2*X,X,X,20,-90,-180),{x:-b/2-X,y:k/2},...generateCirclePoints4(b/2,k/2,X,20,0,90),{x:-b/2,y:k/2+X},{x:b/2-X-X/2,y:k/2+X},...generateCirclePoints4(-b/2+X+X/2,-k/2,X,20,-90,-180),{x:b/2-X/2,y:X},...generateCirclePoints4(-b/2-X/2,-X,X,20,0,90),...generateCirclePoints4(-b/2-X/2,X,X,20,-90,0),{x:b/2-X/2,y:-X},...generateCirclePoints4(-b/2+X+X/2,k/2,X,30,-180,-270)],to=B.svg(f),ts=th(s,{fill:"none"});"handDrawn"!==s.look&&(ts.roughness=0,ts.fillStyle="solid");let tc=createPathFromPoints(ti),tu=tc.replace("Z",""),td=to.path(tu,ts),tp=createPathFromPoints(tn),tf=tp.replace("Z",""),tg=to.path(tf,ts),tm=createPathFromPoints(ta),ty=to.path(tm,{...ts}),tx=f.insert("g",":first-child");return tx.insert(()=>ty,":first-child").attr("stroke-opacity",0),tx.insert(()=>td,":first-child"),tx.insert(()=>tg,":first-child"),tx.attr("class","text"),tr&&"handDrawn"!==s.look&&tx.selectAll("path").attr("style",tr),p&&"handDrawn"!==s.look&&tx.selectAll("path").attr("style",p),tx.attr("transform",`translate(${X-X/4}, 0)`),m.attr("transform",`translate(${-b/2+(s.padding??0)/2-(g.x-(g.left??0))},${-k/2+(s.padding??0)/2-(g.y-(g.top??0))})`),J(s,tx),s.intersect=function(o){let c=t_.polygon(s,ta,o);return c},f}async function curvedTrapezoid(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g}=await L(o,s,te(s)),m=Math.max(80,(g.width+(s.padding??0)*2)*1.25,s?.width??0),b=Math.max(20,g.height+(s.padding??0)*2,s?.height??0),k=b/2,{cssStyles:X}=s,tr=B.svg(f),ti=th(s,{});"handDrawn"!==s.look&&(ti.roughness=0,ti.fillStyle="solid");let tn=m-k,ta=b/4,to=[{x:tn,y:0},{x:ta,y:0},{x:0,y:b/2},{x:ta,y:b},{x:tn,y:b},...generateCirclePoints(-tn,-b/2,k,50,270,90)],ts=createPathFromPoints(to),tc=tr.path(ts,ti),tu=f.insert(()=>tc,":first-child");return tu.attr("class","basic label-container"),X&&"handDrawn"!==s.look&&tu.selectChildren("path").attr("style",X),p&&"handDrawn"!==s.look&&tu.selectChildren("path").attr("style",p),tu.attr("transform",`translate(${-m/2}, ${-b/2})`),J(s,tu),s.intersect=function(o){let c=t_.polygon(s,to,o);return c},f}(0,b.eW)(anchor,"anchor"),(0,b.eW)(generateArcPoints,"generateArcPoints"),(0,b.eW)(bowTieRect,"bowTieRect"),(0,b.eW)(insertPolygonShape,"insertPolygonShape"),(0,b.eW)(card,"card"),(0,b.eW)(choice,"choice"),(0,b.eW)(circle,"circle"),(0,b.eW)(createLine,"createLine"),(0,b.eW)(crossedCircle,"crossedCircle"),(0,b.eW)(generateCirclePoints2,"generateCirclePoints"),(0,b.eW)(curlyBraceLeft,"curlyBraceLeft"),(0,b.eW)(generateCirclePoints3,"generateCirclePoints"),(0,b.eW)(curlyBraceRight,"curlyBraceRight"),(0,b.eW)(generateCirclePoints4,"generateCirclePoints"),(0,b.eW)(curlyBraces,"curlyBraces"),(0,b.eW)(curvedTrapezoid,"curvedTrapezoid");var tx=(0,b.eW)((o,s,c,p,f,g)=>`M${o},${s+g} a${f},${g} 0,0,0 ${c},0 a${f},${g} 0,0,0 ${-c},0 l0,${p} a${f},${g} 0,0,0 ${c},0 l0,${-p}`,"createCylinderPathD"),tb=(0,b.eW)((o,s,c,p,f,g)=>`M${o},${s+g} M${o+c},${s+g} a${f},${g} 0,0,0 ${-c},0 l0,${p} a${f},${g} 0,0,0 ${c},0 l0,${-p}`,"createOuterCylinderPathD"),tC=(0,b.eW)((o,s,c,p,f,g)=>`M${o-c/2},${-p/2} a${f},${g} 0,0,0 ${c},0`,"createInnerCylinderPathD");async function cylinder(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:b,label:k}=await L(o,s,te(s)),X=Math.max(b.width+s.padding,s.width??0),tr=X/2,ti=tr/(2.5+X/50),tn=Math.max(b.height+ti+s.padding,s.height??0),{cssStyles:ta}=s;if("handDrawn"===s.look){let o=B.svg(g),p=tb(0,0,X,tn,tr,ti),f=tC(0,ti,X,tn,tr,ti),m=o.path(p,th(s,{})),b=o.path(f,th(s,{fill:"none"}));c=g.insert(()=>b,":first-child"),(c=g.insert(()=>m,":first-child")).attr("class","basic label-container"),ta&&c.attr("style",ta)}else{let o=tx(0,0,X,tn,tr,ti);c=g.insert("path",":first-child").attr("d",o).attr("class","basic label-container").attr("style",(0,m.R7)(ta)).attr("style",f)}return c.attr("label-offset-y",ti),c.attr("transform",`translate(${-X/2}, ${-(tn/2+ti)})`),J(s,c),k.attr("transform",`translate(${-(b.width/2)-(b.x-(b.left??0))}, ${-(b.height/2)+(s.padding??0)/1.5-(b.y-(b.top??0))})`),s.intersect=function(o){let c=t_.rect(s,o),p=c.x-(s.x??0);if(0!=tr&&(Math.abs(p)<(s.width??0)/2||Math.abs(p)==(s.width??0)/2&&Math.abs(c.y-(s.y??0))>(s.height??0)/2-ti)){let f=ti*ti*(1-p*p/(tr*tr));f>0&&(f=Math.sqrt(f)),f=ti-f,o.y-(s.y??0)>0&&(f=-f),c.y+=f}return c},g}async function dividedRectangle(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=g.width+s.padding,k=g.height+s.padding,X=.2*k,tr=-b/2,ti=-k/2-X/2,{cssStyles:tn}=s,ta=B.svg(f),to=th(s,{});"handDrawn"!==s.look&&(to.roughness=0,to.fillStyle="solid");let ts=[{x:tr,y:ti+X},{x:-tr,y:ti+X},{x:-tr,y:-ti},{x:tr,y:-ti},{x:tr,y:ti},{x:-tr,y:ti},{x:-tr,y:ti+X}],tc=ta.polygon(ts.map(o=>[o.x,o.y]),to),tu=f.insert(()=>tc,":first-child");return tu.attr("class","basic label-container"),tn&&"handDrawn"!==s.look&&tu.selectAll("path").attr("style",tn),p&&"handDrawn"!==s.look&&tu.selectAll("path").attr("style",p),m.attr("transform",`translate(${tr+(s.padding??0)/2-(g.x-(g.left??0))}, ${ti+X+(s.padding??0)/2-(g.y-(g.top??0))})`),J(s,tu),s.intersect=function(o){let c=t_.rect(s,o);return c},f}async function doublecircle(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:k,halfPadding:X}=await L(o,s,te(s)),tr=k.width/2+X+5,ti=k.width/2+X,{cssStyles:tn}=s;if("handDrawn"===s.look){let o=B.svg(g),p=th(s,{roughness:.2,strokeWidth:2.5}),f=th(s,{roughness:.2,strokeWidth:1.5}),b=o.circle(0,0,2*tr,p),k=o.circle(0,0,2*ti,f);(c=g.insert("g",":first-child")).attr("class",(0,m.R7)(s.cssClasses)).attr("style",(0,m.R7)(tn)),c.node()?.appendChild(b),c.node()?.appendChild(k)}else{c=g.insert("g",":first-child");let o=c.insert("circle",":first-child"),s=c.insert("circle");c.attr("class","basic label-container").attr("style",f),o.attr("class","outer-circle").attr("style",f).attr("r",tr).attr("cx",0).attr("cy",0),s.attr("class","inner-circle").attr("style",f).attr("r",ti).attr("cx",0).attr("cy",0)}return J(s,c),s.intersect=function(o){return b.cM.info("DoubleCircle intersect",s,tr,o),t_.circle(s,tr,o)},g}function filledCircle(o,s,{config:{themeVariables:c}}){let{labelStyles:p,nodeStyles:f}=tl(s);s.label="",s.labelStyle=p;let g=o.insert("g").attr("class",te(s)).attr("id",s.domId??s.id),{cssStyles:m}=s,k=B.svg(g),{nodeBorder:L}=c,X=th(s,{fillStyle:"solid"});"handDrawn"!==s.look&&(X.roughness=0);let tr=k.circle(0,0,14,X),ti=g.insert(()=>tr,":first-child");return ti.selectAll("path").attr("style",`fill: ${L} !important;`),m&&m.length>0&&"handDrawn"!==s.look&&ti.selectAll("path").attr("style",m),f&&"handDrawn"!==s.look&&ti.selectAll("path").attr("style",f),J(s,ti),s.intersect=function(o){b.cM.info("filledCircle intersect",s,{radius:7,point:o});let c=t_.circle(s,7,o);return c},g}async function flippedTriangle(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),k=g.width+(s.padding??0),X=k+g.height,tr=k+g.height,ti=[{x:0,y:-X},{x:tr,y:-X},{x:tr/2,y:0}],{cssStyles:tn}=s,ta=B.svg(f),to=th(s,{});"handDrawn"!==s.look&&(to.roughness=0,to.fillStyle="solid");let ts=createPathFromPoints(ti),tc=ta.path(ts,to),tu=f.insert(()=>tc,":first-child").attr("transform",`translate(${-X/2}, ${X/2})`);return tn&&"handDrawn"!==s.look&&tu.selectChildren("path").attr("style",tn),p&&"handDrawn"!==s.look&&tu.selectChildren("path").attr("style",p),s.width=k,s.height=X,J(s,tu),m.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))}, ${-X/2+(s.padding??0)/2+(g.y-(g.top??0))})`),s.intersect=function(o){return b.cM.info("Triangle intersect",s,ti,o),t_.polygon(s,ti,o)},f}function forkJoin(o,s,{dir:c,config:{state:p,themeVariables:f}}){let{nodeStyles:g}=tl(s);s.label="";let m=o.insert("g").attr("class",te(s)).attr("id",s.domId??s.id),{cssStyles:b}=s,k=Math.max(70,s?.width??0),L=Math.max(10,s?.height??0);"LR"===c&&(k=Math.max(10,s?.width??0),L=Math.max(70,s?.height??0));let X=-1*k/2,tr=-1*L/2,ti=B.svg(m),tn=th(s,{stroke:f.lineColor,fill:f.lineColor});"handDrawn"!==s.look&&(tn.roughness=0,tn.fillStyle="solid");let ta=ti.rectangle(X,tr,k,L,tn),to=m.insert(()=>ta,":first-child");b&&"handDrawn"!==s.look&&to.selectAll("path").attr("style",b),g&&"handDrawn"!==s.look&&to.selectAll("path").attr("style",g),J(s,to);let ts=p?.padding??0;return s.width&&s.height&&(s.width+=ts/2||0,s.height+=ts/2||0),s.intersect=function(o){return t_.rect(s,o)},m}async function halfRoundedRectangle(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g}=await L(o,s,te(s)),m=Math.max(80,g.width+(s.padding??0)*2,s?.width??0),k=Math.max(50,g.height+(s.padding??0)*2,s?.height??0),X=k/2,{cssStyles:tr}=s,ti=B.svg(f),tn=th(s,{});"handDrawn"!==s.look&&(tn.roughness=0,tn.fillStyle="solid");let ta=[{x:-m/2,y:-k/2},{x:m/2-X,y:-k/2},...generateCirclePoints(-m/2+X,0,X,50,90,270),{x:m/2-X,y:k/2},{x:-m/2,y:k/2}],to=createPathFromPoints(ta),ts=ti.path(to,tn),tc=f.insert(()=>ts,":first-child");return tc.attr("class","basic label-container"),tr&&"handDrawn"!==s.look&&tc.selectChildren("path").attr("style",tr),p&&"handDrawn"!==s.look&&tc.selectChildren("path").attr("style",p),J(s,tc),s.intersect=function(o){b.cM.info("Pill intersect",s,{radius:X,point:o});let c=t_.polygon(s,ta,o);return c},f}(0,b.eW)(cylinder,"cylinder"),(0,b.eW)(dividedRectangle,"dividedRectangle"),(0,b.eW)(doublecircle,"doublecircle"),(0,b.eW)(filledCircle,"filledCircle"),(0,b.eW)(flippedTriangle,"flippedTriangle"),(0,b.eW)(forkJoin,"forkJoin"),(0,b.eW)(halfRoundedRectangle,"halfRoundedRectangle");var tk=(0,b.eW)((o,s,c,p,f)=>`M${o+f},${s} L${o+c-f},${s} L${o+c},${s-p/2} L${o+c-f},${s-p} L${o+f},${s-p} L${o},${s-p/2} Z`,"createHexagonPathD");async function hexagon(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:m}=await L(o,s,te(s)),b=m.height+s.padding,k=b/4,X=m.width+2*k+s.padding,tr=[{x:k,y:0},{x:X-k,y:0},{x:X,y:-b/2},{x:X-k,y:-b},{x:k,y:-b},{x:0,y:-b/2}],{cssStyles:ti}=s;if("handDrawn"===s.look){let o=B.svg(g),p=th(s,{}),f=tk(0,0,X,b,k),m=o.path(f,p);c=g.insert(()=>m,":first-child").attr("transform",`translate(${-X/2}, ${b/2})`),ti&&c.attr("style",ti)}else c=insertPolygonShape(g,X,b,tr);return f&&c.attr("style",f),s.width=X,s.height=b,J(s,c),s.intersect=function(o){return t_.polygon(s,tr,o)},g}async function hourglass(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.label="",s.labelStyle=c;let{shapeSvg:f}=await L(o,s,te(s)),g=Math.max(30,s?.width??0),m=Math.max(30,s?.height??0),{cssStyles:k}=s,X=B.svg(f),tr=th(s,{});"handDrawn"!==s.look&&(tr.roughness=0,tr.fillStyle="solid");let ti=[{x:0,y:0},{x:g,y:0},{x:0,y:m},{x:g,y:m}],tn=createPathFromPoints(ti),ta=X.path(tn,tr),to=f.insert(()=>ta,":first-child");return to.attr("class","basic label-container"),k&&"handDrawn"!==s.look&&to.selectChildren("path").attr("style",k),p&&"handDrawn"!==s.look&&to.selectChildren("path").attr("style",p),to.attr("transform",`translate(${-g/2}, ${-m/2})`),J(s,to),s.intersect=function(o){b.cM.info("Pill intersect",s,{points:ti});let c=t_.polygon(s,ti,o);return c},f}async function icon(o,s,{config:{themeVariables:c,flowchart:f}}){let{labelStyles:g}=tl(s);s.labelStyle=g;let m=s.assetHeight??48,k=s.assetWidth??48,X=Math.max(m,k),te=f?.wrappingWidth;s.width=Math.max(X,te??0);let{shapeSvg:tr,bbox:ti,label:tn}=await L(o,s,"icon-shape default"),ta="t"===s.pos,{nodeBorder:ts}=c,{stylesMap:tc}=to(s),tu=-X/2,td=-X/2,tp=s.label?8:0,tf=B.svg(tr),tg=th(s,{stroke:"none",fill:"none"});"handDrawn"!==s.look&&(tg.roughness=0,tg.fillStyle="solid");let tm=tf.rectangle(tu,td,X,X,tg),ty=Math.max(X,ti.width),tx=X+ti.height+tp,tb=tf.rectangle(-ty/2,-tx/2,ty,tx,{...tg,fill:"transparent",stroke:"none"}),tC=tr.insert(()=>tm,":first-child"),tk=tr.insert(()=>tb);if(s.icon){let o=tr.append("g");o.html(`<g>${await (0,p.s4)(s.icon,{height:X,width:X,fallbackPrefix:""})}</g>`);let c=o.node().getBBox(),f=c.width,g=c.height,m=c.x,b=c.y;o.attr("transform",`translate(${-f/2-m},${ta?ti.height/2+tp/2-g/2-b:-ti.height/2-tp/2-g/2-b})`),o.attr("style",`color: ${tc.get("stroke")??ts};`)}return tn.attr("transform",`translate(${-ti.width/2-(ti.x-(ti.left??0))},${ta?-tx/2:tx/2-ti.height})`),tC.attr("transform",`translate(0,${ta?ti.height/2+tp/2:-ti.height/2-tp/2})`),J(s,tk),s.intersect=function(o){if(b.cM.info("iconSquare intersect",s,o),!s.label)return t_.rect(s,o);let c=s.x??0,p=s.y??0,f=s.height??0,g=[];g=ta?[{x:c-ti.width/2,y:p-f/2},{x:c+ti.width/2,y:p-f/2},{x:c+ti.width/2,y:p-f/2+ti.height+tp},{x:c+X/2,y:p-f/2+ti.height+tp},{x:c+X/2,y:p+f/2},{x:c-X/2,y:p+f/2},{x:c-X/2,y:p-f/2+ti.height+tp},{x:c-ti.width/2,y:p-f/2+ti.height+tp}]:[{x:c-X/2,y:p-f/2},{x:c+X/2,y:p-f/2},{x:c+X/2,y:p-f/2+X},{x:c+ti.width/2,y:p-f/2+X},{x:c+ti.width/2/2,y:p+f/2},{x:c-ti.width/2,y:p+f/2},{x:c-ti.width/2,y:p-f/2+X},{x:c-X/2,y:p-f/2+X}];let m=t_.polygon(s,g,o);return m},tr}async function iconCircle(o,s,{config:{themeVariables:c,flowchart:f}}){let{labelStyles:g}=tl(s);s.labelStyle=g;let m=s.assetHeight??48,k=s.assetWidth??48,X=Math.max(m,k),te=f?.wrappingWidth;s.width=Math.max(X,te??0);let{shapeSvg:tr,bbox:ti,label:tn}=await L(o,s,"icon-shape default"),ta=s.label?8:0,ts="t"===s.pos,{nodeBorder:tc,mainBkg:tu}=c,{stylesMap:td}=to(s),tp=B.svg(tr),tf=th(s,{});"handDrawn"!==s.look&&(tf.roughness=0,tf.fillStyle="solid");let tg=td.get("fill");tf.stroke=tg??tu;let tm=tr.append("g");s.icon&&tm.html(`<g>${await (0,p.s4)(s.icon,{height:X,width:X,fallbackPrefix:""})}</g>`);let ty=tm.node().getBBox(),tx=ty.width,tb=ty.height,tC=ty.x,tk=ty.y,tw=Math.max(tx,tb)*Math.SQRT2+40,tv=tp.circle(0,0,tw,tf),tT=Math.max(tw,ti.width),tS=tw+ti.height+ta,tM=tp.rectangle(-tT/2,-tS/2,tT,tS,{...tf,fill:"transparent",stroke:"none"}),tA=tr.insert(()=>tv,":first-child"),tB=tr.insert(()=>tM);return tm.attr("transform",`translate(${-tx/2-tC},${ts?ti.height/2+ta/2-tb/2-tk:-ti.height/2-ta/2-tb/2-tk})`),tm.attr("style",`color: ${td.get("stroke")??tc};`),tn.attr("transform",`translate(${-ti.width/2-(ti.x-(ti.left??0))},${ts?-tS/2:tS/2-ti.height})`),tA.attr("transform",`translate(0,${ts?ti.height/2+ta/2:-ti.height/2-ta/2})`),J(s,tB),s.intersect=function(o){b.cM.info("iconSquare intersect",s,o);let c=t_.rect(s,o);return c},tr}async function iconRounded(o,s,{config:{themeVariables:c,flowchart:f}}){let{labelStyles:g}=tl(s);s.labelStyle=g;let m=s.assetHeight??48,k=s.assetWidth??48,X=Math.max(m,k),te=f?.wrappingWidth;s.width=Math.max(X,te??0);let{shapeSvg:tr,bbox:ti,halfPadding:ta,label:ts}=await L(o,s,"icon-shape default"),tc="t"===s.pos,tu=X+2*ta,td=X+2*ta,{nodeBorder:tp,mainBkg:tf}=c,{stylesMap:tg}=to(s),tm=-td/2,ty=-tu/2,tx=s.label?8:0,tb=B.svg(tr),tC=th(s,{});"handDrawn"!==s.look&&(tC.roughness=0,tC.fillStyle="solid");let tk=tg.get("fill");tC.stroke=tk??tf;let tw=tb.path(tn(tm,ty,td,tu,5),tC),tv=Math.max(td,ti.width),tT=tu+ti.height+tx,tS=tb.rectangle(-tv/2,-tT/2,tv,tT,{...tC,fill:"transparent",stroke:"none"}),tM=tr.insert(()=>tw,":first-child").attr("class","icon-shape2"),tA=tr.insert(()=>tS);if(s.icon){let o=tr.append("g");o.html(`<g>${await (0,p.s4)(s.icon,{height:X,width:X,fallbackPrefix:""})}</g>`);let c=o.node().getBBox(),f=c.width,g=c.height,m=c.x,b=c.y;o.attr("transform",`translate(${-f/2-m},${tc?ti.height/2+tx/2-g/2-b:-ti.height/2-tx/2-g/2-b})`),o.attr("style",`color: ${tg.get("stroke")??tp};`)}return ts.attr("transform",`translate(${-ti.width/2-(ti.x-(ti.left??0))},${tc?-tT/2:tT/2-ti.height})`),tM.attr("transform",`translate(0,${tc?ti.height/2+tx/2:-ti.height/2-tx/2})`),J(s,tA),s.intersect=function(o){if(b.cM.info("iconSquare intersect",s,o),!s.label)return t_.rect(s,o);let c=s.x??0,p=s.y??0,f=s.height??0,g=[];g=tc?[{x:c-ti.width/2,y:p-f/2},{x:c+ti.width/2,y:p-f/2},{x:c+ti.width/2,y:p-f/2+ti.height+tx},{x:c+td/2,y:p-f/2+ti.height+tx},{x:c+td/2,y:p+f/2},{x:c-td/2,y:p+f/2},{x:c-td/2,y:p-f/2+ti.height+tx},{x:c-ti.width/2,y:p-f/2+ti.height+tx}]:[{x:c-td/2,y:p-f/2},{x:c+td/2,y:p-f/2},{x:c+td/2,y:p-f/2+tu},{x:c+ti.width/2,y:p-f/2+tu},{x:c+ti.width/2/2,y:p+f/2},{x:c-ti.width/2,y:p+f/2},{x:c-ti.width/2,y:p-f/2+tu},{x:c-td/2,y:p-f/2+tu}];let m=t_.polygon(s,g,o);return m},tr}async function iconSquare(o,s,{config:{themeVariables:c,flowchart:f}}){let{labelStyles:g}=tl(s);s.labelStyle=g;let m=s.assetHeight??48,k=s.assetWidth??48,X=Math.max(m,k),te=f?.wrappingWidth;s.width=Math.max(X,te??0);let{shapeSvg:tr,bbox:ti,halfPadding:ta,label:ts}=await L(o,s,"icon-shape default"),tc="t"===s.pos,tu=X+2*ta,td=X+2*ta,{nodeBorder:tp,mainBkg:tf}=c,{stylesMap:tg}=to(s),tm=-td/2,ty=-tu/2,tx=s.label?8:0,tb=B.svg(tr),tC=th(s,{});"handDrawn"!==s.look&&(tC.roughness=0,tC.fillStyle="solid");let tk=tg.get("fill");tC.stroke=tk??tf;let tw=tb.path(tn(tm,ty,td,tu,.1),tC),tv=Math.max(td,ti.width),tT=tu+ti.height+tx,tS=tb.rectangle(-tv/2,-tT/2,tv,tT,{...tC,fill:"transparent",stroke:"none"}),tM=tr.insert(()=>tw,":first-child"),tA=tr.insert(()=>tS);if(s.icon){let o=tr.append("g");o.html(`<g>${await (0,p.s4)(s.icon,{height:X,width:X,fallbackPrefix:""})}</g>`);let c=o.node().getBBox(),f=c.width,g=c.height,m=c.x,b=c.y;o.attr("transform",`translate(${-f/2-m},${tc?ti.height/2+tx/2-g/2-b:-ti.height/2-tx/2-g/2-b})`),o.attr("style",`color: ${tg.get("stroke")??tp};`)}return ts.attr("transform",`translate(${-ti.width/2-(ti.x-(ti.left??0))},${tc?-tT/2:tT/2-ti.height})`),tM.attr("transform",`translate(0,${tc?ti.height/2+tx/2:-ti.height/2-tx/2})`),J(s,tA),s.intersect=function(o){if(b.cM.info("iconSquare intersect",s,o),!s.label)return t_.rect(s,o);let c=s.x??0,p=s.y??0,f=s.height??0,g=[];g=tc?[{x:c-ti.width/2,y:p-f/2},{x:c+ti.width/2,y:p-f/2},{x:c+ti.width/2,y:p-f/2+ti.height+tx},{x:c+td/2,y:p-f/2+ti.height+tx},{x:c+td/2,y:p+f/2},{x:c-td/2,y:p+f/2},{x:c-td/2,y:p-f/2+ti.height+tx},{x:c-ti.width/2,y:p-f/2+ti.height+tx}]:[{x:c-td/2,y:p-f/2},{x:c+td/2,y:p-f/2},{x:c+td/2,y:p-f/2+tu},{x:c+ti.width/2,y:p-f/2+tu},{x:c+ti.width/2/2,y:p+f/2},{x:c-ti.width/2,y:p+f/2},{x:c-ti.width/2,y:p-f/2+tu},{x:c-td/2,y:p-f/2+tu}];let m=t_.polygon(s,g,o);return m},tr}async function imageSquare(o,s,{config:{flowchart:c}}){let p=new Image;p.src=s?.img??"",await p.decode();let f=Number(p.naturalWidth.toString().replace("px","")),g=Number(p.naturalHeight.toString().replace("px",""));s.imageAspectRatio=f/g;let{labelStyles:m}=tl(s);s.labelStyle=m;let k=c?.wrappingWidth;s.defaultWidth=c?.wrappingWidth;let X=Math.max(s.label?k??0:0,s?.assetWidth??f),te="on"===s.constraint&&s?.assetHeight?s.assetHeight*s.imageAspectRatio:X,tr="on"===s.constraint?te/s.imageAspectRatio:s?.assetHeight??g;s.width=Math.max(te,k??0);let{shapeSvg:ti,bbox:tn,label:ta}=await L(o,s,"image-shape default"),to="t"===s.pos,ts=-te/2,tc=-tr/2,tu=s.label?8:0,td=B.svg(ti),tp=th(s,{});"handDrawn"!==s.look&&(tp.roughness=0,tp.fillStyle="solid");let tf=td.rectangle(ts,tc,te,tr,tp),tg=Math.max(te,tn.width),tm=tr+tn.height+tu,ty=td.rectangle(-tg/2,-tm/2,tg,tm,{...tp,fill:"none",stroke:"none"}),tx=ti.insert(()=>tf,":first-child"),tb=ti.insert(()=>ty);if(s.img){let o=ti.append("image");o.attr("href",s.img),o.attr("width",te),o.attr("height",tr),o.attr("preserveAspectRatio","none"),o.attr("transform",`translate(${-te/2},${to?tm/2-tr:-tm/2})`)}return ta.attr("transform",`translate(${-tn.width/2-(tn.x-(tn.left??0))},${to?-tr/2-tn.height/2-tu/2:tr/2-tn.height/2+tu/2})`),tx.attr("transform",`translate(0,${to?tn.height/2+tu/2:-tn.height/2-tu/2})`),J(s,tb),s.intersect=function(o){if(b.cM.info("iconSquare intersect",s,o),!s.label)return t_.rect(s,o);let c=s.x??0,p=s.y??0,f=s.height??0,g=[];g=to?[{x:c-tn.width/2,y:p-f/2},{x:c+tn.width/2,y:p-f/2},{x:c+tn.width/2,y:p-f/2+tn.height+tu},{x:c+te/2,y:p-f/2+tn.height+tu},{x:c+te/2,y:p+f/2},{x:c-te/2,y:p+f/2},{x:c-te/2,y:p-f/2+tn.height+tu},{x:c-tn.width/2,y:p-f/2+tn.height+tu}]:[{x:c-te/2,y:p-f/2},{x:c+te/2,y:p-f/2},{x:c+te/2,y:p-f/2+tr},{x:c+tn.width/2,y:p-f/2+tr},{x:c+tn.width/2/2,y:p+f/2},{x:c-tn.width/2,y:p+f/2},{x:c-tn.width/2,y:p-f/2+tr},{x:c-te/2,y:p-f/2+tr}];let m=t_.polygon(s,g,o);return m},ti}async function inv_trapezoid(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:m}=await L(o,s,te(s)),b=Math.max(m.width+(s.padding??0)*2,s?.width??0),k=Math.max(m.height+(s.padding??0)*2,s?.height??0),X=[{x:0,y:0},{x:b,y:0},{x:b+3*k/6,y:-k},{x:-3*k/6,y:-k}],{cssStyles:tr}=s;if("handDrawn"===s.look){let o=B.svg(g),p=th(s,{}),f=createPathFromPoints(X),m=o.path(f,p);c=g.insert(()=>m,":first-child").attr("transform",`translate(${-b/2}, ${k/2})`),tr&&c.attr("style",tr)}else c=insertPolygonShape(g,b,k,X);return f&&c.attr("style",f),s.width=b,s.height=k,J(s,c),s.intersect=function(o){return t_.polygon(s,X,o)},g}async function drawRect(o,s,c){let p;let{labelStyles:f,nodeStyles:g}=tl(s);s.labelStyle=f;let{shapeSvg:b,bbox:k}=await L(o,s,te(s)),X=Math.max(k.width+2*c.labelPaddingX,s?.width||0),tr=Math.max(k.height+2*c.labelPaddingY,s?.height||0),ti=-X/2,ta=-tr/2,{rx:to,ry:ts}=s,{cssStyles:tc}=s;if(c?.rx&&c.ry&&(to=c.rx,ts=c.ry),"handDrawn"===s.look){let o=B.svg(b),c=th(s,{}),f=to||ts?o.path(tn(ti,ta,X,tr,to||0),c):o.rectangle(ti,ta,X,tr,c);(p=b.insert(()=>f,":first-child")).attr("class","basic label-container").attr("style",(0,m.R7)(tc))}else(p=b.insert("rect",":first-child")).attr("class","basic label-container").attr("style",g).attr("rx",(0,m.R7)(to)).attr("ry",(0,m.R7)(ts)).attr("x",ti).attr("y",ta).attr("width",X).attr("height",tr);return J(s,p),s.intersect=function(o){return t_.rect(s,o)},b}async function labelRect(o,s){let{shapeSvg:c,bbox:p,label:f}=await L(o,s,"label"),g=c.insert("rect",":first-child");return g.attr("width",.1).attr("height",.1),c.attr("class","label edgeLabel"),f.attr("transform",`translate(${-(p.width/2)-(p.x-(p.left??0))}, ${-(p.height/2)-(p.y-(p.top??0))})`),J(s,g),s.intersect=function(o){return t_.rect(s,o)},c}async function lean_left(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:m}=await L(o,s,te(s)),b=Math.max(m.width+(s.padding??0),s?.width??0),k=Math.max(m.height+(s.padding??0),s?.height??0),X=[{x:0,y:0},{x:b+3*k/6,y:0},{x:b,y:-k},{x:-(3*k)/6,y:-k}],{cssStyles:tr}=s;if("handDrawn"===s.look){let o=B.svg(g),p=th(s,{}),f=createPathFromPoints(X),m=o.path(f,p);c=g.insert(()=>m,":first-child").attr("transform",`translate(${-b/2}, ${k/2})`),tr&&c.attr("style",tr)}else c=insertPolygonShape(g,b,k,X);return f&&c.attr("style",f),s.width=b,s.height=k,J(s,c),s.intersect=function(o){return t_.polygon(s,X,o)},g}async function lean_right(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:m}=await L(o,s,te(s)),b=Math.max(m.width+(s.padding??0),s?.width??0),k=Math.max(m.height+(s.padding??0),s?.height??0),X=[{x:-3*k/6,y:0},{x:b,y:0},{x:b+3*k/6,y:-k},{x:0,y:-k}],{cssStyles:tr}=s;if("handDrawn"===s.look){let o=B.svg(g),p=th(s,{}),f=createPathFromPoints(X),m=o.path(f,p);c=g.insert(()=>m,":first-child").attr("transform",`translate(${-b/2}, ${k/2})`),tr&&c.attr("style",tr)}else c=insertPolygonShape(g,b,k,X);return f&&c.attr("style",f),s.width=b,s.height=k,J(s,c),s.intersect=function(o){return t_.polygon(s,X,o)},g}function lightningBolt(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.label="",s.labelStyle=c;let f=o.insert("g").attr("class",te(s)).attr("id",s.domId??s.id),{cssStyles:g}=s,m=Math.max(35,s?.width??0),k=Math.max(35,s?.height??0),L=[{x:m,y:0},{x:0,y:k+3.5},{x:m-14,y:k+3.5},{x:0,y:2*k},{x:m,y:k-3.5},{x:14,y:k-3.5}],X=B.svg(f),tr=th(s,{});"handDrawn"!==s.look&&(tr.roughness=0,tr.fillStyle="solid");let ti=createPathFromPoints(L),tn=X.path(ti,tr),ta=f.insert(()=>tn,":first-child");return g&&"handDrawn"!==s.look&&ta.selectAll("path").attr("style",g),p&&"handDrawn"!==s.look&&ta.selectAll("path").attr("style",p),ta.attr("transform",`translate(-${m/2},${-k})`),J(s,ta),s.intersect=function(o){b.cM.info("lightningBolt intersect",s,o);let c=t_.polygon(s,L,o);return c},f}(0,b.eW)(hexagon,"hexagon"),(0,b.eW)(hourglass,"hourglass"),(0,b.eW)(icon,"icon"),(0,b.eW)(iconCircle,"iconCircle"),(0,b.eW)(iconRounded,"iconRounded"),(0,b.eW)(iconSquare,"iconSquare"),(0,b.eW)(imageSquare,"imageSquare"),(0,b.eW)(inv_trapezoid,"inv_trapezoid"),(0,b.eW)(drawRect,"drawRect"),(0,b.eW)(labelRect,"labelRect"),(0,b.eW)(lean_left,"lean_left"),(0,b.eW)(lean_right,"lean_right"),(0,b.eW)(lightningBolt,"lightningBolt");var tw=(0,b.eW)((o,s,c,p,f,g,m)=>`M${o},${s+g} a${f},${g} 0,0,0 ${c},0 a${f},${g} 0,0,0 ${-c},0 l0,${p} a${f},${g} 0,0,0 ${c},0 l0,${-p} M${o},${s+g+m} a${f},${g} 0,0,0 ${c},0`,"createCylinderPathD"),tv=(0,b.eW)((o,s,c,p,f,g,m)=>`M${o},${s+g} M${o+c},${s+g} a${f},${g} 0,0,0 ${-c},0 l0,${p} a${f},${g} 0,0,0 ${c},0 l0,${-p} M${o},${s+g+m} a${f},${g} 0,0,0 ${c},0`,"createOuterCylinderPathD"),tT=(0,b.eW)((o,s,c,p,f,g)=>`M${o-c/2},${-p/2} a${f},${g} 0,0,0 ${c},0`,"createInnerCylinderPathD");async function linedCylinder(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:b,label:k}=await L(o,s,te(s)),X=Math.max(b.width+(s.padding??0),s.width??0),tr=X/2,ti=tr/(2.5+X/50),tn=Math.max(b.height+ti+(s.padding??0),s.height??0),ta=.1*tn,{cssStyles:to}=s;if("handDrawn"===s.look){let o=B.svg(g),p=tv(0,0,X,tn,tr,ti,ta),f=tT(0,ti,X,tn,tr,ti),m=th(s,{}),b=o.path(p,m),k=o.path(f,m),L=g.insert(()=>k,":first-child");L.attr("class","line"),(c=g.insert(()=>b,":first-child")).attr("class","basic label-container"),to&&c.attr("style",to)}else{let o=tw(0,0,X,tn,tr,ti,ta);c=g.insert("path",":first-child").attr("d",o).attr("class","basic label-container").attr("style",(0,m.R7)(to)).attr("style",f)}return c.attr("label-offset-y",ti),c.attr("transform",`translate(${-X/2}, ${-(tn/2+ti)})`),J(s,c),k.attr("transform",`translate(${-(b.width/2)-(b.x-(b.left??0))}, ${-(b.height/2)+ti-(b.y-(b.top??0))})`),s.intersect=function(o){let c=t_.rect(s,o),p=c.x-(s.x??0);if(0!=tr&&(Math.abs(p)<(s.width??0)/2||Math.abs(p)==(s.width??0)/2&&Math.abs(c.y-(s.y??0))>(s.height??0)/2-ti)){let f=ti*ti*(1-p*p/(tr*tr));f>0&&(f=Math.sqrt(f)),f=ti-f,o.y-(s.y??0)>0&&(f=-f),c.y+=f}return c},g}async function linedWaveEdgedRect(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=Math.max(g.width+(s.padding??0)*2,s?.width??0),k=Math.max(g.height+(s.padding??0)*2,s?.height??0),X=k/4,tr=k+X,{cssStyles:ti}=s,tn=B.svg(f),ta=th(s,{});"handDrawn"!==s.look&&(ta.roughness=0,ta.fillStyle="solid");let to=[{x:-b/2-b/2*.1,y:-tr/2},{x:-b/2-b/2*.1,y:tr/2},...generateFullSineWavePoints(-b/2-b/2*.1,tr/2,b/2+b/2*.1,tr/2,X,.8),{x:b/2+b/2*.1,y:-tr/2},{x:-b/2-b/2*.1,y:-tr/2},{x:-b/2,y:-tr/2},{x:-b/2,y:tr/2*1.1},{x:-b/2,y:-tr/2}],ts=tn.polygon(to.map(o=>[o.x,o.y]),ta),tc=f.insert(()=>ts,":first-child");return tc.attr("class","basic label-container"),ti&&"handDrawn"!==s.look&&tc.selectAll("path").attr("style",ti),p&&"handDrawn"!==s.look&&tc.selectAll("path").attr("style",p),tc.attr("transform",`translate(0,${-X/2})`),m.attr("transform",`translate(${-b/2+(s.padding??0)+b/2*.1/2-(g.x-(g.left??0))},${-k/2+(s.padding??0)-X/2-(g.y-(g.top??0))})`),J(s,tc),s.intersect=function(o){let c=t_.polygon(s,to,o);return c},f}async function multiRect(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=Math.max(g.width+(s.padding??0)*2,s?.width??0),k=Math.max(g.height+(s.padding??0)*2,s?.height??0),X=-b/2,tr=-k/2,{cssStyles:ti}=s,tn=B.svg(f),ta=th(s,{}),to=[{x:X-5,y:tr+5},{x:X-5,y:tr+k+5},{x:X+b-5,y:tr+k+5},{x:X+b-5,y:tr+k},{x:X+b,y:tr+k},{x:X+b,y:tr+k-5},{x:X+b+5,y:tr+k-5},{x:X+b+5,y:tr-5},{x:X+5,y:tr-5},{x:X+5,y:tr},{x:X,y:tr},{x:X,y:tr+5}],ts=[{x:X,y:tr+5},{x:X+b-5,y:tr+5},{x:X+b-5,y:tr+k},{x:X+b,y:tr+k},{x:X+b,y:tr},{x:X,y:tr}];"handDrawn"!==s.look&&(ta.roughness=0,ta.fillStyle="solid");let tc=createPathFromPoints(to),tu=tn.path(tc,ta),td=createPathFromPoints(ts),tp=tn.path(td,{...ta,fill:"none"}),tf=f.insert(()=>tp,":first-child");return tf.insert(()=>tu,":first-child"),tf.attr("class","basic label-container"),ti&&"handDrawn"!==s.look&&tf.selectAll("path").attr("style",ti),p&&"handDrawn"!==s.look&&tf.selectAll("path").attr("style",p),m.attr("transform",`translate(${-(g.width/2)-5-(g.x-(g.left??0))}, ${-(g.height/2)+5-(g.y-(g.top??0))})`),J(s,tf),s.intersect=function(o){let c=t_.polygon(s,to,o);return c},f}async function multiWaveEdgedRectangle(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=Math.max(g.width+(s.padding??0)*2,s?.width??0),k=Math.max(g.height+(s.padding??0)*2,s?.height??0),X=k/4,tr=k+X,ti=-b/2,tn=-tr/2,{cssStyles:ta}=s,to=generateFullSineWavePoints(ti-5,tn+tr+5,ti+b-5,tn+tr+5,X,.8),ts=to?.[to.length-1],tc=[{x:ti-5,y:tn+5},{x:ti-5,y:tn+tr+5},...to,{x:ti+b-5,y:ts.y-5},{x:ti+b,y:ts.y-5},{x:ti+b,y:ts.y-10},{x:ti+b+5,y:ts.y-10},{x:ti+b+5,y:tn-5},{x:ti+5,y:tn-5},{x:ti+5,y:tn},{x:ti,y:tn},{x:ti,y:tn+5}],tu=[{x:ti,y:tn+5},{x:ti+b-5,y:tn+5},{x:ti+b-5,y:ts.y-5},{x:ti+b,y:ts.y-5},{x:ti+b,y:tn},{x:ti,y:tn}],td=B.svg(f),tp=th(s,{});"handDrawn"!==s.look&&(tp.roughness=0,tp.fillStyle="solid");let tf=createPathFromPoints(tc),tg=td.path(tf,tp),tm=createPathFromPoints(tu),ty=td.path(tm,tp),tx=f.insert(()=>tg,":first-child");return tx.insert(()=>ty),tx.attr("class","basic label-container"),ta&&"handDrawn"!==s.look&&tx.selectAll("path").attr("style",ta),p&&"handDrawn"!==s.look&&tx.selectAll("path").attr("style",p),tx.attr("transform",`translate(0,${-X/2})`),m.attr("transform",`translate(${-(g.width/2)-5-(g.x-(g.left??0))}, ${-(g.height/2)+5-X/2-(g.y-(g.top??0))})`),J(s,tx),s.intersect=function(o){let c=t_.polygon(s,tc,o);return c},f}async function note(o,s,{config:{themeVariables:c}}){let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let g=s.useHtmlLabels||b.iE().flowchart?.htmlLabels!==!1;g||(s.centerLabel=!0);let{shapeSvg:m,bbox:k}=await L(o,s,te(s)),X=Math.max(k.width+(s.padding??0)*2,s?.width??0),tr=Math.max(k.height+(s.padding??0)*2,s?.height??0),ti=-X/2,tn=-tr/2,{cssStyles:ta}=s,to=B.svg(m),ts=th(s,{fill:c.noteBkgColor,stroke:c.noteBorderColor});"handDrawn"!==s.look&&(ts.roughness=0,ts.fillStyle="solid");let tc=to.rectangle(ti,tn,X,tr,ts),tu=m.insert(()=>tc,":first-child");return tu.attr("class","basic label-container"),ta&&"handDrawn"!==s.look&&tu.selectAll("path").attr("style",ta),f&&"handDrawn"!==s.look&&tu.selectAll("path").attr("style",f),J(s,tu),s.intersect=function(o){return t_.rect(s,o)},m}(0,b.eW)(linedCylinder,"linedCylinder"),(0,b.eW)(linedWaveEdgedRect,"linedWaveEdgedRect"),(0,b.eW)(multiRect,"multiRect"),(0,b.eW)(multiWaveEdgedRectangle,"multiWaveEdgedRectangle"),(0,b.eW)(note,"note");var tS=(0,b.eW)((o,s,c)=>`M${o+c/2},${s} L${o+c},${s-c/2} L${o+c/2},${s-c} L${o},${s-c/2} Z`,"createDecisionBoxPathD");async function question(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:m}=await L(o,s,te(s)),k=m.width+s.padding,X=m.height+s.padding,tr=k+X,ti=[{x:tr/2,y:0},{x:tr,y:-tr/2},{x:tr/2,y:-tr},{x:0,y:-tr/2}],{cssStyles:tn}=s;if("handDrawn"===s.look){let o=B.svg(g),p=th(s,{}),f=tS(0,0,tr),m=o.path(f,p);c=g.insert(()=>m,":first-child").attr("transform",`translate(${-tr/2}, ${tr/2})`),tn&&c.attr("style",tn)}else c=insertPolygonShape(g,tr,tr,ti);return f&&c.attr("style",f),J(s,c),s.intersect=function(o){return b.cM.debug("APA12 Intersect called SPLIT\npoint:",o,"\nnode:\n",s,"\nres:",t_.polygon(s,ti,o)),t_.polygon(s,ti,o)},g}async function rect_left_inv_arrow(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=Math.max(g.width+(s.padding??0),s?.width??0),k=Math.max(g.height+(s.padding??0),s?.height??0),X=-b/2,tr=-k/2,ti=tr/2,tn=[{x:X+ti,y:tr},{x:X,y:0},{x:X+ti,y:-tr},{x:-X,y:-tr},{x:-X,y:tr}],{cssStyles:ta}=s,to=B.svg(f),ts=th(s,{});"handDrawn"!==s.look&&(ts.roughness=0,ts.fillStyle="solid");let tc=createPathFromPoints(tn),tu=to.path(tc,ts),td=f.insert(()=>tu,":first-child");return td.attr("class","basic label-container"),ta&&"handDrawn"!==s.look&&td.selectAll("path").attr("style",ta),p&&"handDrawn"!==s.look&&td.selectAll("path").attr("style",p),td.attr("transform",`translate(${-ti/2},0)`),m.attr("transform",`translate(${-ti/2-g.width/2-(g.x-(g.left??0))}, ${-(g.height/2)-(g.y-(g.top??0))})`),J(s,td),s.intersect=function(o){return t_.polygon(s,tn,o)},f}async function rectWithTitle(o,s){let c,p,f;let{labelStyles:g,nodeStyles:m}=tl(s);s.labelStyle=g,c=s.cssClasses?"node "+s.cssClasses:"node default";let L=o.insert("g").attr("class",c).attr("id",s.domId||s.id),X=L.insert("g"),te=L.insert("g").attr("class","label").attr("style",m),tr=s.description,ta=s.label,to=te.node().appendChild(await ti(ta,s.labelStyle,!0,!0)),ts={width:0,height:0};if((0,b.ku)(b.nV()?.flowchart?.htmlLabels)){let o=to.children[0],s=(0,k.Ys)(to);ts=o.getBoundingClientRect(),s.attr("width",ts.width),s.attr("height",ts.height)}b.cM.info("Text 2",tr);let tc=tr||[],tu=to.getBBox(),td=te.node().appendChild(await ti(tc.join?tc.join("<br/>"):tc,s.labelStyle,!0,!0)),tp=td.children[0],tf=(0,k.Ys)(td);ts=tp.getBoundingClientRect(),tf.attr("width",ts.width),tf.attr("height",ts.height);let tg=(s.padding||0)/2;(0,k.Ys)(td).attr("transform","translate( "+(ts.width>tu.width?0:(tu.width-ts.width)/2)+", "+(tu.height+tg+5)+")"),(0,k.Ys)(to).attr("transform","translate( "+(ts.width<tu.width?0:-(tu.width-ts.width)/2)+", 0)"),ts=te.node().getBBox(),te.attr("transform","translate("+-ts.width/2+", "+(-ts.height/2-tg+3)+")");let tm=ts.width+(s.padding||0),ty=ts.height+(s.padding||0),tx=-ts.width/2-tg,tb=-ts.height/2-tg;if("handDrawn"===s.look){let o=B.svg(L),c=th(s,{}),g=o.path(tn(tx,tb,tm,ty,s.rx||0),c),m=o.line(-ts.width/2-tg,-ts.height/2-tg+tu.height+tg,ts.width/2+tg,-ts.height/2-tg+tu.height+tg,c);f=L.insert(()=>(b.cM.debug("Rough node insert CXC",g),m),":first-child"),p=L.insert(()=>(b.cM.debug("Rough node insert CXC",g),g),":first-child")}else p=X.insert("rect",":first-child"),f=X.insert("line"),p.attr("class","outer title-state").attr("style",m).attr("x",-ts.width/2-tg).attr("y",-ts.height/2-tg).attr("width",ts.width+(s.padding||0)).attr("height",ts.height+(s.padding||0)),f.attr("class","divider").attr("x1",-ts.width/2-tg).attr("x2",ts.width/2+tg).attr("y1",-ts.height/2-tg+tu.height+tg).attr("y2",-ts.height/2-tg+tu.height+tg);return J(s,p),s.intersect=function(o){return t_.rect(s,o)},L}async function roundedRect(o,s){let c={rx:5,ry:5,classes:"",labelPaddingX:1*(s?.padding||0),labelPaddingY:1*(s?.padding||0)};return drawRect(o,s,c)}async function shadedProcess(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:b}=await L(o,s,te(s)),k=s?.padding??0,X=Math.max(g.width+(s.padding??0)*2,s?.width??0),tr=Math.max(g.height+(s.padding??0)*2,s?.height??0),ti=-g.width/2-k,tn=-g.height/2-k,{cssStyles:ta}=s,to=B.svg(f),ts=th(s,{});"handDrawn"!==s.look&&(ts.roughness=0,ts.fillStyle="solid");let tc=[{x:ti,y:tn},{x:ti+X+8,y:tn},{x:ti+X+8,y:tn+tr},{x:ti-8,y:tn+tr},{x:ti-8,y:tn},{x:ti,y:tn},{x:ti,y:tn+tr}],tu=to.polygon(tc.map(o=>[o.x,o.y]),ts),td=f.insert(()=>tu,":first-child");return td.attr("class","basic label-container").attr("style",(0,m.R7)(ta)),p&&"handDrawn"!==s.look&&td.selectAll("path").attr("style",p),ta&&"handDrawn"!==s.look&&td.selectAll("path").attr("style",p),b.attr("transform",`translate(${-X/2+4+(s.padding??0)-(g.x-(g.left??0))},${-tr/2+(s.padding??0)-(g.y-(g.top??0))})`),J(s,td),s.intersect=function(o){return t_.rect(s,o)},f}async function slopedRect(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=Math.max(g.width+(s.padding??0)*2,s?.width??0),k=Math.max(g.height+(s.padding??0)*2,s?.height??0),X=-b/2,tr=-k/2,{cssStyles:ti}=s,tn=B.svg(f),ta=th(s,{});"handDrawn"!==s.look&&(ta.roughness=0,ta.fillStyle="solid");let to=[{x:X,y:tr},{x:X,y:tr+k},{x:X+b,y:tr+k},{x:X+b,y:tr-k/2}],ts=createPathFromPoints(to),tc=tn.path(ts,ta),tu=f.insert(()=>tc,":first-child");return tu.attr("class","basic label-container"),ti&&"handDrawn"!==s.look&&tu.selectChildren("path").attr("style",ti),p&&"handDrawn"!==s.look&&tu.selectChildren("path").attr("style",p),tu.attr("transform",`translate(0, ${k/4})`),m.attr("transform",`translate(${-b/2+(s.padding??0)-(g.x-(g.left??0))}, ${-k/4+(s.padding??0)-(g.y-(g.top??0))})`),J(s,tu),s.intersect=function(o){let c=t_.polygon(s,to,o);return c},f}async function squareRect2(o,s){let c={rx:0,ry:0,classes:"",labelPaddingX:2*(s?.padding||0),labelPaddingY:1*(s?.padding||0)};return drawRect(o,s,c)}async function stadium(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:b}=await L(o,s,te(s)),k=b.height+s.padding,X=b.width+k/4+s.padding,{cssStyles:tr}=s;if("handDrawn"===s.look){let o=B.svg(g),p=th(s,{}),f=tn(-X/2,-k/2,X,k,k/2),b=o.path(f,p);(c=g.insert(()=>b,":first-child")).attr("class","basic label-container").attr("style",(0,m.R7)(tr))}else(c=g.insert("rect",":first-child")).attr("class","basic label-container").attr("style",f).attr("rx",k/2).attr("ry",k/2).attr("x",-X/2).attr("y",-k/2).attr("width",X).attr("height",k);return J(s,c),s.intersect=function(o){return t_.rect(s,o)},g}async function state(o,s){return drawRect(o,s,{rx:5,ry:5,classes:"flowchart-node"})}function stateEnd(o,s,{config:{themeVariables:c}}){let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{cssStyles:g}=s,{lineColor:m,stateBorder:b,nodeBorder:k}=c,L=o.insert("g").attr("class","node default").attr("id",s.domId||s.id),X=B.svg(L),te=th(s,{});"handDrawn"!==s.look&&(te.roughness=0,te.fillStyle="solid");let tr=X.circle(0,0,14,{...te,stroke:m,strokeWidth:2}),ti=b??k,tn=X.circle(0,0,5,{...te,fill:ti,stroke:ti,strokeWidth:2,fillStyle:"solid"}),ta=L.insert(()=>tr,":first-child");return ta.insert(()=>tn),g&&ta.selectAll("path").attr("style",g),f&&ta.selectAll("path").attr("style",f),J(s,ta),s.intersect=function(o){return t_.circle(s,7,o)},L}function stateStart(o,s,{config:{themeVariables:c}}){let p;let{lineColor:f}=c,g=o.insert("g").attr("class","node default").attr("id",s.domId||s.id);if("handDrawn"===s.look){let o=B.svg(g),s=o.circle(0,0,14,ta(f));(p=g.insert(()=>s)).attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else(p=g.insert("circle",":first-child")).attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return J(s,p),s.intersect=function(o){return t_.circle(s,7,o)},g}async function subroutine(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g}=await L(o,s,te(s)),b=(s?.padding||0)/2,k=g.width+s.padding,X=g.height+s.padding,tr=-g.width/2-b,ti=-g.height/2-b,tn=[{x:0,y:0},{x:k,y:0},{x:k,y:-X},{x:0,y:-X},{x:0,y:0},{x:-8,y:0},{x:k+8,y:0},{x:k+8,y:-X},{x:-8,y:-X},{x:-8,y:0}];if("handDrawn"===s.look){let o=B.svg(f),c=th(s,{}),p=o.rectangle(tr-8,ti,k+16,X,c),g=o.line(tr,ti,tr,ti+X,c),b=o.line(tr+k,ti,tr+k,ti+X,c);f.insert(()=>g,":first-child"),f.insert(()=>b,":first-child");let L=f.insert(()=>p,":first-child"),{cssStyles:te}=s;L.attr("class","basic label-container").attr("style",(0,m.R7)(te)),J(s,L)}else{let o=insertPolygonShape(f,k,X,tn);p&&o.attr("style",p),J(s,o)}return s.intersect=function(o){return t_.polygon(s,tn,o)},f}async function taggedRect(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g}=await L(o,s,te(s)),m=Math.max(g.width+(s.padding??0)*2,s?.width??0),b=Math.max(g.height+(s.padding??0)*2,s?.height??0),k=-m/2,X=-b/2,tr=.2*b,{cssStyles:ti}=s,tn=B.svg(f),ta=th(s,{}),to=[{x:k-tr/2,y:X},{x:k+m+tr/2,y:X},{x:k+m+tr/2,y:X+b},{x:k-tr/2,y:X+b}],ts=[{x:k+m-tr/2,y:X+b},{x:k+m+tr/2,y:X+b},{x:k+m+tr/2,y:X+b-.2*b}];"handDrawn"!==s.look&&(ta.roughness=0,ta.fillStyle="solid");let tc=createPathFromPoints(to),tu=tn.path(tc,ta),td=createPathFromPoints(ts),tp=tn.path(td,{...ta,fillStyle:"solid"}),tf=f.insert(()=>tp,":first-child");return tf.insert(()=>tu,":first-child"),tf.attr("class","basic label-container"),ti&&"handDrawn"!==s.look&&tf.selectAll("path").attr("style",ti),p&&"handDrawn"!==s.look&&tf.selectAll("path").attr("style",p),J(s,tf),s.intersect=function(o){let c=t_.polygon(s,to,o);return c},f}async function taggedWaveEdgedRectangle(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=Math.max(g.width+(s.padding??0)*2,s?.width??0),k=Math.max(g.height+(s.padding??0)*2,s?.height??0),X=k/4,tr=.2*b,ti=.2*k,tn=k+X,{cssStyles:ta}=s,to=B.svg(f),ts=th(s,{});"handDrawn"!==s.look&&(ts.roughness=0,ts.fillStyle="solid");let tc=[{x:-b/2-b/2*.1,y:tn/2},...generateFullSineWavePoints(-b/2-b/2*.1,tn/2,b/2+b/2*.1,tn/2,X,.8),{x:b/2+b/2*.1,y:-tn/2},{x:-b/2-b/2*.1,y:-tn/2}],tu=-b/2+b/2*.1,td=-tn/2-.4*ti,tp=[{x:tu+b-tr,y:(td+k)*1.4},{x:tu+b,y:td+k-ti},{x:tu+b,y:(td+k)*.9},...generateFullSineWavePoints(tu+b,(td+k)*1.3,tu+b-tr,(td+k)*1.5,-(.03*k),.5)],tf=createPathFromPoints(tc),tg=to.path(tf,ts),tm=createPathFromPoints(tp),ty=to.path(tm,{...ts,fillStyle:"solid"}),tx=f.insert(()=>ty,":first-child");return tx.insert(()=>tg,":first-child"),tx.attr("class","basic label-container"),ta&&"handDrawn"!==s.look&&tx.selectAll("path").attr("style",ta),p&&"handDrawn"!==s.look&&tx.selectAll("path").attr("style",p),tx.attr("transform",`translate(0,${-X/2})`),m.attr("transform",`translate(${-b/2+(s.padding??0)-(g.x-(g.left??0))},${-k/2+(s.padding??0)-X/2-(g.y-(g.top??0))})`),J(s,tx),s.intersect=function(o){let c=t_.polygon(s,tc,o);return c},f}async function text(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g}=await L(o,s,te(s)),m=Math.max(g.width+s.padding,s?.width||0),b=Math.max(g.height+s.padding,s?.height||0),k=-m/2,B=-b/2,X=f.insert("rect",":first-child");return X.attr("class","text").attr("style",p).attr("rx",0).attr("ry",0).attr("x",k).attr("y",B).attr("width",m).attr("height",b),J(s,X),s.intersect=function(o){return t_.rect(s,o)},f}(0,b.eW)(question,"question"),(0,b.eW)(rect_left_inv_arrow,"rect_left_inv_arrow"),(0,b.eW)(rectWithTitle,"rectWithTitle"),(0,b.eW)(roundedRect,"roundedRect"),(0,b.eW)(shadedProcess,"shadedProcess"),(0,b.eW)(slopedRect,"slopedRect"),(0,b.eW)(squareRect2,"squareRect"),(0,b.eW)(stadium,"stadium"),(0,b.eW)(state,"state"),(0,b.eW)(stateEnd,"stateEnd"),(0,b.eW)(stateStart,"stateStart"),(0,b.eW)(subroutine,"subroutine"),(0,b.eW)(taggedRect,"taggedRect"),(0,b.eW)(taggedWaveEdgedRectangle,"taggedWaveEdgedRectangle"),(0,b.eW)(text,"text");var tM=(0,b.eW)((o,s,c,p,f,g)=>`M${o},${s}
    a${f},${g} 0,0,1 0,${-p}
    l${c},0
    a${f},${g} 0,0,1 0,${p}
    M${c},${-p}
    a${f},${g} 0,0,0 0,${p}
    l${-c},0`,"createCylinderPathD"),tA=(0,b.eW)((o,s,c,p,f,g)=>`M${o},${s} M${o+c},${s} a${f},${g} 0,0,0 0,${-p} l${-c},0 a${f},${g} 0,0,0 0,${p} l${c},0`,"createOuterCylinderPathD"),tB=(0,b.eW)((o,s,c,p,f,g)=>`M${o+c/2},${-p/2} a${f},${g} 0,0,0 0,${p}`,"createInnerCylinderPathD");async function tiltedCylinder(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:b,label:k,halfPadding:X}=await L(o,s,te(s)),tr="neo"===s.look?2*X:X,ti=b.height+tr,tn=ti/2,ta=tn/(2.5+ti/50),to=b.width+ta+tr,{cssStyles:ts}=s;if("handDrawn"===s.look){let o=B.svg(g),p=tA(0,0,to,ti,ta,tn),f=tB(0,0,to,ti,ta,tn),m=o.path(p,th(s,{})),b=o.path(f,th(s,{fill:"none"}));c=g.insert(()=>b,":first-child"),(c=g.insert(()=>m,":first-child")).attr("class","basic label-container"),ts&&c.attr("style",ts)}else{let o=tM(0,0,to,ti,ta,tn);(c=g.insert("path",":first-child").attr("d",o).attr("class","basic label-container").attr("style",(0,m.R7)(ts)).attr("style",f)).attr("class","basic label-container"),ts&&c.selectAll("path").attr("style",ts),f&&c.selectAll("path").attr("style",f)}return c.attr("label-offset-x",ta),c.attr("transform",`translate(${-to/2}, ${ti/2} )`),k.attr("transform",`translate(${-(b.width/2)-ta-(b.x-(b.left??0))}, ${-(b.height/2)-(b.y-(b.top??0))})`),J(s,c),s.intersect=function(o){let c=t_.rect(s,o),p=c.y-(s.y??0);if(0!=tn&&(Math.abs(p)<(s.height??0)/2||Math.abs(p)==(s.height??0)/2&&Math.abs(c.x-(s.x??0))>(s.width??0)/2-ta)){let f=ta*ta*(1-p*p/(tn*tn));0!=f&&(f=Math.sqrt(f)),f=ta-f,o.x-(s.x??0)>0&&(f=-f),c.x+=f}return c},g}async function trapezoid(o,s){let c;let{labelStyles:p,nodeStyles:f}=tl(s);s.labelStyle=p;let{shapeSvg:g,bbox:m}=await L(o,s,te(s)),b=m.width+s.padding,k=m.height+s.padding,X=[{x:-3*k/6,y:0},{x:b+3*k/6,y:0},{x:b,y:-k},{x:0,y:-k}],{cssStyles:tr}=s;if("handDrawn"===s.look){let o=B.svg(g),p=th(s,{}),f=createPathFromPoints(X),m=o.path(f,p);c=g.insert(()=>m,":first-child").attr("transform",`translate(${-b/2}, ${k/2})`),tr&&c.attr("style",tr)}else c=insertPolygonShape(g,b,k,X);return f&&c.attr("style",f),s.width=b,s.height=k,J(s,c),s.intersect=function(o){return t_.polygon(s,X,o)},g}async function trapezoidalPentagon(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g}=await L(o,s,te(s)),m=Math.max(60,g.width+(s.padding??0)*2,s?.width??0),b=Math.max(20,g.height+(s.padding??0)*2,s?.height??0),{cssStyles:k}=s,X=B.svg(f),tr=th(s,{});"handDrawn"!==s.look&&(tr.roughness=0,tr.fillStyle="solid");let ti=[{x:-m/2*.8,y:-b/2},{x:m/2*.8,y:-b/2},{x:m/2,y:-b/2*.6},{x:m/2,y:b/2},{x:-m/2,y:b/2},{x:-m/2,y:-b/2*.6}],tn=createPathFromPoints(ti),ta=X.path(tn,tr),to=f.insert(()=>ta,":first-child");return to.attr("class","basic label-container"),k&&"handDrawn"!==s.look&&to.selectChildren("path").attr("style",k),p&&"handDrawn"!==s.look&&to.selectChildren("path").attr("style",p),J(s,to),s.intersect=function(o){let c=t_.polygon(s,ti,o);return c},f}async function triangle(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),k=(0,b.ku)(b.nV().flowchart?.htmlLabels),X=g.width+(s.padding??0),tr=X+g.height,ti=X+g.height,tn=[{x:0,y:0},{x:ti,y:0},{x:ti/2,y:-tr}],{cssStyles:ta}=s,to=B.svg(f),ts=th(s,{});"handDrawn"!==s.look&&(ts.roughness=0,ts.fillStyle="solid");let tc=createPathFromPoints(tn),tu=to.path(tc,ts),td=f.insert(()=>tu,":first-child").attr("transform",`translate(${-tr/2}, ${tr/2})`);return ta&&"handDrawn"!==s.look&&td.selectChildren("path").attr("style",ta),p&&"handDrawn"!==s.look&&td.selectChildren("path").attr("style",p),s.width=X,s.height=tr,J(s,td),m.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))}, ${tr/2-(g.height+(s.padding??0)/(k?2:1)-(g.y-(g.top??0)))})`),s.intersect=function(o){return b.cM.info("Triangle intersect",s,tn,o),t_.polygon(s,tn,o)},f}async function waveEdgedRectangle(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=Math.max(g.width+(s.padding??0)*2,s?.width??0),k=Math.max(g.height+(s.padding??0)*2,s?.height??0),X=k/8,tr=k+X,{cssStyles:ti}=s,tn=70-b,ta=tn>0?tn/2:0,to=B.svg(f),ts=th(s,{});"handDrawn"!==s.look&&(ts.roughness=0,ts.fillStyle="solid");let tc=[{x:-b/2-ta,y:tr/2},...generateFullSineWavePoints(-b/2-ta,tr/2,b/2+ta,tr/2,X,.8),{x:b/2+ta,y:-tr/2},{x:-b/2-ta,y:-tr/2}],tu=createPathFromPoints(tc),td=to.path(tu,ts),tp=f.insert(()=>td,":first-child");return tp.attr("class","basic label-container"),ti&&"handDrawn"!==s.look&&tp.selectAll("path").attr("style",ti),p&&"handDrawn"!==s.look&&tp.selectAll("path").attr("style",p),tp.attr("transform",`translate(0,${-X/2})`),m.attr("transform",`translate(${-b/2+(s.padding??0)-(g.x-(g.left??0))},${-k/2+(s.padding??0)-X-(g.y-(g.top??0))})`),J(s,tp),s.intersect=function(o){let c=t_.polygon(s,tc,o);return c},f}async function waveRectangle(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g}=await L(o,s,te(s)),m=Math.max(g.width+(s.padding??0)*2,s?.width??0),b=Math.max(g.height+(s.padding??0)*2,s?.height??0),k=m/b,X=m,tr=b;X>tr*k?tr=X/k:X=tr*k,X=Math.max(X,100),tr=Math.max(tr,50);let ti=Math.min(.2*tr,tr/4),tn=tr+2*ti,{cssStyles:ta}=s,to=B.svg(f),ts=th(s,{});"handDrawn"!==s.look&&(ts.roughness=0,ts.fillStyle="solid");let tc=[{x:-X/2,y:tn/2},...generateFullSineWavePoints(-X/2,tn/2,X/2,tn/2,ti,1),{x:X/2,y:-tn/2},...generateFullSineWavePoints(X/2,-tn/2,-X/2,-tn/2,ti,-1)],tu=createPathFromPoints(tc),td=to.path(tu,ts),tp=f.insert(()=>td,":first-child");return tp.attr("class","basic label-container"),ta&&"handDrawn"!==s.look&&tp.selectAll("path").attr("style",ta),p&&"handDrawn"!==s.look&&tp.selectAll("path").attr("style",p),J(s,tp),s.intersect=function(o){let c=t_.polygon(s,tc,o);return c},f}async function windowPane(o,s){let{labelStyles:c,nodeStyles:p}=tl(s);s.labelStyle=c;let{shapeSvg:f,bbox:g,label:m}=await L(o,s,te(s)),b=Math.max(g.width+(s.padding??0)*2,s?.width??0),k=Math.max(g.height+(s.padding??0)*2,s?.height??0),X=-b/2,tr=-k/2,{cssStyles:ti}=s,tn=B.svg(f),ta=th(s,{}),to=[{x:X-5,y:tr-5},{x:X-5,y:tr+k},{x:X+b,y:tr+k},{x:X+b,y:tr-5}],ts=`M${X-5},${tr-5} L${X+b},${tr-5} L${X+b},${tr+k} L${X-5},${tr+k} L${X-5},${tr-5}
                M${X-5},${tr} L${X+b},${tr}
                M${X},${tr-5} L${X},${tr+k}`;"handDrawn"!==s.look&&(ta.roughness=0,ta.fillStyle="solid");let tc=tn.path(ts,ta),tu=f.insert(()=>tc,":first-child");return tu.attr("transform","translate(2.5, 2.5)"),tu.attr("class","basic label-container"),ti&&"handDrawn"!==s.look&&tu.selectAll("path").attr("style",ti),p&&"handDrawn"!==s.look&&tu.selectAll("path").attr("style",p),m.attr("transform",`translate(${-(g.width/2)+2.5-(g.x-(g.left??0))}, ${-(g.height/2)+2.5-(g.y-(g.top??0))})`),J(s,tu),s.intersect=function(o){let c=t_.polygon(s,to,o);return c},f}async function textHelper(o,s,c,p,f=c.class.padding??12){let g=p?0:3,m=o.insert("g").attr("class",te(s)).attr("id",s.domId||s.id),b=null,k=null,B=null,L=null,X=0,J=0,tr=0;if(b=m.insert("g").attr("class","annotation-group text"),s.annotations.length>0){let o=s.annotations[0];await addText(b,{text:`\xab${o}\xbb`},0);let c=b.node().getBBox();X=c.height}k=m.insert("g").attr("class","label-group text"),await addText(k,s,0,["font-weight: bolder"]);let ti=k.node().getBBox();J=ti.height,B=m.insert("g").attr("class","members-group text");let tn=0;for(let o of s.members){let s=await addText(B,o,tn,[o.parseClassifier()]);tn+=s+g}(tr=B.node().getBBox().height)<=0&&(tr=f/2),L=m.insert("g").attr("class","methods-group text");let ta=0;for(let o of s.methods){let s=await addText(L,o,ta,[o.parseClassifier()]);ta+=s+g}if(m.node().getBBox(),null!==b){let o=b.node().getBBox();b.attr("transform",`translate(${-o.width/2})`)}return k.attr("transform",`translate(${-ti.width/2}, ${X})`),m.node().getBBox(),B.attr("transform",`translate(0, ${X+J+2*f})`),m.node().getBBox(),L.attr("transform",`translate(0, ${X+J+(tr?tr+4*f:2*f)})`),{shapeSvg:m,bbox:m.node().getBBox()}}async function addText(o,s,c,p=[]){let f;let B=o.insert("g").attr("class","label").attr("style",p.join("; ")),L=(0,b.iE)(),X="useHtmlLabels"in s?s.useHtmlLabels:(0,b.ku)(L.htmlLabels)??!0,J="";J="text"in s?s.text:s.label,!X&&J.startsWith("\\")&&(J=J.substring(1)),(0,b.l0)(J)&&(X=!0);let te=await (0,g.rw)(B,(0,b.uX)((0,m.SH)(J)),{width:(0,m.Cq)(J,L)+50,classes:"markdown-node-label",useHtmlLabels:X},L),tr=1;if(X){let o=te.children[0],s=(0,k.Ys)(te);tr=o.innerHTML.split("<br>").length,o.innerHTML.includes("</math>")&&(tr+=o.innerHTML.split("<mrow>").length-1);let c=o.getElementsByTagName("img");if(c){let o=""===J.replace(/<img[^>]*>/g,"").trim();await Promise.all([...c].map(s=>new Promise(c=>{function setupImage(){if(s.style.display="flex",s.style.flexDirection="column",o){let o=L.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,c=5*parseInt(o,10)+"px";s.style.minWidth=c,s.style.maxWidth=c}else s.style.width="100%";c(s)}(0,b.eW)(setupImage,"setupImage"),setTimeout(()=>{s.complete&&setupImage()}),s.addEventListener("error",setupImage),s.addEventListener("load",setupImage)})))}f=o.getBoundingClientRect(),s.attr("width",f.width),s.attr("height",f.height)}else{p.includes("font-weight: bolder")&&(0,k.Ys)(te).selectAll("tspan").attr("font-weight",""),tr=te.children.length;let o=te.children[0];if(""===te.textContent||te.textContent.includes("&gt")){o.textContent=J[0]+J.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim();let s=" "===J[1];s&&(o.textContent=o.textContent[0]+" "+o.textContent.substring(1))}"undefined"===o.textContent&&(o.textContent=""),f=te.getBBox()}return B.attr("transform","translate(0,"+(-f.height/(2*tr)+c)+")"),f.height}async function classBox(o,s){let c=(0,b.nV)(),p=c.class.padding??12,f=s.useHtmlLabels??(0,b.ku)(c.htmlLabels)??!0;s.annotations=s.annotations??[],s.members=s.members??[],s.methods=s.methods??[];let{shapeSvg:g,bbox:m}=await textHelper(o,s,c,f,p),{labelStyles:L,nodeStyles:X}=tl(s);s.labelStyle=L,s.cssStyles=s.styles||"";let te=s.styles?.join(";")||X||"";s.cssStyles||(s.cssStyles=te.replaceAll("!important","").split(";"));let tr=0===s.members.length&&0===s.methods.length&&!c.class?.hideEmptyMembersBox,ti=B.svg(g),tn=th(s,{});"handDrawn"!==s.look&&(tn.roughness=0,tn.fillStyle="solid");let ta=m.width,to=m.height;0===s.members.length&&0===s.methods.length?to+=p:s.members.length>0&&0===s.methods.length&&(to+=2*p);let ts=-ta/2,tc=-to/2,tu=ti.rectangle(ts-p,tc-p-(tr?p:0===s.members.length&&0===s.methods.length?-p/2:0),ta+2*p,to+2*p+(tr?2*p:0===s.members.length&&0===s.methods.length?-p:0),tn),td=g.insert(()=>tu,":first-child");td.attr("class","basic label-container");let tp=td.node().getBBox();g.selectAll(".text").each((o,c,m)=>{let b=(0,k.Ys)(m[c]),B=b.attr("transform"),L=0;if(B){let o=RegExp(/translate\(([^,]+),([^)]+)\)/),s=o.exec(B);s&&(L=parseFloat(s[2]))}let X=L+tc+p-(tr?p:0===s.members.length&&0===s.methods.length?-p/2:0);f||(X-=4);let J=ts;(b.attr("class").includes("label-group")||b.attr("class").includes("annotation-group"))&&(J=-b.node()?.getBBox().width/2||0,g.selectAll("text").each(function(o,s,c){"middle"===window.getComputedStyle(c[s]).textAnchor&&(J=0)})),b.attr("transform",`translate(${J}, ${X})`)});let tf=g.select(".annotation-group").node().getBBox().height-(tr?p/2:0)||0,tg=g.select(".label-group").node().getBBox().height-(tr?p/2:0)||0,tm=g.select(".members-group").node().getBBox().height-(tr?p/2:0)||0;if(s.members.length>0||s.methods.length>0||tr){let o=ti.line(tp.x,tf+tg+tc+p,tp.x+tp.width,tf+tg+tc+p,tn),s=g.insert(()=>o);s.attr("class","divider").attr("style",te)}if(tr||s.members.length>0||s.methods.length>0){let o=ti.line(tp.x,tf+tg+tm+tc+2*p+p,tp.x+tp.width,tf+tg+tm+tc+p+2*p,tn),s=g.insert(()=>o);s.attr("class","divider").attr("style",te)}if("handDrawn"!==s.look&&g.selectAll("path").attr("style",te),td.select(":nth-child(2)").attr("style",te),g.selectAll(".divider").select("path").attr("style",te),s.labelStyle?g.selectAll("span").attr("style",s.labelStyle):g.selectAll("span").attr("style",te),!f){let o=RegExp(/color\s*:\s*([^;]*)/),s=o.exec(te);if(s){let o=s[0].replace("color","fill");g.selectAll("tspan").attr("style",o)}else if(L){let s=o.exec(L);if(s){let o=s[0].replace("color","fill");g.selectAll("tspan").attr("style",o)}}}return J(s,td),s.intersect=function(o){return t_.rect(s,o)},g}(0,b.eW)(tiltedCylinder,"tiltedCylinder"),(0,b.eW)(trapezoid,"trapezoid"),(0,b.eW)(trapezoidalPentagon,"trapezoidalPentagon"),(0,b.eW)(triangle,"triangle"),(0,b.eW)(waveEdgedRectangle,"waveEdgedRectangle"),(0,b.eW)(waveRectangle,"waveRectangle"),(0,b.eW)(windowPane,"windowPane"),(0,b.eW)(textHelper,"textHelper"),(0,b.eW)(addText,"addText"),(0,b.eW)(classBox,"classBox");var tL=(0,b.eW)(o=>{switch(o){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function kanbanItem(o,s,{config:c}){let p,f,g,m;let{labelStyles:b,nodeStyles:k}=tl(s);s.labelStyle=b||"";let tr=s.width;s.width=(s.width??200)-10;let{shapeSvg:ti,bbox:ta,label:to}=await L(o,s,te(s)),ts=s.padding||10,tc="";"ticket"in s&&s.ticket&&c?.kanban?.ticketBaseUrl&&(tc=c?.kanban?.ticketBaseUrl.replace("#TICKET#",s.ticket),p=ti.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",tc).attr("target","_blank"));let tu={useHtmlLabels:s.useHtmlLabels,labelStyle:s.labelStyle||"",width:s.width,img:s.img,padding:s.padding||8,centerLabel:!1};p?{label:f,bbox:g}=await X(p,"ticket"in s&&s.ticket||"",tu):{label:f,bbox:g}=await X(ti,"ticket"in s&&s.ticket||"",tu);let{label:td,bbox:tp}=await X(ti,"assigned"in s&&s.assigned||"",tu);s.width=tr;let tf=s?.width||0,tg=Math.max(g.height,tp.height)/2,tm=Math.max(ta.height+20,s?.height||0)+tg,ty=-tf/2,tx=-tm/2;to.attr("transform","translate("+(ts-tf/2)+", "+(-tg-ta.height/2)+")"),f.attr("transform","translate("+(ts-tf/2)+", "+(-tg+ta.height/2)+")"),td.attr("transform","translate("+(ts+tf/2-tp.width-20)+", "+(-tg+ta.height/2)+")");let{rx:tb,ry:tC}=s,{cssStyles:tk}=s;if("handDrawn"===s.look){let o=B.svg(ti),c=th(s,{}),p=tb||tC?o.path(tn(ty,tx,tf,tm,tb||0),c):o.rectangle(ty,tx,tf,tm,c);(m=ti.insert(()=>p,":first-child")).attr("class","basic label-container").attr("style",tk||null)}else{(m=ti.insert("rect",":first-child")).attr("class","basic label-container __APA__").attr("style",k).attr("rx",tb??5).attr("ry",tC??5).attr("x",ty).attr("y",tx).attr("width",tf).attr("height",tm);let o="priority"in s&&s.priority;if(o){let s=ti.append("line"),c=ty+2,p=tx+Math.floor((tb??0)/2),f=tx+tm-Math.floor((tb??0)/2);s.attr("x1",c).attr("y1",p).attr("x2",c).attr("y2",f).attr("stroke-width","4").attr("stroke",tL(o))}}return J(s,m),s.height=tm,s.intersect=function(o){return t_.rect(s,o)},ti}(0,b.eW)(kanbanItem,"kanbanItem");var tF=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:squareRect2},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:roundedRect},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:stadium},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:subroutine},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:cylinder},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:circle},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:question},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:hexagon},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:lean_right},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:lean_left},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:trapezoid},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:inv_trapezoid},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:doublecircle},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:text},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:card},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:shadedProcess},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:stateStart},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:stateEnd},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:forkJoin},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:hourglass},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:curlyBraceLeft},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:curlyBraceRight},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:curlyBraces},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:lightningBolt},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:waveEdgedRectangle},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:halfRoundedRectangle},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:tiltedCylinder},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:linedCylinder},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:curvedTrapezoid},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:dividedRectangle},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:triangle},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:windowPane},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:filledCircle},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:trapezoidalPentagon},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:flippedTriangle},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:slopedRect},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:multiWaveEdgedRectangle},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:multiRect},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:bowTieRect},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:crossedCircle},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:taggedWaveEdgedRectangle},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:taggedRect},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:waveRectangle},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:rect_left_inv_arrow},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:linedWaveEdgedRect}],tE=(0,b.eW)(()=>{let o=[...Object.entries({state,choice,note,rectWithTitle,labelRect,iconSquare,iconCircle,icon,iconRounded,imageSquare,anchor,kanbanItem,classBox}),...tF.flatMap(o=>{let s=[o.shortName,..."aliases"in o?o.aliases:[],..."internalAliases"in o?o.internalAliases:[]];return s.map(s=>[s,o.handler])})];return Object.fromEntries(o)},"generateShapeMap")();function isValidShape(o){return o in tE}(0,b.eW)(isValidShape,"isValidShape");var tW=new Map;async function insertNode(o,s,c){let p,f;"rect"===s.shape&&(s.rx&&s.ry?s.shape="roundedRect":s.shape="squareRect");let g=s.shape?tE[s.shape]:void 0;if(!g)throw Error(`No such shape: ${s.shape}. Please check your syntax.`);if(s.link){let m;"sandbox"===c.config.securityLevel?m="_top":s.linkTarget&&(m=s.linkTarget||"_blank"),p=o.insert("svg:a").attr("xlink:href",s.link).attr("target",m??null),f=await g(p,s,c)}else p=f=await g(o,s,c);return s.tooltip&&f.attr("title",s.tooltip),tW.set(s.id,p),s.haveCallback&&p.attr("class",p.attr("class")+" clickable"),p}(0,b.eW)(insertNode,"insertNode");var t$=(0,b.eW)((o,s)=>{tW.set(s.id,o)},"setNodeElem"),tP=(0,b.eW)(()=>{tW.clear()},"clear"),tD=(0,b.eW)(o=>{let s=tW.get(o.id);b.cM.trace("Transforming node",o.diff,o,"translate("+(o.x-o.width/2-5)+", "+o.width/2+")");let c=o.diff||0;return o.clusterNode?s.attr("transform","translate("+(o.x+c-o.width/2)+", "+(o.y-o.height/2-8)+")"):s.attr("transform","translate("+o.x+", "+o.y+")"),c},"positionNode")},5968:(o,s,c)=>{"use strict";c.d(s,{$m:()=>B,Cq:()=>calculateTextWidth,Ln:()=>tw,MX:()=>tc,Ox:()=>th,R7:()=>handleUndefinedAttr,Rb:()=>cleanAndMerge,SH:()=>tk,VG:()=>tx,Vy:()=>tC,X4:()=>tp,XD:()=>calculateTextHeight,bZ:()=>isDetailedError,be:()=>getStylesFromArray,le:()=>interpolateToCurve,tf:()=>tr,w8:()=>tb});var p,f=c(8554),g=c(560),m=c(4665),b=c(9332),k=c(1263),B="​",L={curveBasis:m.$0Z,curveBasisClosed:m.Dts,curveBasisOpen:m.WQY,curveBumpX:m.qpX,curveBumpY:m.u93,curveBundle:m.tFB,curveCardinalClosed:m.OvA,curveCardinalOpen:m.dCK,curveCardinal:m.YY7,curveCatmullRomClosed:m.fGX,curveCatmullRomOpen:m.$m7,curveCatmullRom:m.zgE,curveLinear:m.c_6,curveLinearClosed:m.fxm,curveMonotoneX:m.FdL,curveMonotoneY:m.ak_,curveNatural:m.SxZ,curveStep:m.eA_,curveStepAfter:m.jsv,curveStepBefore:m.iJ},X=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,J=(0,f.eW)(function(o,s){let c=te(o,/(?:init\b)|(?:initialize\b)/),p={};if(Array.isArray(c)){let o=c.map(o=>o.args);(0,f.NM)(o),p=(0,f.Yc)(p,[...o])}else p=c.args;if(!p)return;let g=(0,f.Vg)(o,s),m="config";return void 0!==p[m]&&("flowchart-v2"===g&&(g="flowchart"),p[g]=p[m],delete p[m]),p},"detectInit"),te=(0,f.eW)(function(o,s=null){try{let c;let p=RegExp(`[%]{2}(?![{]${X.source})(?=[}][%]{2}).*
`,"ig");o=o.trim().replace(p,"").replace(/'/gm,'"'),f.cM.debug(`Detecting diagram directive${null!==s?" type:"+s:""} based on the text:${o}`);let g=[];for(;null!==(c=f.Zn.exec(o));)if(c.index===f.Zn.lastIndex&&f.Zn.lastIndex++,c&&!s||s&&c[1]?.match(s)||s&&c[2]?.match(s)){let o=c[1]?c[1]:c[2],s=c[3]?c[3].trim():c[4]?JSON.parse(c[4].trim()):null;g.push({type:o,args:s})}if(0===g.length)return{type:o,args:null};return 1===g.length?g[0]:g}catch(c){return f.cM.error(`ERROR: ${c.message} - Unable to parse directive type: '${s}' based on the text: '${o}'`),{type:void 0,args:null}}},"detectDirective"),tr=(0,f.eW)(function(o){return o.replace(f.Zn,"")},"removeDirectives"),ti=(0,f.eW)(function(o,s){for(let[c,p]of s.entries())if(p.match(o))return c;return -1},"isSubstringInArray");function interpolateToCurve(o,s){if(!o)return s;let c=`curve${o.charAt(0).toUpperCase()+o.slice(1)}`;return L[c]??s}function formatUrl(o,s){let c=o.trim();return c?"loose"!==s.securityLevel?(0,g.N)(c):c:void 0}(0,f.eW)(interpolateToCurve,"interpolateToCurve"),(0,f.eW)(formatUrl,"formatUrl");var tn=(0,f.eW)((o,...s)=>{let c=o.split("."),p=c.length-1,g=c[p],m=window;for(let s=0;s<p;s++)if(!(m=m[c[s]])){f.cM.error(`Function name: ${o} not found in window`);return}m[g](...s)},"runFunc");function distance(o,s){return o&&s?Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2)):0}function traverseEdge(o){let s;let c=0;o.forEach(o=>{c+=distance(o,s),s=o});let p=c/2;return to(o,p)}function calcLabelPosition(o){return 1===o.length?o[0]:traverseEdge(o)}(0,f.eW)(distance,"distance"),(0,f.eW)(traverseEdge,"traverseEdge"),(0,f.eW)(calcLabelPosition,"calcLabelPosition");var ta=(0,f.eW)((o,s=2)=>{let c=Math.pow(10,s);return Math.round(o*c)/c},"roundNumber"),to=(0,f.eW)((o,s)=>{let c;let p=s;for(let s of o){if(c){let o=distance(s,c);if(o<p)p-=o;else{let f=p/o;if(f<=0)return c;if(f>=1)return{x:s.x,y:s.y};if(f>0&&f<1)return{x:ta((1-f)*c.x+f*s.x,5),y:ta((1-f)*c.y+f*s.y,5)}}}c=s}throw Error("Could not find a suitable point for the given distance")},"calculatePoint"),ts=(0,f.eW)((o,s,c)=>{f.cM.info(`our points ${JSON.stringify(s)}`),s[0]!==c&&(s=s.reverse());let p=to(s,25),g=o?10:5,m=Math.atan2(s[0].y-p.y,s[0].x-p.x),b={x:0,y:0};return b.x=Math.sin(m)*g+(s[0].x+p.x)/2,b.y=-Math.cos(m)*g+(s[0].y+p.y)/2,b},"calcCardinalityPosition");function calcTerminalLabelPosition(o,s,c){let p=structuredClone(c);f.cM.info("our points",p),"start_left"!==s&&"start_right"!==s&&p.reverse();let g=to(p,25+o),m=10+.5*o,b=Math.atan2(p[0].y-g.y,p[0].x-g.x),k={x:0,y:0};return"start_left"===s?(k.x=Math.sin(b+Math.PI)*m+(p[0].x+g.x)/2,k.y=-Math.cos(b+Math.PI)*m+(p[0].y+g.y)/2):"end_right"===s?(k.x=Math.sin(b-Math.PI)*m+(p[0].x+g.x)/2-5,k.y=-Math.cos(b-Math.PI)*m+(p[0].y+g.y)/2-5):"end_left"===s?(k.x=Math.sin(b)*m+(p[0].x+g.x)/2-5,k.y=-Math.cos(b)*m+(p[0].y+g.y)/2-5):(k.x=Math.sin(b)*m+(p[0].x+g.x)/2,k.y=-Math.cos(b)*m+(p[0].y+g.y)/2),k}function getStylesFromArray(o){let s="",c="";for(let p of o)void 0!==p&&(p.startsWith("color:")||p.startsWith("text-align:")?c=c+p+";":s=s+p+";");return{style:s,labelStyle:c}}(0,f.eW)(calcTerminalLabelPosition,"calcTerminalLabelPosition"),(0,f.eW)(getStylesFromArray,"getStylesFromArray");var tl=0,th=(0,f.eW)(()=>(tl++,"id-"+Math.random().toString(36).substr(2,12)+"-"+tl),"generateId");function makeRandomHex(o){let s="",c="0123456789abcdef",p=c.length;for(let f=0;f<o;f++)s+=c.charAt(Math.floor(Math.random()*p));return s}(0,f.eW)(makeRandomHex,"makeRandomHex");var tc=(0,f.eW)(o=>makeRandomHex(o.length),"random"),tu=(0,f.eW)(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),td=(0,f.eW)(function(o,s){let c=s.text.replace(f.SY.lineBreakRegex," "),[,p]=tx(s.fontSize),g=o.append("text");g.attr("x",s.x),g.attr("y",s.y),g.style("text-anchor",s.anchor),g.style("font-family",s.fontFamily),g.style("font-size",p),g.style("font-weight",s.fontWeight),g.attr("fill",s.fill),void 0!==s.class&&g.attr("class",s.class);let m=g.append("tspan");return m.attr("x",s.x+2*s.textMargin),m.attr("fill",s.fill),m.text(c),g},"drawSimpleText"),tp=(0,b.Z)((o,s,c)=>{if(!o||(c=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},c),f.SY.lineBreakRegex.test(o)))return o;let p=o.split(" ").filter(Boolean),g=[],m="";return p.forEach((o,f)=>{let b=calculateTextWidth(`${o} `,c),k=calculateTextWidth(m,c);if(b>s){let{hyphenatedStrings:p,remainingWord:f}=tf(o,s,"-",c);g.push(m,...p),m=f}else k+b>=s?(g.push(m),m=o):m=[m,o].filter(Boolean).join(" ");let B=f+1===p.length;B&&g.push(m)}),g.filter(o=>""!==o).join(c.joinWith)},(o,s,c)=>`${o}${s}${c.fontSize}${c.fontWeight}${c.fontFamily}${c.joinWith}`),tf=(0,b.Z)((o,s,c="-",p)=>{p=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},p);let f=[...o],g=[],m="";return f.forEach((o,b)=>{let k=`${m}${o}`,B=calculateTextWidth(k,p);if(B>=s){let o=f.length===b+1,s=`${k}${c}`;g.push(o?k:s),m=""}else m=k}),{hyphenatedStrings:g,remainingWord:m}},(o,s,c="-",p)=>`${o}${s}${c}${p.fontSize}${p.fontWeight}${p.fontFamily}`);function calculateTextHeight(o,s){return tg(o,s).height}function calculateTextWidth(o,s){return tg(o,s).width}(0,f.eW)(calculateTextHeight,"calculateTextHeight"),(0,f.eW)(calculateTextWidth,"calculateTextWidth");var tg=(0,b.Z)((o,s)=>{let{fontSize:c=12,fontFamily:p="Arial",fontWeight:g=400}=s;if(!o)return{width:0,height:0};let[,b]=tx(c),k=o.split(f.SY.lineBreakRegex),L=[],X=(0,m.Ys)("body");if(!X.remove)return{width:0,height:0,lineHeight:0};let J=X.append("svg");for(let o of["sans-serif",p]){let s=0,c={width:0,height:0,lineHeight:0};for(let p of k){let f=tu();f.text=p||B;let m=td(J,f).style("font-size",b).style("font-weight",g).style("font-family",o),k=(m._groups||m)[0][0].getBBox();if(0===k.width&&0===k.height)throw Error("svg element not in render tree");c.width=Math.round(Math.max(c.width,k.width)),s=Math.round(k.height),c.height+=s,c.lineHeight=Math.round(Math.max(c.lineHeight,s))}L.push(c)}J.remove();let te=isNaN(L[1].height)||isNaN(L[1].width)||isNaN(L[1].lineHeight)||L[0].height>L[1].height&&L[0].width>L[1].width&&L[0].lineHeight>L[1].lineHeight?0:1;return L[te]},(o,s)=>`${o}${s.fontSize}${s.fontWeight}${s.fontFamily}`),tm=class{constructor(o=!1,s){this.count=0,this.count=s?s.length:0,this.next=o?()=>this.count++:()=>Date.now()}static{(0,f.eW)(this,"InitIDGenerator")}},ty=(0,f.eW)(function(o){return p=p||document.createElement("div"),o=escape(o).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),p.innerHTML=o,unescape(p.textContent)},"entityDecode");function isDetailedError(o){return"str"in o}(0,f.eW)(isDetailedError,"isDetailedError");var t_=(0,f.eW)((o,s,c,p)=>{if(!p)return;let f=o.node()?.getBBox();f&&o.append("text").text(p).attr("text-anchor","middle").attr("x",f.x+f.width/2).attr("y",-c).attr("class",s)},"insertTitle"),tx=(0,f.eW)(o=>{if("number"==typeof o)return[o,o+"px"];let s=parseInt(o??"",10);return Number.isNaN(s)?[void 0,void 0]:o===String(s)?[s,o+"px"]:[s,o]},"parseFontSize");function cleanAndMerge(o,s){return(0,k.Z)({},o,s)}(0,f.eW)(cleanAndMerge,"cleanAndMerge");var tb={assignWithDepth:f.Yc,wrapLabel:tp,calculateTextHeight,calculateTextWidth,calculateTextDimensions:tg,cleanAndMerge,detectInit:J,detectDirective:te,isSubstringInArray:ti,interpolateToCurve,calcLabelPosition,calcCardinalityPosition:ts,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId:th,random:tc,runFunc:tn,entityDecode:ty,insertTitle:t_,parseFontSize:tx,InitIDGenerator:tm},tC=(0,f.eW)(function(o){let s=o;return(s=(s=s.replace(/style.*:\S*#.*;/g,function(o){return o.substring(0,o.length-1)})).replace(/classDef.*:\S*#.*;/g,function(o){return o.substring(0,o.length-1)})).replace(/#\w+;/g,function(o){let s=o.substring(1,o.length-1),c=/^\+?\d+$/.test(s);return c?"ﬂ\xb0\xb0"+s+"\xb6\xdf":"ﬂ\xb0"+s+"\xb6\xdf"})},"encodeEntities"),tk=(0,f.eW)(function(o){return o.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),tw=(0,f.eW)((o,s,{counter:c=0,prefix:p,suffix:f})=>`${p?`${p}_`:""}${o}_${s}_${c}${f?`_${f}`:""}`,"getEdgeId");function handleUndefinedAttr(o){return o??null}(0,f.eW)(handleUndefinedAttr,"handleUndefinedAttr")},8554:(o,s,c)=>{"use strict";c.d(s,{cj:()=>tl,r2:()=>__export,eW:()=>__name,XV:()=>tV,Yc:()=>tg,nH:()=>ed,ZH:()=>eA,LJ:()=>ew,SY:()=>ef,v2:()=>ey,u_:()=>tD,Fy:()=>eO,vZ:()=>tW,Vg:()=>tc,Bf:()=>th,Zn:()=>to,ku:()=>er,M6:()=>ta,Mx:()=>eE,eu:()=>eL,iE:()=>tU,nV:()=>eP,_7:()=>eZ,cq:()=>tp,Kr:()=>e$,ZD:()=>tq,xN:()=>tv,l0:()=>eu,Vw:()=>t0,cM:()=>tr,UO:()=>ea,Cq:()=>ez,KO:()=>tu,uT:()=>ep,mc:()=>tX,NM:()=>t$,oO:()=>t4,uX:()=>eR,dY:()=>tz,U$:()=>eF,GN:()=>eB,v6:()=>tY,Y4:()=>eD,g2:()=>eW,Ub:()=>ti,Yn:()=>tj,j7:()=>e_,Rw:()=>eI,Ee:()=>ek,_j:()=>tA,Tb:()=>tZ});var p,f=c(6483),g=c(3660),m=c(3338);let methods_adjust=(o,s)=>{let c=g.Z.parse(o),p={};for(let o in s)s[o]&&(p[o]=c[o]+s[o]);return(0,m.Z)(o,p)};var b=c(8139);let methods_mix=(o,s,c=50)=>{let{r:p,g:f,b:m,a:k}=g.Z.parse(o),{r:B,g:L,b:X,a:J}=g.Z.parse(s),te=c/100,tr=2*te-1,ti=k-J,tn=((tr*ti==-1?tr:(tr+ti)/(1+tr*ti))+1)/2,ta=1-tn;return(0,b.Z)(p*tn+B*ta,f*tn+L*ta,m*tn+X*ta,k*te+J*(1-te))},methods_invert=(o,s=100)=>{let c=g.Z.parse(o);return c.r=255-c.r,c.g=255-c.g,c.b=255-c.b,methods_mix(c,o,s)};var k=c(3596),B=c(5680),L=c(3723),X=c(3035),J=Object.defineProperty,__name=(o,s)=>J(o,"name",{value:s,configurable:!0}),__export=(o,s)=>{for(var c in s)J(o,c,{get:s[c],enumerable:!0})},te={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},tr={trace:__name((...o)=>{},"trace"),debug:__name((...o)=>{},"debug"),info:__name((...o)=>{},"info"),warn:__name((...o)=>{},"warn"),error:__name((...o)=>{},"error"),fatal:__name((...o)=>{},"fatal")},ti=__name(function(o="fatal"){let s=te.fatal;"string"==typeof o?o.toLowerCase() in te&&(s=te[o]):"number"==typeof o&&(s=o),tr.trace=()=>{},tr.debug=()=>{},tr.info=()=>{},tr.warn=()=>{},tr.error=()=>{},tr.fatal=()=>{},s<=te.fatal&&(tr.fatal=console.error?console.error.bind(console,tn("FATAL"),"color: orange"):console.log.bind(console,"\x1b[35m",tn("FATAL"))),s<=te.error&&(tr.error=console.error?console.error.bind(console,tn("ERROR"),"color: orange"):console.log.bind(console,"\x1b[31m",tn("ERROR"))),s<=te.warn&&(tr.warn=console.warn?console.warn.bind(console,tn("WARN"),"color: orange"):console.log.bind(console,`\x1b[33m`,tn("WARN"))),s<=te.info&&(tr.info=console.info?console.info.bind(console,tn("INFO"),"color: lightblue"):console.log.bind(console,"\x1b[34m",tn("INFO"))),s<=te.debug&&(tr.debug=console.debug?console.debug.bind(console,tn("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1b[32m",tn("DEBUG"))),s<=te.trace&&(tr.trace=console.debug?console.debug.bind(console,tn("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1b[32m",tn("TRACE")))},"setLogLevel"),tn=__name(o=>{let s=f().format("ss.SSS");return`%c${s} : ${o} : `},"format"),ta=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,to=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,ts=/\s*%%.*\n/gm,tl=class extends Error{static{__name(this,"UnknownDiagramError")}constructor(o){super(o),this.name="UnknownDiagramError"}},th={},tc=__name(function(o,s){for(let[c,{detector:p}]of(o=o.replace(ta,"").replace(to,"").replace(ts,"\n"),Object.entries(th))){let f=p(o,s);if(f)return c}throw new tl(`No diagram type detected matching given configuration for text: ${o}`)},"detectType"),tu=__name((...o)=>{for(let{id:s,detector:c,loader:p}of o)td(s,c,p)},"registerLazyLoadedDiagrams"),td=__name((o,s,c)=>{th[o]&&tr.warn(`Detector with key ${o} already exists. Overwriting.`),th[o]={detector:s,loader:c},tr.debug(`Detector with key ${o} added${c?" with loader":""}`)},"addDetector"),tp=__name(o=>th[o].loader,"getDiagramLoader"),tf=__name((o,s,{depth:c=2,clobber:p=!1}={})=>{let f={depth:c,clobber:p};return Array.isArray(s)&&!Array.isArray(o)?(s.forEach(s=>tf(o,s,f)),o):Array.isArray(s)&&Array.isArray(o)?(s.forEach(s=>{o.includes(s)||o.push(s)}),o):void 0===o||c<=0?null!=o&&"object"==typeof o&&"object"==typeof s?Object.assign(o,s):s:(void 0!==s&&"object"==typeof o&&"object"==typeof s&&Object.keys(s).forEach(f=>{"object"==typeof s[f]&&(void 0===o[f]||"object"==typeof o[f])?(void 0===o[f]&&(o[f]=Array.isArray(s[f])?[]:{}),o[f]=tf(o[f],s[f],{depth:c-1,clobber:p})):(p||"object"!=typeof o[f]&&"object"!=typeof s[f])&&(o[f]=s[f])}),o)},"assignWithDepth"),tg=tf,tm="#ffffff",ty="#f2f2f2",t_=__name((o,s)=>s?methods_adjust(o,{s:-40,l:10}):methods_adjust(o,{s:-40,l:-10}),"mkBorder"),tx=class{static{__name(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||methods_adjust(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||methods_adjust(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||t_(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||t_(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||t_(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||t_(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||methods_invert(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||methods_invert(this.tertiaryColor),this.lineColor=this.lineColor||methods_invert(this.background),this.arrowheadColor=this.arrowheadColor||methods_invert(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?(0,k.Z)(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||(0,k.Z)(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||methods_invert(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||(0,B.Z)(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||methods_adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||methods_adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||methods_adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||methods_adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||methods_adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||methods_adjust(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||methods_adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||methods_adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||methods_adjust(this.primaryColor,{h:330}),this.darkMode)for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScale"+o]=(0,k.Z)(this["cScale"+o],75);else for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScale"+o]=(0,k.Z)(this["cScale"+o],25);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleInv"+o]=this["cScaleInv"+o]||methods_invert(this["cScale"+o]);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this.darkMode?this["cScalePeer"+o]=this["cScalePeer"+o]||(0,B.Z)(this["cScale"+o],10):this["cScalePeer"+o]=this["cScalePeer"+o]||(0,k.Z)(this["cScale"+o],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleLabel"+o]=this["cScaleLabel"+o]||this.scaleLabelColor;let o=this.darkMode?-4:-1;for(let s=0;s<5;s++)this["surface"+s]=this["surface"+s]||methods_adjust(this.mainBkg,{h:180,s:-15,l:o*(5+3*s)}),this["surfacePeer"+s]=this["surfacePeer"+s]||methods_adjust(this.mainBkg,{h:180,s:-15,l:o*(8+3*s)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||methods_adjust(this.primaryColor,{h:64}),this.fillType3=this.fillType3||methods_adjust(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||methods_adjust(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||methods_adjust(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||methods_adjust(this.primaryColor,{h:128}),this.fillType7=this.fillType7||methods_adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||methods_adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||methods_adjust(this.secondaryColor,{l:-10}),this.pie6=this.pie6||methods_adjust(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||methods_adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||methods_adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||methods_adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||methods_adjust(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||methods_adjust(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||methods_adjust(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||methods_adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||methods_adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||methods_adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||methods_adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||methods_adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||methods_adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,L.Z)(this.quadrant1Fill)?(0,B.Z)(this.quadrant1Fill):(0,k.Z)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,k.Z)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||methods_adjust(this.primaryColor,{h:-30}),this.git4=this.git4||methods_adjust(this.primaryColor,{h:-60}),this.git5=this.git5||methods_adjust(this.primaryColor,{h:-90}),this.git6=this.git6||methods_adjust(this.primaryColor,{h:60}),this.git7=this.git7||methods_adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,B.Z)(this.git0,25),this.git1=(0,B.Z)(this.git1,25),this.git2=(0,B.Z)(this.git2,25),this.git3=(0,B.Z)(this.git3,25),this.git4=(0,B.Z)(this.git4,25),this.git5=(0,B.Z)(this.git5,25),this.git6=(0,B.Z)(this.git6,25),this.git7=(0,B.Z)(this.git7,25)):(this.git0=(0,k.Z)(this.git0,25),this.git1=(0,k.Z)(this.git1,25),this.git2=(0,k.Z)(this.git2,25),this.git3=(0,k.Z)(this.git3,25),this.git4=(0,k.Z)(this.git4,25),this.git5=(0,k.Z)(this.git5,25),this.git6=(0,k.Z)(this.git6,25),this.git7=(0,k.Z)(this.git7,25)),this.gitInv0=this.gitInv0||methods_invert(this.git0),this.gitInv1=this.gitInv1||methods_invert(this.git1),this.gitInv2=this.gitInv2||methods_invert(this.git2),this.gitInv3=this.gitInv3||methods_invert(this.git3),this.gitInv4=this.gitInv4||methods_invert(this.git4),this.gitInv5=this.gitInv5||methods_invert(this.git5),this.gitInv6=this.gitInv6||methods_invert(this.git6),this.gitInv7=this.gitInv7||methods_invert(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||tm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ty}calculate(o){if("object"!=typeof o){this.updateColors();return}let s=Object.keys(o);s.forEach(s=>{this[s]=o[s]}),this.updateColors(),s.forEach(s=>{this[s]=o[s]})}},tb=__name(o=>{let s=new tx;return s.calculate(o),s},"getThemeVariables"),tC=class{static{__name(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=(0,B.Z)(this.primaryColor,16),this.tertiaryColor=methods_adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=methods_invert(this.background),this.secondaryBorderColor=t_(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=t_(this.tertiaryColor,this.darkMode),this.primaryTextColor=methods_invert(this.primaryColor),this.secondaryTextColor=methods_invert(this.secondaryColor),this.tertiaryTextColor=methods_invert(this.tertiaryColor),this.lineColor=methods_invert(this.background),this.textColor=methods_invert(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=(0,B.Z)(methods_invert("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=(0,b.Z)(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=(0,k.Z)("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=(0,k.Z)(this.sectionBkgColor,10),this.taskBorderColor=(0,b.Z)(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=(0,b.Z)(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=(0,B.Z)(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=(0,B.Z)(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=(0,B.Z)(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=methods_adjust(this.primaryColor,{h:64}),this.fillType3=methods_adjust(this.secondaryColor,{h:64}),this.fillType4=methods_adjust(this.primaryColor,{h:-64}),this.fillType5=methods_adjust(this.secondaryColor,{h:-64}),this.fillType6=methods_adjust(this.primaryColor,{h:128}),this.fillType7=methods_adjust(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||methods_adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||methods_adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||methods_adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||methods_adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||methods_adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||methods_adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||methods_adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||methods_adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||methods_adjust(this.primaryColor,{h:330});for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleInv"+o]=this["cScaleInv"+o]||methods_invert(this["cScale"+o]);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScalePeer"+o]=this["cScalePeer"+o]||(0,B.Z)(this["cScale"+o],10);for(let o=0;o<5;o++)this["surface"+o]=this["surface"+o]||methods_adjust(this.mainBkg,{h:30,s:-30,l:-(-10+4*o)}),this["surfacePeer"+o]=this["surfacePeer"+o]||methods_adjust(this.mainBkg,{h:30,s:-30,l:-(-7+4*o)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleLabel"+o]=this["cScaleLabel"+o]||this.scaleLabelColor;for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["pie"+o]=this["cScale"+o];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||methods_adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||methods_adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||methods_adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||methods_adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||methods_adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||methods_adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,L.Z)(this.quadrant1Fill)?(0,B.Z)(this.quadrant1Fill):(0,k.Z)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,k.Z)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,B.Z)(this.secondaryColor,20),this.git1=(0,B.Z)(this.pie2||this.secondaryColor,20),this.git2=(0,B.Z)(this.pie3||this.tertiaryColor,20),this.git3=(0,B.Z)(this.pie4||methods_adjust(this.primaryColor,{h:-30}),20),this.git4=(0,B.Z)(this.pie5||methods_adjust(this.primaryColor,{h:-60}),20),this.git5=(0,B.Z)(this.pie6||methods_adjust(this.primaryColor,{h:-90}),10),this.git6=(0,B.Z)(this.pie7||methods_adjust(this.primaryColor,{h:60}),10),this.git7=(0,B.Z)(this.pie8||methods_adjust(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||methods_invert(this.git0),this.gitInv1=this.gitInv1||methods_invert(this.git1),this.gitInv2=this.gitInv2||methods_invert(this.git2),this.gitInv3=this.gitInv3||methods_invert(this.git3),this.gitInv4=this.gitInv4||methods_invert(this.git4),this.gitInv5=this.gitInv5||methods_invert(this.git5),this.gitInv6=this.gitInv6||methods_invert(this.git6),this.gitInv7=this.gitInv7||methods_invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||methods_invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||methods_invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||(0,B.Z)(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||(0,B.Z)(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(o){if("object"!=typeof o){this.updateColors();return}let s=Object.keys(o);s.forEach(s=>{this[s]=o[s]}),this.updateColors(),s.forEach(s=>{this[s]=o[s]})}},tk=__name(o=>{let s=new tC;return s.calculate(o),s},"getThemeVariables"),tw=class{static{__name(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=methods_adjust(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=methods_adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=t_(this.primaryColor,this.darkMode),this.secondaryBorderColor=t_(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=t_(this.tertiaryColor,this.darkMode),this.primaryTextColor=methods_invert(this.primaryColor),this.secondaryTextColor=methods_invert(this.secondaryColor),this.tertiaryTextColor=methods_invert(this.tertiaryColor),this.lineColor=methods_invert(this.background),this.textColor=methods_invert(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=(0,b.Z)(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||methods_adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||methods_adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||methods_adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||methods_adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||methods_adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||methods_adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||methods_adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||methods_adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||methods_adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||(0,k.Z)(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||(0,k.Z)(this.tertiaryColor,40);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScale"+o]=(0,k.Z)(this["cScale"+o],10),this["cScalePeer"+o]=this["cScalePeer"+o]||(0,k.Z)(this["cScale"+o],25);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleInv"+o]=this["cScaleInv"+o]||methods_adjust(this["cScale"+o],{h:180});for(let o=0;o<5;o++)this["surface"+o]=this["surface"+o]||methods_adjust(this.mainBkg,{h:30,l:-(5+5*o)}),this["surfacePeer"+o]=this["surfacePeer"+o]||methods_adjust(this.mainBkg,{h:30,l:-(7+5*o)});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||methods_invert(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||methods_invert(this.labelTextColor);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleLabel"+o]=this["cScaleLabel"+o]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=(0,B.Z)(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=methods_adjust(this.primaryColor,{h:64}),this.fillType3=methods_adjust(this.secondaryColor,{h:64}),this.fillType4=methods_adjust(this.primaryColor,{h:-64}),this.fillType5=methods_adjust(this.secondaryColor,{h:-64}),this.fillType6=methods_adjust(this.primaryColor,{h:128}),this.fillType7=methods_adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||methods_adjust(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||methods_adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||methods_adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||methods_adjust(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||methods_adjust(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||methods_adjust(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||methods_adjust(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||methods_adjust(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||methods_adjust(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||methods_adjust(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||methods_adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||methods_adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||methods_adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||methods_adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||methods_adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||methods_adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,L.Z)(this.quadrant1Fill)?(0,B.Z)(this.quadrant1Fill):(0,k.Z)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||methods_adjust(this.primaryColor,{h:-30}),this.git4=this.git4||methods_adjust(this.primaryColor,{h:-60}),this.git5=this.git5||methods_adjust(this.primaryColor,{h:-90}),this.git6=this.git6||methods_adjust(this.primaryColor,{h:60}),this.git7=this.git7||methods_adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,B.Z)(this.git0,25),this.git1=(0,B.Z)(this.git1,25),this.git2=(0,B.Z)(this.git2,25),this.git3=(0,B.Z)(this.git3,25),this.git4=(0,B.Z)(this.git4,25),this.git5=(0,B.Z)(this.git5,25),this.git6=(0,B.Z)(this.git6,25),this.git7=(0,B.Z)(this.git7,25)):(this.git0=(0,k.Z)(this.git0,25),this.git1=(0,k.Z)(this.git1,25),this.git2=(0,k.Z)(this.git2,25),this.git3=(0,k.Z)(this.git3,25),this.git4=(0,k.Z)(this.git4,25),this.git5=(0,k.Z)(this.git5,25),this.git6=(0,k.Z)(this.git6,25),this.git7=(0,k.Z)(this.git7,25)),this.gitInv0=this.gitInv0||(0,k.Z)(methods_invert(this.git0),25),this.gitInv1=this.gitInv1||methods_invert(this.git1),this.gitInv2=this.gitInv2||methods_invert(this.git2),this.gitInv3=this.gitInv3||methods_invert(this.git3),this.gitInv4=this.gitInv4||methods_invert(this.git4),this.gitInv5=this.gitInv5||methods_invert(this.git5),this.gitInv6=this.gitInv6||methods_invert(this.git6),this.gitInv7=this.gitInv7||methods_invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||methods_invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||methods_invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||tm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ty}calculate(o){if("object"!=typeof o){this.updateColors();return}let s=Object.keys(o);s.forEach(s=>{this[s]=o[s]}),this.updateColors(),s.forEach(s=>{this[s]=o[s]})}},tv=__name(o=>{let s=new tw;return s.calculate(o),s},"getThemeVariables"),tT=class{static{__name(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=(0,B.Z)("#cde498",10),this.primaryBorderColor=t_(this.primaryColor,this.darkMode),this.secondaryBorderColor=t_(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=t_(this.tertiaryColor,this.darkMode),this.primaryTextColor=methods_invert(this.primaryColor),this.secondaryTextColor=methods_invert(this.secondaryColor),this.tertiaryTextColor=methods_invert(this.primaryColor),this.lineColor=methods_invert(this.background),this.textColor=methods_invert(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=(0,k.Z)(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||methods_adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||methods_adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||methods_adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||methods_adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||methods_adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||methods_adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||methods_adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||methods_adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||methods_adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||(0,k.Z)(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||(0,k.Z)(this.tertiaryColor,40);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScale"+o]=(0,k.Z)(this["cScale"+o],10),this["cScalePeer"+o]=this["cScalePeer"+o]||(0,k.Z)(this["cScale"+o],25);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleInv"+o]=this["cScaleInv"+o]||methods_adjust(this["cScale"+o],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleLabel"+o]=this["cScaleLabel"+o]||this.scaleLabelColor;for(let o=0;o<5;o++)this["surface"+o]=this["surface"+o]||methods_adjust(this.mainBkg,{h:30,s:-30,l:-(5+5*o)}),this["surfacePeer"+o]=this["surfacePeer"+o]||methods_adjust(this.mainBkg,{h:30,s:-30,l:-(8+5*o)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=methods_adjust(this.primaryColor,{h:64}),this.fillType3=methods_adjust(this.secondaryColor,{h:64}),this.fillType4=methods_adjust(this.primaryColor,{h:-64}),this.fillType5=methods_adjust(this.secondaryColor,{h:-64}),this.fillType6=methods_adjust(this.primaryColor,{h:128}),this.fillType7=methods_adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||methods_adjust(this.primaryColor,{l:-30}),this.pie5=this.pie5||methods_adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||methods_adjust(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||methods_adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||methods_adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||methods_adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||methods_adjust(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||methods_adjust(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||methods_adjust(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||methods_adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||methods_adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||methods_adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||methods_adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||methods_adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||methods_adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,L.Z)(this.quadrant1Fill)?(0,B.Z)(this.quadrant1Fill):(0,k.Z)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||methods_adjust(this.primaryColor,{h:-30}),this.git4=this.git4||methods_adjust(this.primaryColor,{h:-60}),this.git5=this.git5||methods_adjust(this.primaryColor,{h:-90}),this.git6=this.git6||methods_adjust(this.primaryColor,{h:60}),this.git7=this.git7||methods_adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,B.Z)(this.git0,25),this.git1=(0,B.Z)(this.git1,25),this.git2=(0,B.Z)(this.git2,25),this.git3=(0,B.Z)(this.git3,25),this.git4=(0,B.Z)(this.git4,25),this.git5=(0,B.Z)(this.git5,25),this.git6=(0,B.Z)(this.git6,25),this.git7=(0,B.Z)(this.git7,25)):(this.git0=(0,k.Z)(this.git0,25),this.git1=(0,k.Z)(this.git1,25),this.git2=(0,k.Z)(this.git2,25),this.git3=(0,k.Z)(this.git3,25),this.git4=(0,k.Z)(this.git4,25),this.git5=(0,k.Z)(this.git5,25),this.git6=(0,k.Z)(this.git6,25),this.git7=(0,k.Z)(this.git7,25)),this.gitInv0=this.gitInv0||methods_invert(this.git0),this.gitInv1=this.gitInv1||methods_invert(this.git1),this.gitInv2=this.gitInv2||methods_invert(this.git2),this.gitInv3=this.gitInv3||methods_invert(this.git3),this.gitInv4=this.gitInv4||methods_invert(this.git4),this.gitInv5=this.gitInv5||methods_invert(this.git5),this.gitInv6=this.gitInv6||methods_invert(this.git6),this.gitInv7=this.gitInv7||methods_invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||methods_invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||methods_invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||tm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ty}calculate(o){if("object"!=typeof o){this.updateColors();return}let s=Object.keys(o);s.forEach(s=>{this[s]=o[s]}),this.updateColors(),s.forEach(s=>{this[s]=o[s]})}},tS=__name(o=>{let s=new tT;return s.calculate(o),s},"getThemeVariables"),tM=class{static{__name(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=(0,B.Z)(this.contrast,55),this.background="#ffffff",this.tertiaryColor=methods_adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=t_(this.primaryColor,this.darkMode),this.secondaryBorderColor=t_(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=t_(this.tertiaryColor,this.darkMode),this.primaryTextColor=methods_invert(this.primaryColor),this.secondaryTextColor=methods_invert(this.secondaryColor),this.tertiaryTextColor=methods_invert(this.tertiaryColor),this.lineColor=methods_invert(this.background),this.textColor=methods_invert(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=(0,B.Z)(this.contrast,55),this.border2=this.contrast,this.actorBorder=(0,B.Z)(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleInv"+o]=this["cScaleInv"+o]||methods_invert(this["cScale"+o]);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this.darkMode?this["cScalePeer"+o]=this["cScalePeer"+o]||(0,B.Z)(this["cScale"+o],10):this["cScalePeer"+o]=this["cScalePeer"+o]||(0,k.Z)(this["cScale"+o],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleLabel"+o]=this["cScaleLabel"+o]||this.scaleLabelColor;for(let o=0;o<5;o++)this["surface"+o]=this["surface"+o]||methods_adjust(this.mainBkg,{l:-(5+5*o)}),this["surfacePeer"+o]=this["surfacePeer"+o]||methods_adjust(this.mainBkg,{l:-(8+5*o)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=(0,B.Z)(this.contrast,30),this.sectionBkgColor2=(0,B.Z)(this.contrast,30),this.taskBorderColor=(0,k.Z)(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=(0,B.Z)(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=(0,k.Z)(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=methods_adjust(this.primaryColor,{h:64}),this.fillType3=methods_adjust(this.secondaryColor,{h:64}),this.fillType4=methods_adjust(this.primaryColor,{h:-64}),this.fillType5=methods_adjust(this.secondaryColor,{h:-64}),this.fillType6=methods_adjust(this.primaryColor,{h:128}),this.fillType7=methods_adjust(this.secondaryColor,{h:128});for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["pie"+o]=this["cScale"+o];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||methods_adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||methods_adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||methods_adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||methods_adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||methods_adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||methods_adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,L.Z)(this.quadrant1Fill)?(0,B.Z)(this.quadrant1Fill):(0,k.Z)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,k.Z)(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||methods_adjust(this.primaryColor,{h:-30}),this.git4=this.pie5||methods_adjust(this.primaryColor,{h:-60}),this.git5=this.pie6||methods_adjust(this.primaryColor,{h:-90}),this.git6=this.pie7||methods_adjust(this.primaryColor,{h:60}),this.git7=this.pie8||methods_adjust(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||methods_invert(this.git0),this.gitInv1=this.gitInv1||methods_invert(this.git1),this.gitInv2=this.gitInv2||methods_invert(this.git2),this.gitInv3=this.gitInv3||methods_invert(this.git3),this.gitInv4=this.gitInv4||methods_invert(this.git4),this.gitInv5=this.gitInv5||methods_invert(this.git5),this.gitInv6=this.gitInv6||methods_invert(this.git6),this.gitInv7=this.gitInv7||methods_invert(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||tm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ty}calculate(o){if("object"!=typeof o){this.updateColors();return}let s=Object.keys(o);s.forEach(s=>{this[s]=o[s]}),this.updateColors(),s.forEach(s=>{this[s]=o[s]})}},tA={base:{getThemeVariables:tb},dark:{getThemeVariables:tk},default:{getThemeVariables:tv},forest:{getThemeVariables:tS},neutral:{getThemeVariables:__name(o=>{let s=new tM;return s.calculate(o),s},"getThemeVariables")}},tB={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},tL={...tB,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:tA.default.getThemeVariables(),sequence:{...tB.sequence,messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:__name(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:__name(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...tB.gantt,tickInterval:void 0,useWidth:void 0},c4:{...tB.c4,useWidth:void 0,personFont:__name(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:__name(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:__name(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:__name(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:__name(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:__name(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:__name(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:__name(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:__name(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:__name(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:__name(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:__name(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:__name(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:__name(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:__name(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:__name(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:__name(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:__name(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:__name(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:__name(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:__name(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...tB.pie,useWidth:984},xyChart:{...tB.xyChart,useWidth:void 0},requirement:{...tB.requirement,useWidth:void 0},packet:{...tB.packet}},tF=__name((o,s="")=>Object.keys(o).reduce((c,p)=>Array.isArray(o[p])?c:"object"==typeof o[p]&&null!==o[p]?[...c,s+p,...tF(o[p],"")]:[...c,s+p],[]),"keyify"),tE=new Set(tF(tL,"")),tW=tL,t$=__name(o=>{if(tr.debug("sanitizeDirective called with",o),"object"==typeof o&&null!=o){if(Array.isArray(o)){o.forEach(o=>t$(o));return}for(let s of Object.keys(o)){if(tr.debug("Checking key",s),s.startsWith("__")||s.includes("proto")||s.includes("constr")||!tE.has(s)||null==o[s]){tr.debug("sanitize deleting key: ",s),delete o[s];continue}if("object"==typeof o[s]){tr.debug("sanitizing object",s),t$(o[s]);continue}let c=["themeCSS","fontFamily","altFontFamily"];for(let p of c)s.includes(p)&&(tr.debug("sanitizing css option",s),o[s]=tP(o[s]))}if(o.themeVariables)for(let s of Object.keys(o.themeVariables)){let c=o.themeVariables[s];c?.match&&!c.match(/^[\d "#%(),.;A-Za-z]+$/)&&(o.themeVariables[s]="")}tr.debug("After sanitization",o)}},"sanitizeDirective"),tP=__name(o=>{let s=0,c=0;for(let p of o){if(s<c)return"{ /* ERROR: Unbalanced CSS */ }";"{"===p?s++:"}"===p&&c++}return s!==c?"{ /* ERROR: Unbalanced CSS */ }":o},"sanitizeCss"),tD=Object.freeze(tW),tO=tg({},tD),tR=[],tI=tg({},tD),tN=__name((o,s)=>{let c=tg({},o),f={};for(let o of s)tH(o),f=tg(f,o);if(c=tg(c,f),f.theme&&f.theme in tA){let o=tg({},p),s=tg(o.themeVariables||{},f.themeVariables);c.theme&&c.theme in tA&&(c.themeVariables=tA[c.theme].getThemeVariables(s))}return tJ(tI=c),tI},"updateCurrentConfig"),tj=__name(o=>(tO=tg({},tD),tO=tg(tO,o),o.theme&&tA[o.theme]&&(tO.themeVariables=tA[o.theme].getThemeVariables(o.themeVariables)),tN(tO,tR),tO),"setSiteConfig"),tz=__name(o=>{p=tg({},o)},"saveConfigFromInitialize"),tZ=__name(o=>(tO=tg(tO,o),tN(tO,tR),tO),"updateSiteConfig"),tq=__name(()=>tg({},tO),"getSiteConfig"),tY=__name(o=>(tJ(o),tg(tI,o),tU()),"setConfig"),tU=__name(()=>tg({},tI),"getConfig"),tH=__name(o=>{o&&(["secure",...tO.secure??[]].forEach(s=>{Object.hasOwn(o,s)&&(tr.debug(`Denied attempt to modify a secure key ${s}`,o[s]),delete o[s])}),Object.keys(o).forEach(s=>{s.startsWith("__")&&delete o[s]}),Object.keys(o).forEach(s=>{"string"==typeof o[s]&&(o[s].includes("<")||o[s].includes(">")||o[s].includes("url(data:"))&&delete o[s],"object"==typeof o[s]&&tH(o[s])}))},"sanitize"),tV=__name(o=>{t$(o),o.fontFamily&&!o.themeVariables?.fontFamily&&(o.themeVariables={...o.themeVariables,fontFamily:o.fontFamily}),tR.push(o),tN(tO,tR)},"addDirective"),tX=__name((o=tO)=>{tN(o,tR=[])},"reset"),tG={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},tK={},tQ=__name(o=>{tK[o]||(tr.warn(tG[o]),tK[o]=!0)},"issueWarning"),tJ=__name(o=>{o&&(o.lazyLoadedDiagrams||o.loadExternalDiagramsAtStartup)&&tQ("LAZY_LOAD_DEPRECATED")},"checkConfig"),t0=/<br\s*\/?>/gi,t1=__name(o=>{if(!o)return[""];let s=et(o).replace(/\\n/g,"#br#");return s.split("#br#")},"getRows"),t2=(()=>{let o=!1;return()=>{o||(setupDompurifyHooks(),o=!0)}})();function setupDompurifyHooks(){let o="data-temp-href-target";X.addHook("beforeSanitizeAttributes",s=>{"A"===s.tagName&&s.hasAttribute("target")&&s.setAttribute(o,s.getAttribute("target")??"")}),X.addHook("afterSanitizeAttributes",s=>{"A"===s.tagName&&s.hasAttribute(o)&&(s.setAttribute("target",s.getAttribute(o)??""),s.removeAttribute(o),"_blank"===s.getAttribute("target")&&s.setAttribute("rel","noopener"))})}__name(setupDompurifyHooks,"setupDompurifyHooks");var t5=__name(o=>{t2();let s=X.sanitize(o);return s},"removeScript"),t3=__name((o,s)=>{if(s.flowchart?.htmlLabels!==!1){let c=s.securityLevel;"antiscript"===c||"strict"===c?o=t5(o):"loose"!==c&&(o=t7(o=(o=(o=et(o)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;")))}return o},"sanitizeMore"),t4=__name((o,s)=>o?o=s.dompurifyConfig?X.sanitize(t3(o,s),s.dompurifyConfig).toString():X.sanitize(t3(o,s),{FORBID_TAGS:["style"]}).toString():o,"sanitizeText"),t6=__name((o,s)=>"string"==typeof o?t4(o,s):o.flat().map(o=>t4(o,s)),"sanitizeTextOrArray"),t8=__name(o=>t0.test(o),"hasBreaks"),t9=__name(o=>o.split(t0),"splitBreaks"),t7=__name(o=>o.replace(/#br#/g,"<br/>"),"placeholderToBreak"),et=__name(o=>o.replace(t0,"#br#"),"breakToPlaceholder"),ee=__name(o=>{let s="";return o&&(s=(s=(s=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replaceAll(/\(/g,"\\(")).replaceAll(/\)/g,"\\)")),s},"getUrl"),er=__name(o=>!(!1===o||["false","null","0"].includes(String(o).trim().toLowerCase())),"evaluate"),ei=__name(function(...o){let s=o.filter(o=>!isNaN(o));return Math.max(...s)},"getMax"),en=__name(function(...o){let s=o.filter(o=>!isNaN(o));return Math.min(...s)},"getMin"),ea=__name(function(o){let s=o.split(/(,)/),c=[];for(let o=0;o<s.length;o++){let p=s[o];if(","===p&&o>0&&o+1<s.length){let f=s[o-1],g=s[o+1];es(f,g)&&(p=f+","+g,o++,c.pop())}c.push(el(p))}return c.join("")},"parseGenericTypes"),eo=__name((o,s)=>Math.max(0,o.split(s).length-1),"countOccurrence"),es=__name((o,s)=>{let c=eo(o,"~"),p=eo(s,"~");return 1===c&&1===p},"shouldCombineSets"),el=__name(o=>{let s=eo(o,"~"),c=!1;if(s<=1)return o;s%2!=0&&o.startsWith("~")&&(o=o.substring(1),c=!0);let p=[...o],f=p.indexOf("~"),g=p.lastIndexOf("~");for(;-1!==f&&-1!==g&&f!==g;)p[f]="<",p[g]=">",f=p.indexOf("~"),g=p.lastIndexOf("~");return c&&p.unshift("~"),p.join("")},"processSet"),eh=__name(()=>void 0!==window.MathMLElement,"isMathMLSupported"),ec=/\$\$(.*)\$\$/g,eu=__name(o=>(o.match(ec)?.length??0)>0,"hasKatex"),ed=__name(async(o,s)=>{o=await ep(o,s);let c=document.createElement("div");c.innerHTML=o,c.id="katex-temp",c.style.visibility="hidden",c.style.position="absolute",c.style.top="0";let p=document.querySelector("body");p?.insertAdjacentElement("beforeend",c);let f={width:c.clientWidth,height:c.clientHeight};return c.remove(),f},"calculateMathMLDimensions"),ep=__name(async(o,s)=>{if(!eu(o))return o;if(!(eh()||s.legacyMathML||s.forceLegacyMathML))return o.replace(ec,"MathML is unsupported in this environment.");let{default:p}=await c.e(5201).then(c.bind(c,5201)),f=s.forceLegacyMathML||!eh()&&s.legacyMathML?"htmlAndMathml":"mathml";return o.split(t0).map(o=>eu(o)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${o}</div>`:`<div>${o}</div>`).join("").replace(ec,(o,s)=>p.renderToString(s,{throwOnError:!0,displayMode:!0,output:f}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),ef={getRows:t1,sanitizeText:t4,sanitizeTextOrArray:t6,hasBreaks:t8,splitBreaks:t9,lineBreakRegex:t0,removeScript:t5,getUrl:ee,evaluate:er,getMax:ei,getMin:en},eg=__name(function(o,s){for(let c of s)o.attr(c[0],c[1])},"d3Attrs"),em=__name(function(o,s,c){let p=new Map;return c?(p.set("width","100%"),p.set("style",`max-width: ${s}px;`)):(p.set("height",o),p.set("width",s)),p},"calculateSvgSizeAttrs"),ey=__name(function(o,s,c,p){let f=em(s,c,p);eg(o,f)},"configureSvgSize"),e_=__name(function(o,s,c,p){let f=s.node().getBBox(),g=f.width,m=f.height;tr.info(`SVG bounds: ${g}x${m}`,f);let b=0,k=0;tr.info(`Graph bounds: ${b}x${k}`,o),b=g+2*c,k=m+2*c,tr.info(`Calculated bounds: ${b}x${k}`),ey(s,k,b,p);let B=`${f.x-c} ${f.y-c} ${f.width+2*c} ${f.height+2*c}`;s.attr("viewBox",B)},"setupGraphViewbox"),ex={},eb=__name((o,s,c)=>{let p="";return o in ex&&ex[o]?p=ex[o](c):tr.warn(`No theme found for ${o}`),` & {
    font-family: ${c.fontFamily};
    font-size: ${c.fontSize};
    fill: ${c.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${c.errorBkgColor};
  }
  & .error-text {
    fill: ${c.errorTextColor};
    stroke: ${c.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${c.lineColor};
    stroke: ${c.lineColor};
  }
  & .marker.cross {
    stroke: ${c.lineColor};
  }

  & svg {
    font-family: ${c.fontFamily};
    font-size: ${c.fontSize};
  }
   & p {
    margin: 0
   }

  ${p}

  ${s}
`},"getStyles"),eC=__name((o,s)=>{void 0!==s&&(ex[o]=s)},"addStylesForDiagram"),ek=eb,ew={};__export(ew,{clear:()=>eA,getAccDescription:()=>eE,getAccTitle:()=>eL,getDiagramTitle:()=>e$,setAccDescription:()=>eF,setAccTitle:()=>eB,setDiagramTitle:()=>eW});var ev="",eT="",eS="",eM=__name(o=>t4(o,tU()),"sanitizeText"),eA=__name(()=>{ev="",eS="",eT=""},"clear"),eB=__name(o=>{ev=eM(o).replace(/^\s+/g,"")},"setAccTitle"),eL=__name(()=>ev,"getAccTitle"),eF=__name(o=>{eS=eM(o).replace(/\n\s+/g,"\n")},"setAccDescription"),eE=__name(()=>eS,"getAccDescription"),eW=__name(o=>{eT=eM(o)},"setDiagramTitle"),e$=__name(()=>eT,"getDiagramTitle"),eP=tU,eD=tY,eO=tD,eR=__name(o=>t4(o,eP()),"sanitizeText"),eI=e_,eN=__name(()=>ew,"getCommonDb"),ej={},ez=__name((o,s,c)=>{ej[o]&&tr.warn(`Diagram with id ${o} already registered. Overwriting.`),ej[o]=s,c&&td(o,c),eC(o,s.styles),s.injectUtils?.(tr,ti,eP,eR,eI,eN(),()=>{})},"registerDiagram"),eZ=__name(o=>{if(o in ej)return ej[o];throw new eq(o)},"getDiagram"),eq=class extends Error{static{__name(this,"DiagramNotFoundError")}constructor(o){super(`Diagram ${o} not found.`)}}},683:(o,s,c)=>{"use strict";c.d(s,{A:()=>tD,z:()=>tO});var p,f=c(8554);function isNothing(o){return null==o}function isObject(o){return"object"==typeof o&&null!==o}function toArray(o){return Array.isArray(o)?o:isNothing(o)?[]:[o]}function extend(o,s){var c,p,f,g;if(s)for(c=0,p=(g=Object.keys(s)).length;c<p;c+=1)o[f=g[c]]=s[f];return o}function repeat(o,s){var c,p="";for(c=0;c<s;c+=1)p+=o;return p}function isNegativeZero(o){return 0===o&&Number.NEGATIVE_INFINITY===1/o}(0,f.eW)(isNothing,"isNothing"),(0,f.eW)(isObject,"isObject"),(0,f.eW)(toArray,"toArray"),(0,f.eW)(extend,"extend"),(0,f.eW)(repeat,"repeat"),(0,f.eW)(isNegativeZero,"isNegativeZero");var g={isNothing:isNothing,isObject:isObject,toArray:toArray,repeat:repeat,isNegativeZero:isNegativeZero,extend:extend};function formatError(o,s){var c="",p=o.reason||"(unknown reason)";return o.mark?(o.mark.name&&(c+='in "'+o.mark.name+'" '),c+="("+(o.mark.line+1)+":"+(o.mark.column+1)+")",!s&&o.mark.snippet&&(c+="\n\n"+o.mark.snippet),p+" "+c):p}function YAMLException$1(o,s){Error.call(this),this.name="YAMLException",this.reason=o,this.mark=s,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack||""}function getLine(o,s,c,p,f){var g="",m="",b=Math.floor(f/2)-1;return p-s>b&&(s=p-b+(g=" ... ").length),c-p>b&&(c=p+b-(m=" ...").length),{str:g+o.slice(s,c).replace(/\t/g,"→")+m,pos:p-s+g.length}}function padStart(o,s){return g.repeat(" ",s-o.length)+o}function makeSnippet(o,s){if(s=Object.create(s||null),!o.buffer)return null;s.maxLength||(s.maxLength=79),"number"!=typeof s.indent&&(s.indent=1),"number"!=typeof s.linesBefore&&(s.linesBefore=3),"number"!=typeof s.linesAfter&&(s.linesAfter=2);for(var c=/\r?\n|\r|\0/g,p=[0],f=[],m=-1;b=c.exec(o.buffer);)f.push(b.index),p.push(b.index+b[0].length),o.position<=b.index&&m<0&&(m=p.length-2);m<0&&(m=p.length-1);var b,k,B,L="",X=Math.min(o.line+s.linesAfter,f.length).toString().length,J=s.maxLength-(s.indent+X+3);for(k=1;k<=s.linesBefore&&!(m-k<0);k++)B=getLine(o.buffer,p[m-k],f[m-k],o.position-(p[m]-p[m-k]),J),L=g.repeat(" ",s.indent)+padStart((o.line-k+1).toString(),X)+" | "+B.str+"\n"+L;for(B=getLine(o.buffer,p[m],f[m],o.position,J),L+=g.repeat(" ",s.indent)+padStart((o.line+1).toString(),X)+" | "+B.str+"\n"+g.repeat("-",s.indent+X+3+B.pos)+"^\n",k=1;k<=s.linesAfter&&!(m+k>=f.length);k++)B=getLine(o.buffer,p[m+k],f[m+k],o.position-(p[m]-p[m+k]),J),L+=g.repeat(" ",s.indent)+padStart((o.line+k+1).toString(),X)+" | "+B.str+"\n";return L.replace(/\n$/,"")}(0,f.eW)(formatError,"formatError"),(0,f.eW)(YAMLException$1,"YAMLException$1"),YAMLException$1.prototype=Object.create(Error.prototype),YAMLException$1.prototype.constructor=YAMLException$1,YAMLException$1.prototype.toString=(0,f.eW)(function(o){return this.name+": "+formatError(this,o)},"toString"),(0,f.eW)(getLine,"getLine"),(0,f.eW)(padStart,"padStart"),(0,f.eW)(makeSnippet,"makeSnippet");var m=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],b=["scalar","sequence","mapping"];function compileStyleAliases(o){var s={};return null!==o&&Object.keys(o).forEach(function(c){o[c].forEach(function(o){s[String(o)]=c})}),s}function Type$1(o,s){if(Object.keys(s=s||{}).forEach(function(s){if(-1===m.indexOf(s))throw new YAMLException$1('Unknown option "'+s+'" is met in definition of "'+o+'" YAML type.')}),this.options=s,this.tag=o,this.kind=s.kind||null,this.resolve=s.resolve||function(){return!0},this.construct=s.construct||function(o){return o},this.instanceOf=s.instanceOf||null,this.predicate=s.predicate||null,this.represent=s.represent||null,this.representName=s.representName||null,this.defaultStyle=s.defaultStyle||null,this.multi=s.multi||!1,this.styleAliases=compileStyleAliases(s.styleAliases||null),-1===b.indexOf(this.kind))throw new YAMLException$1('Unknown kind "'+this.kind+'" is specified for "'+o+'" YAML type.')}function compileList(o,s){var c=[];return o[s].forEach(function(o){var s=c.length;c.forEach(function(c,p){c.tag===o.tag&&c.kind===o.kind&&c.multi===o.multi&&(s=p)}),c[s]=o}),c}function compileMap(){var o,s,c={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function collectType(o){o.multi?(c.multi[o.kind].push(o),c.multi.fallback.push(o)):c[o.kind][o.tag]=c.fallback[o.tag]=o}for((0,f.eW)(collectType,"collectType"),o=0,s=arguments.length;o<s;o+=1)arguments[o].forEach(collectType);return c}function Schema$1(o){return this.extend(o)}(0,f.eW)(compileStyleAliases,"compileStyleAliases"),(0,f.eW)(Type$1,"Type$1"),(0,f.eW)(compileList,"compileList"),(0,f.eW)(compileMap,"compileMap"),(0,f.eW)(Schema$1,"Schema$1"),Schema$1.prototype.extend=(0,f.eW)(function(o){var s=[],c=[];if(o instanceof Type$1)c.push(o);else if(Array.isArray(o))c=c.concat(o);else if(o&&(Array.isArray(o.implicit)||Array.isArray(o.explicit)))o.implicit&&(s=s.concat(o.implicit)),o.explicit&&(c=c.concat(o.explicit));else throw new YAMLException$1("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(o){if(!(o instanceof Type$1))throw new YAMLException$1("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&"scalar"!==o.loadKind)throw new YAMLException$1("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new YAMLException$1("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),c.forEach(function(o){if(!(o instanceof Type$1))throw new YAMLException$1("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var p=Object.create(Schema$1.prototype);return p.implicit=(this.implicit||[]).concat(s),p.explicit=(this.explicit||[]).concat(c),p.compiledImplicit=compileList(p,"implicit"),p.compiledExplicit=compileList(p,"explicit"),p.compiledTypeMap=compileMap(p.compiledImplicit,p.compiledExplicit),p},"extend");var k=new Type$1("tag:yaml.org,2002:str",{kind:"scalar",construct:(0,f.eW)(function(o){return null!==o?o:""},"construct")}),B=new Type$1("tag:yaml.org,2002:seq",{kind:"sequence",construct:(0,f.eW)(function(o){return null!==o?o:[]},"construct")}),L=new Type$1("tag:yaml.org,2002:map",{kind:"mapping",construct:(0,f.eW)(function(o){return null!==o?o:{}},"construct")}),X=new Schema$1({explicit:[k,B,L]});function resolveYamlNull(o){if(null===o)return!0;var s=o.length;return 1===s&&"~"===o||4===s&&("null"===o||"Null"===o||"NULL"===o)}function constructYamlNull(){return null}function isNull(o){return null===o}(0,f.eW)(resolveYamlNull,"resolveYamlNull"),(0,f.eW)(constructYamlNull,"constructYamlNull"),(0,f.eW)(isNull,"isNull");var J=new Type$1("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:(0,f.eW)(function(){return"~"},"canonical"),lowercase:(0,f.eW)(function(){return"null"},"lowercase"),uppercase:(0,f.eW)(function(){return"NULL"},"uppercase"),camelcase:(0,f.eW)(function(){return"Null"},"camelcase"),empty:(0,f.eW)(function(){return""},"empty")},defaultStyle:"lowercase"});function resolveYamlBoolean(o){if(null===o)return!1;var s=o.length;return 4===s&&("true"===o||"True"===o||"TRUE"===o)||5===s&&("false"===o||"False"===o||"FALSE"===o)}function constructYamlBoolean(o){return"true"===o||"True"===o||"TRUE"===o}function isBoolean(o){return"[object Boolean]"===Object.prototype.toString.call(o)}(0,f.eW)(resolveYamlBoolean,"resolveYamlBoolean"),(0,f.eW)(constructYamlBoolean,"constructYamlBoolean"),(0,f.eW)(isBoolean,"isBoolean");var te=new Type$1("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:(0,f.eW)(function(o){return o?"true":"false"},"lowercase"),uppercase:(0,f.eW)(function(o){return o?"TRUE":"FALSE"},"uppercase"),camelcase:(0,f.eW)(function(o){return o?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function isHexCode(o){return 48<=o&&o<=57||65<=o&&o<=70||97<=o&&o<=102}function isOctCode(o){return 48<=o&&o<=55}function isDecCode(o){return 48<=o&&o<=57}function resolveYamlInteger(o){if(null===o)return!1;var s,c=o.length,p=0,f=!1;if(!c)return!1;if(("-"===(s=o[p])||"+"===s)&&(s=o[++p]),"0"===s){if(p+1===c)return!0;if("b"===(s=o[++p])){for(p++;p<c;p++)if("_"!==(s=o[p])){if("0"!==s&&"1"!==s)return!1;f=!0}return f&&"_"!==s}if("x"===s){for(p++;p<c;p++)if("_"!==(s=o[p])){if(!isHexCode(o.charCodeAt(p)))return!1;f=!0}return f&&"_"!==s}if("o"===s){for(p++;p<c;p++)if("_"!==(s=o[p])){if(!isOctCode(o.charCodeAt(p)))return!1;f=!0}return f&&"_"!==s}}if("_"===s)return!1;for(;p<c;p++)if("_"!==(s=o[p])){if(!isDecCode(o.charCodeAt(p)))return!1;f=!0}return!!f&&"_"!==s}function constructYamlInteger(o){var s,c=o,p=1;if(-1!==c.indexOf("_")&&(c=c.replace(/_/g,"")),("-"===(s=c[0])||"+"===s)&&("-"===s&&(p=-1),s=(c=c.slice(1))[0]),"0"===c)return 0;if("0"===s){if("b"===c[1])return p*parseInt(c.slice(2),2);if("x"===c[1])return p*parseInt(c.slice(2),16);if("o"===c[1])return p*parseInt(c.slice(2),8)}return p*parseInt(c,10)}function isInteger(o){return"[object Number]"===Object.prototype.toString.call(o)&&o%1==0&&!g.isNegativeZero(o)}(0,f.eW)(isHexCode,"isHexCode"),(0,f.eW)(isOctCode,"isOctCode"),(0,f.eW)(isDecCode,"isDecCode"),(0,f.eW)(resolveYamlInteger,"resolveYamlInteger"),(0,f.eW)(constructYamlInteger,"constructYamlInteger"),(0,f.eW)(isInteger,"isInteger");var tr=new Type$1("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:(0,f.eW)(function(o){return o>=0?"0b"+o.toString(2):"-0b"+o.toString(2).slice(1)},"binary"),octal:(0,f.eW)(function(o){return o>=0?"0o"+o.toString(8):"-0o"+o.toString(8).slice(1)},"octal"),decimal:(0,f.eW)(function(o){return o.toString(10)},"decimal"),hexadecimal:(0,f.eW)(function(o){return o>=0?"0x"+o.toString(16).toUpperCase():"-0x"+o.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ti=RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(o){return!!(null!==o&&ti.test(o)&&"_"!==o[o.length-1])}function constructYamlFloat(o){var s,c;return(c="-"===(s=o.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(s[0])>=0&&(s=s.slice(1)),".inf"===s)?1===c?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===s?NaN:c*parseFloat(s,10)}(0,f.eW)(resolveYamlFloat,"resolveYamlFloat"),(0,f.eW)(constructYamlFloat,"constructYamlFloat");var tn=/^[-+]?[0-9]+e/;function representYamlFloat(o,s){var c;if(isNaN(o))switch(s){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===o)switch(s){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===o)switch(s){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(g.isNegativeZero(o))return"-0.0";return c=o.toString(10),tn.test(c)?c.replace("e",".e"):c}function isFloat(o){return"[object Number]"===Object.prototype.toString.call(o)&&(o%1!=0||g.isNegativeZero(o))}(0,f.eW)(representYamlFloat,"representYamlFloat"),(0,f.eW)(isFloat,"isFloat");var ta=new Type$1("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),to=X.extend({implicit:[J,te,tr,ta]}),ts=RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),tl=RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(o){return null!==o&&(null!==ts.exec(o)||null!==tl.exec(o))}function constructYamlTimestamp(o){var s,c,p,f,g,m,b,k,B=0,L=null;if(null===(s=ts.exec(o))&&(s=tl.exec(o)),null===s)throw Error("Date resolve error");if(c=+s[1],p=+s[2]-1,f=+s[3],!s[4])return new Date(Date.UTC(c,p,f));if(g=+s[4],m=+s[5],b=+s[6],s[7]){for(B=s[7].slice(0,3);B.length<3;)B+="0";B=+B}return s[9]&&(L=(60*+s[10]+ +(s[11]||0))*6e4,"-"===s[9]&&(L=-L)),k=new Date(Date.UTC(c,p,f,g,m,b,B)),L&&k.setTime(k.getTime()-L),k}function representYamlTimestamp(o){return o.toISOString()}(0,f.eW)(resolveYamlTimestamp,"resolveYamlTimestamp"),(0,f.eW)(constructYamlTimestamp,"constructYamlTimestamp"),(0,f.eW)(representYamlTimestamp,"representYamlTimestamp");var th=new Type$1("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(o){return"<<"===o||null===o}(0,f.eW)(resolveYamlMerge,"resolveYamlMerge");var tc=new Type$1("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),tu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function resolveYamlBinary(o){if(null===o)return!1;var s,c,p=0,f=o.length;for(c=0;c<f;c++)if(!((s=tu.indexOf(o.charAt(c)))>64)){if(s<0)return!1;p+=6}return p%8==0}function constructYamlBinary(o){var s,c,p=o.replace(/[\r\n=]/g,""),f=p.length,g=0,m=[];for(s=0;s<f;s++)s%4==0&&s&&(m.push(g>>16&255),m.push(g>>8&255),m.push(255&g)),g=g<<6|tu.indexOf(p.charAt(s));return 0==(c=f%4*6)?(m.push(g>>16&255),m.push(g>>8&255),m.push(255&g)):18===c?(m.push(g>>10&255),m.push(g>>2&255)):12===c&&m.push(g>>4&255),new Uint8Array(m)}function representYamlBinary(o){var s,c,p="",f=0,g=o.length;for(s=0;s<g;s++)s%3==0&&s&&(p+=tu[f>>18&63]+tu[f>>12&63]+tu[f>>6&63]+tu[63&f]),f=(f<<8)+o[s];return 0==(c=g%3)?p+=tu[f>>18&63]+tu[f>>12&63]+tu[f>>6&63]+tu[63&f]:2===c?p+=tu[f>>10&63]+tu[f>>4&63]+tu[f<<2&63]+tu[64]:1===c&&(p+=tu[f>>2&63]+tu[f<<4&63]+tu[64]+tu[64]),p}function isBinary(o){return"[object Uint8Array]"===Object.prototype.toString.call(o)}(0,f.eW)(resolveYamlBinary,"resolveYamlBinary"),(0,f.eW)(constructYamlBinary,"constructYamlBinary"),(0,f.eW)(representYamlBinary,"representYamlBinary"),(0,f.eW)(isBinary,"isBinary");var td=new Type$1("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),tp=Object.prototype.hasOwnProperty,tf=Object.prototype.toString;function resolveYamlOmap(o){if(null===o)return!0;var s,c,p,f,g,m=[];for(s=0,c=o.length;s<c;s+=1){if(p=o[s],g=!1,"[object Object]"!==tf.call(p))return!1;for(f in p)if(tp.call(p,f)){if(g)return!1;g=!0}if(!g||-1!==m.indexOf(f))return!1;m.push(f)}return!0}function constructYamlOmap(o){return null!==o?o:[]}(0,f.eW)(resolveYamlOmap,"resolveYamlOmap"),(0,f.eW)(constructYamlOmap,"constructYamlOmap");var tg=new Type$1("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),tm=Object.prototype.toString;function resolveYamlPairs(o){var s,c,p,f,g;if(null===o)return!0;for(s=0,g=Array(o.length),c=o.length;s<c;s+=1){if(p=o[s],"[object Object]"!==tm.call(p)||1!==(f=Object.keys(p)).length)return!1;g[s]=[f[0],p[f[0]]]}return!0}function constructYamlPairs(o){var s,c,p,f,g;if(null===o)return[];for(s=0,g=Array(o.length),c=o.length;s<c;s+=1)f=Object.keys(p=o[s]),g[s]=[f[0],p[f[0]]];return g}(0,f.eW)(resolveYamlPairs,"resolveYamlPairs"),(0,f.eW)(constructYamlPairs,"constructYamlPairs");var ty=new Type$1("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),t_=Object.prototype.hasOwnProperty;function resolveYamlSet(o){var s;if(null===o)return!0;for(s in o)if(t_.call(o,s)&&null!==o[s])return!1;return!0}function constructYamlSet(o){return null!==o?o:{}}(0,f.eW)(resolveYamlSet,"resolveYamlSet"),(0,f.eW)(constructYamlSet,"constructYamlSet");var tx=new Type$1("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),tb=to.extend({implicit:[th,tc],explicit:[td,tg,ty,tx]}),tC=Object.prototype.hasOwnProperty,tk=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,tw=/[\x85\u2028\u2029]/,tv=/[,\[\]\{\}]/,tT=/^(?:!|!!|![a-z\-]+!)$/i,tS=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(o){return Object.prototype.toString.call(o)}function is_EOL(o){return 10===o||13===o}function is_WHITE_SPACE(o){return 9===o||32===o}function is_WS_OR_EOL(o){return 9===o||32===o||10===o||13===o}function is_FLOW_INDICATOR(o){return 44===o||91===o||93===o||123===o||125===o}function fromHexCode(o){var s;return 48<=o&&o<=57?o-48:97<=(s=32|o)&&s<=102?s-97+10:-1}function escapedHexLen(o){return 120===o?2:117===o?4:85===o?8:0}function fromDecimalCode(o){return 48<=o&&o<=57?o-48:-1}function simpleEscapeSequence(o){return 48===o?"\x00":97===o?"\x07":98===o?"\b":116===o?"	":9===o?"	":110===o?"\n":118===o?"\v":102===o?"\f":114===o?"\r":101===o?"\x1b":32===o?" ":34===o?'"':47===o?"/":92===o?"\\":78===o?"\x85":95===o?"\xa0":76===o?"\u2028":80===o?"\u2029":""}function charFromCodepoint(o){return o<=65535?String.fromCharCode(o):String.fromCharCode((o-65536>>10)+55296,(o-65536&1023)+56320)}(0,f.eW)(_class,"_class"),(0,f.eW)(is_EOL,"is_EOL"),(0,f.eW)(is_WHITE_SPACE,"is_WHITE_SPACE"),(0,f.eW)(is_WS_OR_EOL,"is_WS_OR_EOL"),(0,f.eW)(is_FLOW_INDICATOR,"is_FLOW_INDICATOR"),(0,f.eW)(fromHexCode,"fromHexCode"),(0,f.eW)(escapedHexLen,"escapedHexLen"),(0,f.eW)(fromDecimalCode,"fromDecimalCode"),(0,f.eW)(simpleEscapeSequence,"simpleEscapeSequence"),(0,f.eW)(charFromCodepoint,"charFromCodepoint");var tM=Array(256),tA=Array(256);for(p=0;p<256;p++)tM[p]=simpleEscapeSequence(p)?1:0,tA[p]=simpleEscapeSequence(p);function State$1(o,s){this.input=o,this.filename=s.filename||null,this.schema=s.schema||tb,this.onWarning=s.onWarning||null,this.legacy=s.legacy||!1,this.json=s.json||!1,this.listener=s.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=o.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(o,s){var c={name:o.filename,buffer:o.input.slice(0,-1),position:o.position,line:o.line,column:o.position-o.lineStart};return c.snippet=makeSnippet(c),new YAMLException$1(s,c)}function throwError(o,s){throw generateError(o,s)}function throwWarning(o,s){o.onWarning&&o.onWarning.call(null,generateError(o,s))}(0,f.eW)(State$1,"State$1"),(0,f.eW)(generateError,"generateError"),(0,f.eW)(throwError,"throwError"),(0,f.eW)(throwWarning,"throwWarning");var tB={YAML:(0,f.eW)(function(o,s,c){var p,f,g;null!==o.version&&throwError(o,"duplication of %YAML directive"),1!==c.length&&throwError(o,"YAML directive accepts exactly one argument"),null===(p=/^([0-9]+)\.([0-9]+)$/.exec(c[0]))&&throwError(o,"ill-formed argument of the YAML directive"),f=parseInt(p[1],10),g=parseInt(p[2],10),1!==f&&throwError(o,"unacceptable YAML version of the document"),o.version=c[0],o.checkLineBreaks=g<2,1!==g&&2!==g&&throwWarning(o,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:(0,f.eW)(function(o,s,c){var p,f;2!==c.length&&throwError(o,"TAG directive accepts exactly two arguments"),p=c[0],f=c[1],tT.test(p)||throwError(o,"ill-formed tag handle (first argument) of the TAG directive"),tC.call(o.tagMap,p)&&throwError(o,'there is a previously declared suffix for "'+p+'" tag handle'),tS.test(f)||throwError(o,"ill-formed tag prefix (second argument) of the TAG directive");try{f=decodeURIComponent(f)}catch(s){throwError(o,"tag prefix is malformed: "+f)}o.tagMap[p]=f},"handleTagDirective")};function captureSegment(o,s,c,p){var f,g,m,b;if(s<c){if(b=o.input.slice(s,c),p)for(f=0,g=b.length;f<g;f+=1)9===(m=b.charCodeAt(f))||32<=m&&m<=1114111||throwError(o,"expected valid JSON character");else tk.test(b)&&throwError(o,"the stream contains non-printable characters");o.result+=b}}function mergeMappings(o,s,c,p){var f,m,b,k;for(g.isObject(c)||throwError(o,"cannot merge mappings; the provided source object is unacceptable"),b=0,k=(f=Object.keys(c)).length;b<k;b+=1)m=f[b],tC.call(s,m)||(s[m]=c[m],p[m]=!0)}function storeMappingPair(o,s,c,p,f,g,m,b,k){var B,L;if(Array.isArray(f))for(B=0,L=(f=Array.prototype.slice.call(f)).length;B<L;B+=1)Array.isArray(f[B])&&throwError(o,"nested arrays are not supported inside keys"),"object"==typeof f&&"[object Object]"===_class(f[B])&&(f[B]="[object Object]");if("object"==typeof f&&"[object Object]"===_class(f)&&(f="[object Object]"),f=String(f),null===s&&(s={}),"tag:yaml.org,2002:merge"===p){if(Array.isArray(g))for(B=0,L=g.length;B<L;B+=1)mergeMappings(o,s,g[B],c);else mergeMappings(o,s,g,c)}else!o.json&&!tC.call(c,f)&&tC.call(s,f)&&(o.line=m||o.line,o.lineStart=b||o.lineStart,o.position=k||o.position,throwError(o,"duplicated mapping key")),"__proto__"===f?Object.defineProperty(s,f,{configurable:!0,enumerable:!0,writable:!0,value:g}):s[f]=g,delete c[f];return s}function readLineBreak(o){var s;10===(s=o.input.charCodeAt(o.position))?o.position++:13===s?(o.position++,10===o.input.charCodeAt(o.position)&&o.position++):throwError(o,"a line break is expected"),o.line+=1,o.lineStart=o.position,o.firstTabInLine=-1}function skipSeparationSpace(o,s,c){for(var p=0,f=o.input.charCodeAt(o.position);0!==f;){for(;is_WHITE_SPACE(f);)9===f&&-1===o.firstTabInLine&&(o.firstTabInLine=o.position),f=o.input.charCodeAt(++o.position);if(s&&35===f)do f=o.input.charCodeAt(++o.position);while(10!==f&&13!==f&&0!==f);if(is_EOL(f))for(readLineBreak(o),f=o.input.charCodeAt(o.position),p++,o.lineIndent=0;32===f;)o.lineIndent++,f=o.input.charCodeAt(++o.position);else break}return -1!==c&&0!==p&&o.lineIndent<c&&throwWarning(o,"deficient indentation"),p}function testDocumentSeparator(o){var s,c=o.position;return!!((45===(s=o.input.charCodeAt(c))||46===s)&&s===o.input.charCodeAt(c+1)&&s===o.input.charCodeAt(c+2)&&(c+=3,0===(s=o.input.charCodeAt(c))||is_WS_OR_EOL(s)))}function writeFoldedLines(o,s){1===s?o.result+=" ":s>1&&(o.result+=g.repeat("\n",s-1))}function readPlainScalar(o,s,c){var p,f,g,m,b,k,B,L,X=o.kind,J=o.result;if(is_WS_OR_EOL(L=o.input.charCodeAt(o.position))||is_FLOW_INDICATOR(L)||35===L||38===L||42===L||33===L||124===L||62===L||39===L||34===L||37===L||64===L||96===L||(63===L||45===L)&&(is_WS_OR_EOL(p=o.input.charCodeAt(o.position+1))||c&&is_FLOW_INDICATOR(p)))return!1;for(o.kind="scalar",o.result="",f=g=o.position,m=!1;0!==L;){if(58===L){if(is_WS_OR_EOL(p=o.input.charCodeAt(o.position+1))||c&&is_FLOW_INDICATOR(p))break}else if(35===L){if(is_WS_OR_EOL(o.input.charCodeAt(o.position-1)))break}else if(o.position===o.lineStart&&testDocumentSeparator(o)||c&&is_FLOW_INDICATOR(L))break;else if(is_EOL(L)){if(b=o.line,k=o.lineStart,B=o.lineIndent,skipSeparationSpace(o,!1,-1),o.lineIndent>=s){m=!0,L=o.input.charCodeAt(o.position);continue}o.position=g,o.line=b,o.lineStart=k,o.lineIndent=B;break}m&&(captureSegment(o,f,g,!1),writeFoldedLines(o,o.line-b),f=g=o.position,m=!1),is_WHITE_SPACE(L)||(g=o.position+1),L=o.input.charCodeAt(++o.position)}return captureSegment(o,f,g,!1),!!o.result||(o.kind=X,o.result=J,!1)}function readSingleQuotedScalar(o,s){var c,p,f;if(39!==(c=o.input.charCodeAt(o.position)))return!1;for(o.kind="scalar",o.result="",o.position++,p=f=o.position;0!==(c=o.input.charCodeAt(o.position));)if(39===c){if(captureSegment(o,p,o.position,!0),39!==(c=o.input.charCodeAt(++o.position)))return!0;p=o.position,o.position++,f=o.position}else is_EOL(c)?(captureSegment(o,p,f,!0),writeFoldedLines(o,skipSeparationSpace(o,!1,s)),p=f=o.position):o.position===o.lineStart&&testDocumentSeparator(o)?throwError(o,"unexpected end of the document within a single quoted scalar"):(o.position++,f=o.position);throwError(o,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(o,s){var c,p,f,g,m,b;if(34!==(b=o.input.charCodeAt(o.position)))return!1;for(o.kind="scalar",o.result="",o.position++,c=p=o.position;0!==(b=o.input.charCodeAt(o.position));){if(34===b)return captureSegment(o,c,o.position,!0),o.position++,!0;if(92===b){if(captureSegment(o,c,o.position,!0),is_EOL(b=o.input.charCodeAt(++o.position)))skipSeparationSpace(o,!1,s);else if(b<256&&tM[b])o.result+=tA[b],o.position++;else if((m=escapedHexLen(b))>0){for(f=m,g=0;f>0;f--)(m=fromHexCode(b=o.input.charCodeAt(++o.position)))>=0?g=(g<<4)+m:throwError(o,"expected hexadecimal character");o.result+=charFromCodepoint(g),o.position++}else throwError(o,"unknown escape sequence");c=p=o.position}else is_EOL(b)?(captureSegment(o,c,p,!0),writeFoldedLines(o,skipSeparationSpace(o,!1,s)),c=p=o.position):o.position===o.lineStart&&testDocumentSeparator(o)?throwError(o,"unexpected end of the document within a double quoted scalar"):(o.position++,p=o.position)}throwError(o,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(o,s){var c,p,f,g,m,b,k,B,L,X,J,te,tr=!0,ti=o.tag,tn=o.anchor,ta=Object.create(null);if(91===(te=o.input.charCodeAt(o.position)))m=93,B=!1,g=[];else{if(123!==te)return!1;m=125,B=!0,g={}}for(null!==o.anchor&&(o.anchorMap[o.anchor]=g),te=o.input.charCodeAt(++o.position);0!==te;){if(skipSeparationSpace(o,!0,s),(te=o.input.charCodeAt(o.position))===m)return o.position++,o.tag=ti,o.anchor=tn,o.kind=B?"mapping":"sequence",o.result=g,!0;tr?44===te&&throwError(o,"expected the node content, but found ','"):throwError(o,"missed comma between flow collection entries"),X=L=J=null,b=k=!1,63===te&&is_WS_OR_EOL(o.input.charCodeAt(o.position+1))&&(b=k=!0,o.position++,skipSeparationSpace(o,!0,s)),c=o.line,p=o.lineStart,f=o.position,composeNode(o,s,1,!1,!0),X=o.tag,L=o.result,skipSeparationSpace(o,!0,s),te=o.input.charCodeAt(o.position),(k||o.line===c)&&58===te&&(b=!0,te=o.input.charCodeAt(++o.position),skipSeparationSpace(o,!0,s),composeNode(o,s,1,!1,!0),J=o.result),B?storeMappingPair(o,g,ta,X,L,J,c,p,f):b?g.push(storeMappingPair(o,null,ta,X,L,J,c,p,f)):g.push(L),skipSeparationSpace(o,!0,s),44===(te=o.input.charCodeAt(o.position))?(tr=!0,te=o.input.charCodeAt(++o.position)):tr=!1}throwError(o,"unexpected end of the stream within a flow collection")}function readBlockScalar(o,s){var c,p,f,m,b=1,k=!1,B=!1,L=s,X=0,J=!1;if(124===(m=o.input.charCodeAt(o.position)))p=!1;else{if(62!==m)return!1;p=!0}for(o.kind="scalar",o.result="";0!==m;)if(43===(m=o.input.charCodeAt(++o.position))||45===m)1===b?b=43===m?3:2:throwError(o,"repeat of a chomping mode identifier");else if((f=fromDecimalCode(m))>=0)0===f?throwError(o,"bad explicit indentation width of a block scalar; it cannot be less than one"):B?throwError(o,"repeat of an indentation width identifier"):(L=s+f-1,B=!0);else break;if(is_WHITE_SPACE(m)){do m=o.input.charCodeAt(++o.position);while(is_WHITE_SPACE(m));if(35===m)do m=o.input.charCodeAt(++o.position);while(!is_EOL(m)&&0!==m)}for(;0!==m;){for(readLineBreak(o),o.lineIndent=0,m=o.input.charCodeAt(o.position);(!B||o.lineIndent<L)&&32===m;)o.lineIndent++,m=o.input.charCodeAt(++o.position);if(!B&&o.lineIndent>L&&(L=o.lineIndent),is_EOL(m)){X++;continue}if(o.lineIndent<L){3===b?o.result+=g.repeat("\n",k?1+X:X):1===b&&k&&(o.result+="\n");break}for(p?is_WHITE_SPACE(m)?(J=!0,o.result+=g.repeat("\n",k?1+X:X)):J?(J=!1,o.result+=g.repeat("\n",X+1)):0===X?k&&(o.result+=" "):o.result+=g.repeat("\n",X):o.result+=g.repeat("\n",k?1+X:X),k=!0,B=!0,X=0,c=o.position;!is_EOL(m)&&0!==m;)m=o.input.charCodeAt(++o.position);captureSegment(o,c,o.position,!1)}return!0}function readBlockSequence(o,s){var c,p,f=o.tag,g=o.anchor,m=[],b=!1;if(-1!==o.firstTabInLine)return!1;for(null!==o.anchor&&(o.anchorMap[o.anchor]=m),p=o.input.charCodeAt(o.position);0!==p&&(-1!==o.firstTabInLine&&(o.position=o.firstTabInLine,throwError(o,"tab characters must not be used in indentation")),45===p&&is_WS_OR_EOL(o.input.charCodeAt(o.position+1)));){if(b=!0,o.position++,skipSeparationSpace(o,!0,-1)&&o.lineIndent<=s){m.push(null),p=o.input.charCodeAt(o.position);continue}if(c=o.line,composeNode(o,s,3,!1,!0),m.push(o.result),skipSeparationSpace(o,!0,-1),p=o.input.charCodeAt(o.position),(o.line===c||o.lineIndent>s)&&0!==p)throwError(o,"bad indentation of a sequence entry");else if(o.lineIndent<s)break}return!!b&&(o.tag=f,o.anchor=g,o.kind="sequence",o.result=m,!0)}function readBlockMapping(o,s,c){var p,f,g,m,b,k,B,L=o.tag,X=o.anchor,J={},te=Object.create(null),tr=null,ti=null,tn=null,ta=!1,to=!1;if(-1!==o.firstTabInLine)return!1;for(null!==o.anchor&&(o.anchorMap[o.anchor]=J),B=o.input.charCodeAt(o.position);0!==B;){if(ta||-1===o.firstTabInLine||(o.position=o.firstTabInLine,throwError(o,"tab characters must not be used in indentation")),p=o.input.charCodeAt(o.position+1),g=o.line,(63===B||58===B)&&is_WS_OR_EOL(p))63===B?(ta&&(storeMappingPair(o,J,te,tr,ti,null,m,b,k),tr=ti=tn=null),to=!0,ta=!0,f=!0):ta?(ta=!1,f=!0):throwError(o,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),o.position+=1,B=p;else{if(m=o.line,b=o.lineStart,k=o.position,!composeNode(o,c,2,!1,!0))break;if(o.line===g){for(B=o.input.charCodeAt(o.position);is_WHITE_SPACE(B);)B=o.input.charCodeAt(++o.position);if(58===B)is_WS_OR_EOL(B=o.input.charCodeAt(++o.position))||throwError(o,"a whitespace character is expected after the key-value separator within a block mapping"),ta&&(storeMappingPair(o,J,te,tr,ti,null,m,b,k),tr=ti=tn=null),to=!0,ta=!1,f=!1,tr=o.tag,ti=o.result;else{if(!to)return o.tag=L,o.anchor=X,!0;throwError(o,"can not read an implicit mapping pair; a colon is missed")}}else{if(!to)return o.tag=L,o.anchor=X,!0;throwError(o,"can not read a block mapping entry; a multiline key may not be an implicit key")}}if((o.line===g||o.lineIndent>s)&&(ta&&(m=o.line,b=o.lineStart,k=o.position),composeNode(o,s,4,!0,f)&&(ta?ti=o.result:tn=o.result),ta||(storeMappingPair(o,J,te,tr,ti,tn,m,b,k),tr=ti=tn=null),skipSeparationSpace(o,!0,-1),B=o.input.charCodeAt(o.position)),(o.line===g||o.lineIndent>s)&&0!==B)throwError(o,"bad indentation of a mapping entry");else if(o.lineIndent<s)break}return ta&&storeMappingPair(o,J,te,tr,ti,null,m,b,k),to&&(o.tag=L,o.anchor=X,o.kind="mapping",o.result=J),to}function readTagProperty(o){var s,c,p,f,g=!1,m=!1;if(33!==(f=o.input.charCodeAt(o.position)))return!1;if(null!==o.tag&&throwError(o,"duplication of a tag property"),60===(f=o.input.charCodeAt(++o.position))?(g=!0,f=o.input.charCodeAt(++o.position)):33===f?(m=!0,c="!!",f=o.input.charCodeAt(++o.position)):c="!",s=o.position,g){do f=o.input.charCodeAt(++o.position);while(0!==f&&62!==f);o.position<o.length?(p=o.input.slice(s,o.position),f=o.input.charCodeAt(++o.position)):throwError(o,"unexpected end of the stream within a verbatim tag")}else{for(;0!==f&&!is_WS_OR_EOL(f);)33===f&&(m?throwError(o,"tag suffix cannot contain exclamation marks"):(c=o.input.slice(s-1,o.position+1),tT.test(c)||throwError(o,"named tag handle cannot contain such characters"),m=!0,s=o.position+1)),f=o.input.charCodeAt(++o.position);p=o.input.slice(s,o.position),tv.test(p)&&throwError(o,"tag suffix cannot contain flow indicator characters")}p&&!tS.test(p)&&throwError(o,"tag name cannot contain such characters: "+p);try{p=decodeURIComponent(p)}catch(s){throwError(o,"tag name is malformed: "+p)}return g?o.tag=p:tC.call(o.tagMap,c)?o.tag=o.tagMap[c]+p:"!"===c?o.tag="!"+p:"!!"===c?o.tag="tag:yaml.org,2002:"+p:throwError(o,'undeclared tag handle "'+c+'"'),!0}function readAnchorProperty(o){var s,c;if(38!==(c=o.input.charCodeAt(o.position)))return!1;for(null!==o.anchor&&throwError(o,"duplication of an anchor property"),c=o.input.charCodeAt(++o.position),s=o.position;0!==c&&!is_WS_OR_EOL(c)&&!is_FLOW_INDICATOR(c);)c=o.input.charCodeAt(++o.position);return o.position===s&&throwError(o,"name of an anchor node must contain at least one character"),o.anchor=o.input.slice(s,o.position),!0}function readAlias(o){var s,c,p;if(42!==(p=o.input.charCodeAt(o.position)))return!1;for(p=o.input.charCodeAt(++o.position),s=o.position;0!==p&&!is_WS_OR_EOL(p)&&!is_FLOW_INDICATOR(p);)p=o.input.charCodeAt(++o.position);return o.position===s&&throwError(o,"name of an alias node must contain at least one character"),c=o.input.slice(s,o.position),tC.call(o.anchorMap,c)||throwError(o,'unidentified alias "'+c+'"'),o.result=o.anchorMap[c],skipSeparationSpace(o,!0,-1),!0}function composeNode(o,s,c,p,f){var g,m,b,k,B,L,X,J,te,tr=1,ti=!1,tn=!1;if(null!==o.listener&&o.listener("open",o),o.tag=null,o.anchor=null,o.kind=null,o.result=null,g=m=b=4===c||3===c,p&&skipSeparationSpace(o,!0,-1)&&(ti=!0,o.lineIndent>s?tr=1:o.lineIndent===s?tr=0:o.lineIndent<s&&(tr=-1)),1===tr)for(;readTagProperty(o)||readAnchorProperty(o);)skipSeparationSpace(o,!0,-1)?(ti=!0,b=g,o.lineIndent>s?tr=1:o.lineIndent===s?tr=0:o.lineIndent<s&&(tr=-1)):b=!1;if(b&&(b=ti||f),(1===tr||4===c)&&(J=1===c||2===c?s:s+1,te=o.position-o.lineStart,1===tr?b&&(readBlockSequence(o,te)||readBlockMapping(o,te,J))||readFlowCollection(o,J)?tn=!0:(m&&readBlockScalar(o,J)||readSingleQuotedScalar(o,J)||readDoubleQuotedScalar(o,J)?tn=!0:readAlias(o)?(tn=!0,(null!==o.tag||null!==o.anchor)&&throwError(o,"alias node should not have any properties")):readPlainScalar(o,J,1===c)&&(tn=!0,null===o.tag&&(o.tag="?")),null!==o.anchor&&(o.anchorMap[o.anchor]=o.result)):0===tr&&(tn=b&&readBlockSequence(o,te))),null===o.tag)null!==o.anchor&&(o.anchorMap[o.anchor]=o.result);else if("?"===o.tag){for(null!==o.result&&"scalar"!==o.kind&&throwError(o,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+o.kind+'"'),k=0,B=o.implicitTypes.length;k<B;k+=1)if((X=o.implicitTypes[k]).resolve(o.result)){o.result=X.construct(o.result),o.tag=X.tag,null!==o.anchor&&(o.anchorMap[o.anchor]=o.result);break}}else if("!"!==o.tag){if(tC.call(o.typeMap[o.kind||"fallback"],o.tag))X=o.typeMap[o.kind||"fallback"][o.tag];else for(k=0,X=null,B=(L=o.typeMap.multi[o.kind||"fallback"]).length;k<B;k+=1)if(o.tag.slice(0,L[k].tag.length)===L[k].tag){X=L[k];break}X||throwError(o,"unknown tag !<"+o.tag+">"),null!==o.result&&X.kind!==o.kind&&throwError(o,"unacceptable node kind for !<"+o.tag+'> tag; it should be "'+X.kind+'", not "'+o.kind+'"'),X.resolve(o.result,o.tag)?(o.result=X.construct(o.result,o.tag),null!==o.anchor&&(o.anchorMap[o.anchor]=o.result)):throwError(o,"cannot resolve a node with !<"+o.tag+"> explicit tag")}return null!==o.listener&&o.listener("close",o),null!==o.tag||null!==o.anchor||tn}function readDocument(o){var s,c,p,f,g=o.position,m=!1;for(o.version=null,o.checkLineBreaks=o.legacy,o.tagMap=Object.create(null),o.anchorMap=Object.create(null);0!==(f=o.input.charCodeAt(o.position))&&(skipSeparationSpace(o,!0,-1),f=o.input.charCodeAt(o.position),!(o.lineIndent>0)&&37===f);){for(m=!0,f=o.input.charCodeAt(++o.position),s=o.position;0!==f&&!is_WS_OR_EOL(f);)f=o.input.charCodeAt(++o.position);for(c=o.input.slice(s,o.position),p=[],c.length<1&&throwError(o,"directive name must not be less than one character in length");0!==f;){for(;is_WHITE_SPACE(f);)f=o.input.charCodeAt(++o.position);if(35===f){do f=o.input.charCodeAt(++o.position);while(0!==f&&!is_EOL(f));break}if(is_EOL(f))break;for(s=o.position;0!==f&&!is_WS_OR_EOL(f);)f=o.input.charCodeAt(++o.position);p.push(o.input.slice(s,o.position))}0!==f&&readLineBreak(o),tC.call(tB,c)?tB[c](o,c,p):throwWarning(o,'unknown document directive "'+c+'"')}if(skipSeparationSpace(o,!0,-1),0===o.lineIndent&&45===o.input.charCodeAt(o.position)&&45===o.input.charCodeAt(o.position+1)&&45===o.input.charCodeAt(o.position+2)?(o.position+=3,skipSeparationSpace(o,!0,-1)):m&&throwError(o,"directives end mark is expected"),composeNode(o,o.lineIndent-1,4,!1,!0),skipSeparationSpace(o,!0,-1),o.checkLineBreaks&&tw.test(o.input.slice(g,o.position))&&throwWarning(o,"non-ASCII line breaks are interpreted as content"),o.documents.push(o.result),o.position===o.lineStart&&testDocumentSeparator(o)){46===o.input.charCodeAt(o.position)&&(o.position+=3,skipSeparationSpace(o,!0,-1));return}o.position<o.length-1&&throwError(o,"end of the stream or a document separator is expected")}function loadDocuments(o,s){o=String(o),s=s||{},0!==o.length&&(10!==o.charCodeAt(o.length-1)&&13!==o.charCodeAt(o.length-1)&&(o+="\n"),65279===o.charCodeAt(0)&&(o=o.slice(1)));var c=new State$1(o,s),p=o.indexOf("\x00");for(-1!==p&&(c.position=p,throwError(c,"null byte is not allowed in input")),c.input+="\x00";32===c.input.charCodeAt(c.position);)c.lineIndent+=1,c.position+=1;for(;c.position<c.length-1;)readDocument(c);return c.documents}function loadAll$1(o,s,c){null!==s&&"object"==typeof s&&void 0===c&&(c=s,s=null);var p=loadDocuments(o,c);if("function"!=typeof s)return p;for(var f=0,g=p.length;f<g;f+=1)s(p[f])}function load$1(o,s){var c=loadDocuments(o,s);if(0!==c.length){if(1===c.length)return c[0];throw new YAMLException$1("expected a single document in the stream, but found more")}}(0,f.eW)(captureSegment,"captureSegment"),(0,f.eW)(mergeMappings,"mergeMappings"),(0,f.eW)(storeMappingPair,"storeMappingPair"),(0,f.eW)(readLineBreak,"readLineBreak"),(0,f.eW)(skipSeparationSpace,"skipSeparationSpace"),(0,f.eW)(testDocumentSeparator,"testDocumentSeparator"),(0,f.eW)(writeFoldedLines,"writeFoldedLines"),(0,f.eW)(readPlainScalar,"readPlainScalar"),(0,f.eW)(readSingleQuotedScalar,"readSingleQuotedScalar"),(0,f.eW)(readDoubleQuotedScalar,"readDoubleQuotedScalar"),(0,f.eW)(readFlowCollection,"readFlowCollection"),(0,f.eW)(readBlockScalar,"readBlockScalar"),(0,f.eW)(readBlockSequence,"readBlockSequence"),(0,f.eW)(readBlockMapping,"readBlockMapping"),(0,f.eW)(readTagProperty,"readTagProperty"),(0,f.eW)(readAnchorProperty,"readAnchorProperty"),(0,f.eW)(readAlias,"readAlias"),(0,f.eW)(composeNode,"composeNode"),(0,f.eW)(readDocument,"readDocument"),(0,f.eW)(loadDocuments,"loadDocuments"),(0,f.eW)(loadAll$1,"loadAll$1"),(0,f.eW)(load$1,"load$1");var tL={loadAll:loadAll$1,load:load$1},tF=Object.prototype.toString,tE=Object.prototype.hasOwnProperty,tW={};tW[0]="\\0",tW[7]="\\a",tW[8]="\\b",tW[9]="\\t",tW[10]="\\n",tW[11]="\\v",tW[12]="\\f",tW[13]="\\r",tW[27]="\\e",tW[34]='\\"',tW[92]="\\\\",tW[133]="\\N",tW[160]="\\_",tW[8232]="\\L",tW[8233]="\\P";var t$=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],tP=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(o,s){var c,p,f,g,m,b,k;if(null===s)return{};for(f=0,c={},g=(p=Object.keys(s)).length;f<g;f+=1)b=String(s[m=p[f]]),"!!"===m.slice(0,2)&&(m="tag:yaml.org,2002:"+m.slice(2)),(k=o.compiledTypeMap.fallback[m])&&tE.call(k.styleAliases,b)&&(b=k.styleAliases[b]),c[m]=b;return c}function encodeHex(o){var s,c,p;if(s=o.toString(16).toUpperCase(),o<=255)c="x",p=2;else if(o<=65535)c="u",p=4;else if(o<=4294967295)c="U",p=8;else throw new YAMLException$1("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+c+g.repeat("0",p-s.length)+s}function State(o){this.schema=o.schema||tb,this.indent=Math.max(1,o.indent||2),this.noArrayIndent=o.noArrayIndent||!1,this.skipInvalid=o.skipInvalid||!1,this.flowLevel=g.isNothing(o.flowLevel)?-1:o.flowLevel,this.styleMap=compileStyleMap(this.schema,o.styles||null),this.sortKeys=o.sortKeys||!1,this.lineWidth=o.lineWidth||80,this.noRefs=o.noRefs||!1,this.noCompatMode=o.noCompatMode||!1,this.condenseFlow=o.condenseFlow||!1,this.quotingType='"'===o.quotingType?2:1,this.forceQuotes=o.forceQuotes||!1,this.replacer="function"==typeof o.replacer?o.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(o,s){for(var c,p=g.repeat(" ",s),f=0,m=-1,b="",k=o.length;f<k;)-1===(m=o.indexOf("\n",f))?(c=o.slice(f),f=k):(c=o.slice(f,m+1),f=m+1),c.length&&"\n"!==c&&(b+=p),b+=c;return b}function generateNextLine(o,s){return"\n"+g.repeat(" ",o.indent*s)}function testImplicitResolving(o,s){var c,p;for(c=0,p=o.implicitTypes.length;c<p;c+=1)if(o.implicitTypes[c].resolve(s))return!0;return!1}function isWhitespace(o){return 32===o||9===o}function isPrintable(o){return 32<=o&&o<=126||161<=o&&o<=55295&&8232!==o&&8233!==o||57344<=o&&o<=65533&&65279!==o||65536<=o&&o<=1114111}function isNsCharOrWhitespace(o){return isPrintable(o)&&65279!==o&&13!==o&&10!==o}function isPlainSafe(o,s,c){var p=isNsCharOrWhitespace(o),f=p&&!isWhitespace(o);return(c?p:p&&44!==o&&91!==o&&93!==o&&123!==o&&125!==o)&&35!==o&&!(58===s&&!f)||isNsCharOrWhitespace(s)&&!isWhitespace(s)&&35===o||58===s&&f}function isPlainSafeFirst(o){return isPrintable(o)&&65279!==o&&!isWhitespace(o)&&45!==o&&63!==o&&58!==o&&44!==o&&91!==o&&93!==o&&123!==o&&125!==o&&35!==o&&38!==o&&42!==o&&33!==o&&124!==o&&61!==o&&62!==o&&39!==o&&34!==o&&37!==o&&64!==o&&96!==o}function isPlainSafeLast(o){return!isWhitespace(o)&&58!==o}function codePointAt(o,s){var c,p=o.charCodeAt(s);return p>=55296&&p<=56319&&s+1<o.length&&(c=o.charCodeAt(s+1))>=56320&&c<=57343?(p-55296)*1024+c-56320+65536:p}function needIndentIndicator(o){return/^\n* /.test(o)}function chooseScalarStyle(o,s,c,p,f,g,m,b){var k,B=0,L=null,X=!1,J=!1,te=-1!==p,tr=-1,ti=isPlainSafeFirst(codePointAt(o,0))&&isPlainSafeLast(codePointAt(o,o.length-1));if(s||m)for(k=0;k<o.length;B>=65536?k+=2:k++){if(!isPrintable(B=codePointAt(o,k)))return 5;ti=ti&&isPlainSafe(B,L,b),L=B}else{for(k=0;k<o.length;B>=65536?k+=2:k++){if(10===(B=codePointAt(o,k)))X=!0,te&&(J=J||k-tr-1>p&&" "!==o[tr+1],tr=k);else if(!isPrintable(B))return 5;ti=ti&&isPlainSafe(B,L,b),L=B}J=J||te&&k-tr-1>p&&" "!==o[tr+1]}return X||J?c>9&&needIndentIndicator(o)?5:m?2===g?5:2:J?4:3:!ti||m||f(o)?2===g?5:2:1}function writeScalar(o,s,c,p,g){o.dump=function(){if(0===s.length)return 2===o.quotingType?'""':"''";if(!o.noCompatMode&&(-1!==t$.indexOf(s)||tP.test(s)))return 2===o.quotingType?'"'+s+'"':"'"+s+"'";var m=o.indent*Math.max(1,c),b=-1===o.lineWidth?-1:Math.max(Math.min(o.lineWidth,40),o.lineWidth-m),k=p||o.flowLevel>-1&&c>=o.flowLevel;function testAmbiguity(s){return testImplicitResolving(o,s)}switch((0,f.eW)(testAmbiguity,"testAmbiguity"),chooseScalarStyle(s,k,o.indent,b,testAmbiguity,o.quotingType,o.forceQuotes&&!p,g)){case 1:return s;case 2:return"'"+s.replace(/'/g,"''")+"'";case 3:return"|"+blockHeader(s,o.indent)+dropEndingNewline(indentString(s,m));case 4:return">"+blockHeader(s,o.indent)+dropEndingNewline(indentString(foldString(s,b),m));case 5:return'"'+escapeString(s)+'"';default:throw new YAMLException$1("impossible error: invalid scalar style")}}()}function blockHeader(o,s){var c=needIndentIndicator(o)?String(s):"",p="\n"===o[o.length-1];return c+(p&&("\n"===o[o.length-2]||"\n"===o)?"+":p?"":"-")+"\n"}function dropEndingNewline(o){return"\n"===o[o.length-1]?o.slice(0,-1):o}function foldString(o,s){for(var c,p,f,g=/(\n+)([^\n]*)/g,m=(c=-1!==(c=o.indexOf("\n"))?c:o.length,g.lastIndex=c,foldLine(o.slice(0,c),s)),b="\n"===o[0]||" "===o[0];f=g.exec(o);){var k=f[1],B=f[2];p=" "===B[0],m+=k+(b||p||""===B?"":"\n")+foldLine(B,s),b=p}return m}function foldLine(o,s){if(""===o||" "===o[0])return o;for(var c,p,f=/ [^ ]/g,g=0,m=0,b=0,k="";c=f.exec(o);)(b=c.index)-g>s&&(p=m>g?m:b,k+="\n"+o.slice(g,p),g=p+1),m=b;return k+="\n",o.length-g>s&&m>g?k+=o.slice(g,m)+"\n"+o.slice(m+1):k+=o.slice(g),k.slice(1)}function escapeString(o){for(var s,c="",p=0,f=0;f<o.length;p>=65536?f+=2:f++)!(s=tW[p=codePointAt(o,f)])&&isPrintable(p)?(c+=o[f],p>=65536&&(c+=o[f+1])):c+=s||encodeHex(p);return c}function writeFlowSequence(o,s,c){var p,f,g,m="",b=o.tag;for(p=0,f=c.length;p<f;p+=1)g=c[p],o.replacer&&(g=o.replacer.call(c,String(p),g)),(writeNode(o,s,g,!1,!1)||void 0===g&&writeNode(o,s,null,!1,!1))&&(""!==m&&(m+=","+(o.condenseFlow?"":" ")),m+=o.dump);o.tag=b,o.dump="["+m+"]"}function writeBlockSequence(o,s,c,p){var f,g,m,b="",k=o.tag;for(f=0,g=c.length;f<g;f+=1)m=c[f],o.replacer&&(m=o.replacer.call(c,String(f),m)),(writeNode(o,s+1,m,!0,!0,!1,!0)||void 0===m&&writeNode(o,s+1,null,!0,!0,!1,!0))&&(p&&""===b||(b+=generateNextLine(o,s)),o.dump&&10===o.dump.charCodeAt(0)?b+="-":b+="- ",b+=o.dump);o.tag=k,o.dump=b||"[]"}function writeFlowMapping(o,s,c){var p,f,g,m,b,k="",B=o.tag,L=Object.keys(c);for(p=0,f=L.length;p<f;p+=1)b="",""!==k&&(b+=", "),o.condenseFlow&&(b+='"'),m=c[g=L[p]],o.replacer&&(m=o.replacer.call(c,g,m)),writeNode(o,s,g,!1,!1)&&(o.dump.length>1024&&(b+="? "),b+=o.dump+(o.condenseFlow?'"':"")+":"+(o.condenseFlow?"":" "),writeNode(o,s,m,!1,!1)&&(b+=o.dump,k+=b));o.tag=B,o.dump="{"+k+"}"}function writeBlockMapping(o,s,c,p){var f,g,m,b,k,B,L="",X=o.tag,J=Object.keys(c);if(!0===o.sortKeys)J.sort();else if("function"==typeof o.sortKeys)J.sort(o.sortKeys);else if(o.sortKeys)throw new YAMLException$1("sortKeys must be a boolean or a function");for(f=0,g=J.length;f<g;f+=1)B="",p&&""===L||(B+=generateNextLine(o,s)),b=c[m=J[f]],o.replacer&&(b=o.replacer.call(c,m,b)),writeNode(o,s+1,m,!0,!0,!0)&&((k=null!==o.tag&&"?"!==o.tag||o.dump&&o.dump.length>1024)&&(o.dump&&10===o.dump.charCodeAt(0)?B+="?":B+="? "),B+=o.dump,k&&(B+=generateNextLine(o,s)),writeNode(o,s+1,b,!0,k)&&(o.dump&&10===o.dump.charCodeAt(0)?B+=":":B+=": ",B+=o.dump,L+=B));o.tag=X,o.dump=L||"{}"}function detectType(o,s,c){var p,f,g,m,b,k;for(g=0,m=(f=c?o.explicitTypes:o.implicitTypes).length;g<m;g+=1)if(((b=f[g]).instanceOf||b.predicate)&&(!b.instanceOf||"object"==typeof s&&s instanceof b.instanceOf)&&(!b.predicate||b.predicate(s))){if(c?b.multi&&b.representName?o.tag=b.representName(s):o.tag=b.tag:o.tag="?",b.represent){if(k=o.styleMap[b.tag]||b.defaultStyle,"[object Function]"===tF.call(b.represent))p=b.represent(s,k);else if(tE.call(b.represent,k))p=b.represent[k](s,k);else throw new YAMLException$1("!<"+b.tag+'> tag resolver accepts not "'+k+'" style');o.dump=p}return!0}return!1}function writeNode(o,s,c,p,f,g,m){o.tag=null,o.dump=c,detectType(o,c,!1)||detectType(o,c,!0);var b=tF.call(o.dump),k=p;p&&(p=o.flowLevel<0||o.flowLevel>s);var B,L,X,J="[object Object]"===b||"[object Array]"===b;if(J&&(X=-1!==(L=o.duplicates.indexOf(c))),(null!==o.tag&&"?"!==o.tag||X||2!==o.indent&&s>0)&&(f=!1),X&&o.usedDuplicates[L])o.dump="*ref_"+L;else{if(J&&X&&!o.usedDuplicates[L]&&(o.usedDuplicates[L]=!0),"[object Object]"===b)p&&0!==Object.keys(o.dump).length?(writeBlockMapping(o,s,o.dump,f),X&&(o.dump="&ref_"+L+o.dump)):(writeFlowMapping(o,s,o.dump),X&&(o.dump="&ref_"+L+" "+o.dump));else if("[object Array]"===b)p&&0!==o.dump.length?(o.noArrayIndent&&!m&&s>0?writeBlockSequence(o,s-1,o.dump,f):writeBlockSequence(o,s,o.dump,f),X&&(o.dump="&ref_"+L+o.dump)):(writeFlowSequence(o,s,o.dump),X&&(o.dump="&ref_"+L+" "+o.dump));else if("[object String]"===b)"?"!==o.tag&&writeScalar(o,o.dump,s,g,k);else{if("[object Undefined]"===b||o.skipInvalid)return!1;throw new YAMLException$1("unacceptable kind of an object to dump "+b)}null!==o.tag&&"?"!==o.tag&&(B=encodeURI("!"===o.tag[0]?o.tag.slice(1):o.tag).replace(/!/g,"%21"),B="!"===o.tag[0]?"!"+B:"tag:yaml.org,2002:"===B.slice(0,18)?"!!"+B.slice(18):"!<"+B+">",o.dump=B+" "+o.dump)}return!0}function getDuplicateReferences(o,s){var c,p,f=[],g=[];for(inspectNode(o,f,g),c=0,p=g.length;c<p;c+=1)s.duplicates.push(f[g[c]]);s.usedDuplicates=Array(p)}function inspectNode(o,s,c){var p,f,g;if(null!==o&&"object"==typeof o){if(-1!==(f=s.indexOf(o)))-1===c.indexOf(f)&&c.push(f);else if(s.push(o),Array.isArray(o))for(f=0,g=o.length;f<g;f+=1)inspectNode(o[f],s,c);else for(f=0,g=(p=Object.keys(o)).length;f<g;f+=1)inspectNode(o[p[f]],s,c)}}function renamed(o,s){return function(){throw Error("Function yaml."+o+" is removed in js-yaml 4. Use yaml."+s+" instead, which is now safe by default.")}}(0,f.eW)(compileStyleMap,"compileStyleMap"),(0,f.eW)(encodeHex,"encodeHex"),(0,f.eW)(State,"State"),(0,f.eW)(indentString,"indentString"),(0,f.eW)(generateNextLine,"generateNextLine"),(0,f.eW)(testImplicitResolving,"testImplicitResolving"),(0,f.eW)(isWhitespace,"isWhitespace"),(0,f.eW)(isPrintable,"isPrintable"),(0,f.eW)(isNsCharOrWhitespace,"isNsCharOrWhitespace"),(0,f.eW)(isPlainSafe,"isPlainSafe"),(0,f.eW)(isPlainSafeFirst,"isPlainSafeFirst"),(0,f.eW)(isPlainSafeLast,"isPlainSafeLast"),(0,f.eW)(codePointAt,"codePointAt"),(0,f.eW)(needIndentIndicator,"needIndentIndicator"),(0,f.eW)(chooseScalarStyle,"chooseScalarStyle"),(0,f.eW)(writeScalar,"writeScalar"),(0,f.eW)(blockHeader,"blockHeader"),(0,f.eW)(dropEndingNewline,"dropEndingNewline"),(0,f.eW)(foldString,"foldString"),(0,f.eW)(foldLine,"foldLine"),(0,f.eW)(escapeString,"escapeString"),(0,f.eW)(writeFlowSequence,"writeFlowSequence"),(0,f.eW)(writeBlockSequence,"writeBlockSequence"),(0,f.eW)(writeFlowMapping,"writeFlowMapping"),(0,f.eW)(writeBlockMapping,"writeBlockMapping"),(0,f.eW)(detectType,"detectType"),(0,f.eW)(writeNode,"writeNode"),(0,f.eW)(getDuplicateReferences,"getDuplicateReferences"),(0,f.eW)(inspectNode,"inspectNode"),(0,f.eW)(function(o,s){s=s||{};var c=new State(s);c.noRefs||getDuplicateReferences(o,c);var p=o;return(c.replacer&&(p=c.replacer.call({"":p},"",p)),writeNode(c,0,p,!0,!0))?c.dump+"\n":""},"dump$1"),(0,f.eW)(renamed,"renamed");var tD=to,tO=tL.load;tL.loadAll,renamed("safeLoad","load"),renamed("safeLoadAll","loadAll"),renamed("safeDump","dump");/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/},2208:(o,s,c)=>{"use strict";c.d(s,{DQ:()=>tk,I_:()=>to,Jj:()=>ts,QP:()=>tp,ZH:()=>tn});var p=c(2809),f=c(894),g=c(9344),m=c(1412),b=c(5968),k=c(8554),B=c(4665),L=c(5611),X=(0,k.eW)((o,s,c,p,f)=>{s.arrowTypeStart&&te(o,"start",s.arrowTypeStart,c,p,f),s.arrowTypeEnd&&te(o,"end",s.arrowTypeEnd,c,p,f)},"addEdgeMarkers"),J={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},te=(0,k.eW)((o,s,c,p,f,g)=>{let m=J[c];if(!m){k.cM.warn(`Unknown arrow type: ${c}`);return}let b="start"===s?"Start":"End";o.attr(`marker-${s}`,`url(${p}#${f}_${g}-${m}${b})`)},"addEdgeMarker"),tr=new Map,ti=new Map,tn=(0,k.eW)(()=>{tr.clear(),ti.clear()},"clear"),ta=(0,k.eW)(o=>o?o.reduce((o,s)=>o+";"+s,""):"","getLabelStyles"),to=(0,k.eW)(async(o,s)=>{let c,f=(0,k.ku)((0,k.nV)().flowchart.htmlLabels),g=await (0,m.rw)(o,s.label,{style:ta(s.labelStyle),useHtmlLabels:f,addSvgBackground:!0,isNode:!1});k.cM.info("abc82",s,s.labelType);let b=o.insert("g").attr("class","edgeLabel"),L=b.insert("g").attr("class","label");L.node().appendChild(g);let X=g.getBBox();if(f){let o=g.children[0],s=(0,B.Ys)(g);X=o.getBoundingClientRect(),s.attr("width",X.width),s.attr("height",X.height)}if(L.attr("transform","translate("+-X.width/2+", "+-X.height/2+")"),tr.set(s.id,b),s.width=X.width,s.height=X.height,s.startLabelLeft){let f=await (0,p.XO)(s.startLabelLeft,ta(s.labelStyle)),g=o.insert("g").attr("class","edgeTerminals"),m=g.insert("g").attr("class","inner");c=m.node().appendChild(f);let b=f.getBBox();m.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),ti.get(s.id)||ti.set(s.id,{}),ti.get(s.id).startLeft=g,setTerminalWidth(c,s.startLabelLeft)}if(s.startLabelRight){let f=await (0,p.XO)(s.startLabelRight,ta(s.labelStyle)),g=o.insert("g").attr("class","edgeTerminals"),m=g.insert("g").attr("class","inner");c=g.node().appendChild(f),m.node().appendChild(f);let b=f.getBBox();m.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),ti.get(s.id)||ti.set(s.id,{}),ti.get(s.id).startRight=g,setTerminalWidth(c,s.startLabelRight)}if(s.endLabelLeft){let f=await (0,p.XO)(s.endLabelLeft,ta(s.labelStyle)),g=o.insert("g").attr("class","edgeTerminals"),m=g.insert("g").attr("class","inner");c=m.node().appendChild(f);let b=f.getBBox();m.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),g.node().appendChild(f),ti.get(s.id)||ti.set(s.id,{}),ti.get(s.id).endLeft=g,setTerminalWidth(c,s.endLabelLeft)}if(s.endLabelRight){let f=await (0,p.XO)(s.endLabelRight,ta(s.labelStyle)),g=o.insert("g").attr("class","edgeTerminals"),m=g.insert("g").attr("class","inner");c=m.node().appendChild(f);let b=f.getBBox();m.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),g.node().appendChild(f),ti.get(s.id)||ti.set(s.id,{}),ti.get(s.id).endRight=g,setTerminalWidth(c,s.endLabelRight)}return g},"insertEdgeLabel");function setTerminalWidth(o,s){(0,k.nV)().flowchart.htmlLabels&&o&&(o.style.width=9*s.length+"px",o.style.height="12px")}(0,k.eW)(setTerminalWidth,"setTerminalWidth");var ts=(0,k.eW)((o,s)=>{k.cM.debug("Moving label abc88 ",o.id,o.label,tr.get(o.id),s);let c=s.updatedPath?s.updatedPath:s.originalPath,p=(0,k.nV)(),{subGraphTitleTotalMargin:f}=(0,g.L)(p);if(o.label){let p=tr.get(o.id),g=o.x,m=o.y;if(c){let p=b.w8.calcLabelPosition(c);k.cM.debug("Moving label "+o.label+" from (",g,",",m,") to (",p.x,",",p.y,") abc88"),s.updatedPath&&(g=p.x,m=p.y)}p.attr("transform",`translate(${g}, ${m+f/2})`)}if(o.startLabelLeft){let s=ti.get(o.id).startLeft,p=o.x,f=o.y;if(c){let s=b.w8.calcTerminalLabelPosition(o.arrowTypeStart?10:0,"start_left",c);p=s.x,f=s.y}s.attr("transform",`translate(${p}, ${f})`)}if(o.startLabelRight){let s=ti.get(o.id).startRight,p=o.x,f=o.y;if(c){let s=b.w8.calcTerminalLabelPosition(o.arrowTypeStart?10:0,"start_right",c);p=s.x,f=s.y}s.attr("transform",`translate(${p}, ${f})`)}if(o.endLabelLeft){let s=ti.get(o.id).endLeft,p=o.x,f=o.y;if(c){let s=b.w8.calcTerminalLabelPosition(o.arrowTypeEnd?10:0,"end_left",c);p=s.x,f=s.y}s.attr("transform",`translate(${p}, ${f})`)}if(o.endLabelRight){let s=ti.get(o.id).endRight,p=o.x,f=o.y;if(c){let s=b.w8.calcTerminalLabelPosition(o.arrowTypeEnd?10:0,"end_right",c);p=s.x,f=s.y}s.attr("transform",`translate(${p}, ${f})`)}},"positionEdgeLabel"),tl=(0,k.eW)((o,s)=>{let c=o.x,p=o.y,f=Math.abs(s.x-c),g=Math.abs(s.y-p),m=o.width/2,b=o.height/2;return f>=m||g>=b},"outsideNode"),th=(0,k.eW)((o,s,c)=>{k.cM.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(s)}
  insidePoint : ${JSON.stringify(c)}
  node        : x:${o.x} y:${o.y} w:${o.width} h:${o.height}`);let p=o.x,f=o.y,g=Math.abs(p-c.x),m=o.width/2,b=c.x<s.x?m-g:m+g,B=o.height/2,L=Math.abs(s.y-c.y),X=Math.abs(s.x-c.x);if(Math.abs(f-s.y)*m>Math.abs(p-s.x)*B){let o=c.y<s.y?s.y-B-f:f-B-s.y;b=X*o/L;let p={x:c.x<s.x?c.x+b:c.x-X+b,y:c.y<s.y?c.y+L-o:c.y-L+o};return 0===b&&(p.x=s.x,p.y=s.y),0===X&&(p.x=s.x),0===L&&(p.y=s.y),k.cM.debug(`abc89 top/bottom calc, Q ${L}, q ${o}, R ${X}, r ${b}`,p),p}{let o=L*(b=c.x<s.x?s.x-m-p:p-m-s.x)/X,f=c.x<s.x?c.x+X-b:c.x-X+b,g=c.y<s.y?c.y+o:c.y-o;return k.cM.debug(`sides calc abc89, Q ${L}, q ${o}, R ${X}, r ${b}`,{_x:f,_y:g}),0===b&&(f=s.x,g=s.y),0===X&&(f=s.x),0===L&&(g=s.y),{x:f,y:g}}},"intersection"),tc=(0,k.eW)((o,s)=>{k.cM.warn("abc88 cutPathAtIntersect",o,s);let c=[],p=o[0],f=!1;return o.forEach(o=>{if(k.cM.info("abc88 checking point",o,s),tl(s,o)||f)k.cM.warn("abc88 outside",o,p),p=o,f||c.push(o);else{let g=th(s,p,o);k.cM.debug("abc88 inside",o,p,g),k.cM.debug("abc88 intersection",g,s);let m=!1;c.forEach(o=>{m=m||o.x===g.x&&o.y===g.y}),c.some(o=>o.x===g.x&&o.y===g.y)?k.cM.warn("abc88 no intersect",g,c):c.push(g),f=!0}}),k.cM.debug("returning points",c),c},"cutPathAtIntersect");function extractCornerPoints(o){let s=[],c=[];for(let p=1;p<o.length-1;p++){let f=o[p-1],g=o[p],m=o[p+1];f.x===g.x&&g.y===m.y&&Math.abs(g.x-m.x)>5&&Math.abs(g.y-f.y)>5?(s.push(g),c.push(p)):f.y===g.y&&g.x===m.x&&Math.abs(g.x-f.x)>5&&Math.abs(g.y-m.y)>5&&(s.push(g),c.push(p))}return{cornerPoints:s,cornerPointPositions:c}}(0,k.eW)(extractCornerPoints,"extractCornerPoints");var tu=(0,k.eW)(function(o,s,c){let p=s.x-o.x,f=s.y-o.y,g=Math.sqrt(p*p+f*f),m=c/g;return{x:s.x-m*p,y:s.y-m*f}},"findAdjacentPoint"),td=(0,k.eW)(function(o){let{cornerPointPositions:s}=extractCornerPoints(o),c=[];for(let p=0;p<o.length;p++)if(s.includes(p)){let s=o[p-1],f=o[p+1],g=o[p],m=tu(s,g,5),b=tu(f,g,5),B=b.x-m.x,L=b.y-m.y;c.push(m);let X=2*Math.sqrt(2),J={x:g.x,y:g.y};Math.abs(f.x-s.x)>10&&Math.abs(f.y-s.y)>=10?(k.cM.debug("Corner point fixing",Math.abs(f.x-s.x),Math.abs(f.y-s.y)),J=g.x===m.x?{x:B<0?m.x-5+X:m.x+5-X,y:L<0?m.y-X:m.y+X}:{x:B<0?m.x-X:m.x+X,y:L<0?m.y-5+X:m.y+5-X}):k.cM.debug("Corner point skipping fixing",Math.abs(f.x-s.x),Math.abs(f.y-s.y)),c.push(J,b)}else c.push(o[p]);return c},"fixCorners"),tp=(0,k.eW)(function(o,s,c,p,g,m,b){let J,te;let{handDrawnSeed:tr}=(0,k.nV)(),ti=s.points,tn=!1;m.intersect&&g.intersect&&((ti=ti.slice(1,s.points.length-1)).unshift(g.intersect(ti[0])),k.cM.debug("Last point APA12",s.start,"-->",s.end,ti[ti.length-1],m,m.intersect(ti[ti.length-1])),ti.push(m.intersect(ti[ti.length-1]))),s.toCluster&&(k.cM.info("to cluster abc88",c.get(s.toCluster)),ti=tc(s.points,c.get(s.toCluster).node),tn=!0),s.fromCluster&&(k.cM.debug("from cluster abc88",c.get(s.fromCluster),JSON.stringify(ti,null,2)),ti=tc(ti.reverse(),c.get(s.fromCluster).node).reverse(),tn=!0);let ta=ti.filter(o=>!Number.isNaN(o.y));ta=td(ta);let to=B.$0Z;s.curve&&(to=s.curve);let{x:ts,y:tl}=(0,f.o)(s),th=(0,B.jvg)().x(ts).y(tl).curve(to);switch(s.thickness){case"normal":default:J="edge-thickness-normal";break;case"thick":J="edge-thickness-thick";break;case"invisible":J="edge-thickness-invisible"}switch(s.pattern){case"solid":default:J+=" edge-pattern-solid";break;case"dotted":J+=" edge-pattern-dotted";break;case"dashed":J+=" edge-pattern-dashed"}let tu=th(ta),tp=Array.isArray(s.style)?s.style:[s.style];if("handDrawn"===s.look){let c=L.svg(o);Object.assign([],ta);let p=c.path(tu,{roughness:.3,seed:tr});J+=" transition";let f=(te=(0,B.Ys)(p).select("path").attr("id",s.id).attr("class"," "+J+(s.classes?" "+s.classes:"")).attr("style",tp?tp.reduce((o,s)=>o+";"+s,""):"")).attr("d");te.attr("d",f),o.node().appendChild(te.node())}else te=o.append("path").attr("d",tu).attr("id",s.id).attr("class"," "+J+(s.classes?" "+s.classes:"")).attr("style",tp?tp.reduce((o,s)=>o+";"+s,""):"");let tf="";((0,k.nV)().flowchart.arrowMarkerAbsolute||(0,k.nV)().state.arrowMarkerAbsolute)&&(tf=(tf=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(").replace(/\)/g,"\\)")),k.cM.info("arrowTypeStart",s.arrowTypeStart),k.cM.info("arrowTypeEnd",s.arrowTypeEnd),X(te,s,tf,b,p);let tg={};return tn&&(tg.updatedPath=ti),tg.originalPath=s.points,tg},"insertEdge"),tf=(0,k.eW)((o,s,c,p)=>{s.forEach(s=>{tC[s](o,c,p)})},"insertMarkers"),tg=(0,k.eW)((o,s,c)=>{k.cM.trace("Making markers for ",c),o.append("defs").append("marker").attr("id",c+"_"+s+"-extensionStart").attr("class","marker extension "+s).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),o.append("defs").append("marker").attr("id",c+"_"+s+"-extensionEnd").attr("class","marker extension "+s).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),tm=(0,k.eW)((o,s,c)=>{o.append("defs").append("marker").attr("id",c+"_"+s+"-compositionStart").attr("class","marker composition "+s).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),o.append("defs").append("marker").attr("id",c+"_"+s+"-compositionEnd").attr("class","marker composition "+s).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),ty=(0,k.eW)((o,s,c)=>{o.append("defs").append("marker").attr("id",c+"_"+s+"-aggregationStart").attr("class","marker aggregation "+s).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),o.append("defs").append("marker").attr("id",c+"_"+s+"-aggregationEnd").attr("class","marker aggregation "+s).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),t_=(0,k.eW)((o,s,c)=>{o.append("defs").append("marker").attr("id",c+"_"+s+"-dependencyStart").attr("class","marker dependency "+s).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),o.append("defs").append("marker").attr("id",c+"_"+s+"-dependencyEnd").attr("class","marker dependency "+s).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),tx=(0,k.eW)((o,s,c)=>{o.append("defs").append("marker").attr("id",c+"_"+s+"-lollipopStart").attr("class","marker lollipop "+s).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),o.append("defs").append("marker").attr("id",c+"_"+s+"-lollipopEnd").attr("class","marker lollipop "+s).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),tb=(0,k.eW)((o,s,c)=>{o.append("marker").attr("id",c+"_"+s+"-pointEnd").attr("class","marker "+s).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),o.append("marker").attr("id",c+"_"+s+"-pointStart").attr("class","marker "+s).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),tC={extension:tg,composition:tm,aggregation:ty,dependency:t_,lollipop:tx,point:tb,circle:(0,k.eW)((o,s,c)=>{o.append("marker").attr("id",c+"_"+s+"-circleEnd").attr("class","marker "+s).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),o.append("marker").attr("id",c+"_"+s+"-circleStart").attr("class","marker "+s).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),cross:(0,k.eW)((o,s,c)=>{o.append("marker").attr("id",c+"_"+s+"-crossEnd").attr("class","marker cross "+s).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),o.append("marker").attr("id",c+"_"+s+"-crossStart").attr("class","marker cross "+s).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),barb:(0,k.eW)((o,s,c)=>{o.append("defs").append("marker").attr("id",c+"_"+s+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb")},tk=tf},8938:(o,s,c)=>{"use strict";c.d(s,{_b:()=>X,jM:()=>B,sY:()=>L});var p=c(2208),f=c(2809),g=c(5968),m=c(8554),b={common:m.SY,getConfig:m.iE,insertCluster:f.us,insertEdge:p.QP,insertEdgeLabel:p.I_,insertMarkers:p.DQ,insertNode:f.Lf,interpolateToCurve:g.le,labelHelper:f.C1,log:m.cM,positionEdgeLabel:p.Jj},k={},B=(0,m.eW)(o=>{for(let s of o)k[s.name]=s},"registerLayoutLoaders");(0,m.eW)(()=>{B([{name:"dagre",loader:(0,m.eW)(async()=>await Promise.all([c.e(5989),c.e(7039),c.e(5043),c.e(2123),c.e(8161),c.e(2100)]).then(c.bind(c,2100)),"loader")}])},"registerDefaultLayoutLoaders")();var L=(0,m.eW)(async(o,s)=>{if(!(o.layoutAlgorithm in k))throw Error(`Unknown layout algorithm: ${o.layoutAlgorithm}`);let c=k[o.layoutAlgorithm],p=await c.loader();return p.render(o,s,b,{algorithm:c.algorithm})},"render"),X=(0,m.eW)((o="",{fallback:s="dagre"}={})=>{if(o in k)return o;if(s in k)return m.cM.warn(`Layout algorithm ${o} is not registered. Using ${s} as fallback.`),s;throw Error(`Both layout algorithms ${o} and ${s} are not registered.`)},"getRegisteredLayoutAlgorithm")},1412:(o,s,c)=>{"use strict";c.d(s,{QA:()=>computeDimensionOfText,rw:()=>tZ,EY:()=>replaceIconSubstring});var p=c(5968),f=c(8554),g=c(4665);function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let m=_getDefaults(),b=/[&<>"']/,k=RegExp(b.source,"g"),B=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,L=RegExp(B.source,"g"),X={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=o=>X[o];function escape$1(o,s){if(s){if(b.test(o))return o.replace(k,getEscapeReplacement)}else if(B.test(o))return o.replace(L,getEscapeReplacement);return o}let J=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,te=/(^|[^\[])\^/g;function edit(o,s){let c="string"==typeof o?o:o.source;s=s||"";let p={replace:(o,s)=>{let f="string"==typeof s?s:s.source;return f=f.replace(te,"$1"),c=c.replace(o,f),p},getRegex:()=>new RegExp(c,s)};return p}function cleanUrl(o){try{o=encodeURI(o).replace(/%25/g,"%")}catch{return null}return o}let tr={exec:()=>null};function splitCells(o,s){let c=o.replace(/\|/g,(o,s,c)=>{let p=!1,f=s;for(;--f>=0&&"\\"===c[f];)p=!p;return p?"|":" |"}),p=c.split(/ \|/),f=0;if(p[0].trim()||p.shift(),p.length>0&&!p[p.length-1].trim()&&p.pop(),s){if(p.length>s)p.splice(s);else for(;p.length<s;)p.push("")}for(;f<p.length;f++)p[f]=p[f].trim().replace(/\\\|/g,"|");return p}function rtrim(o,s,c){let p=o.length;if(0===p)return"";let f=0;for(;f<p;){let g=o.charAt(p-f-1);if(g!==s||c){if(g!==s&&c)f++;else break}else f++}return o.slice(0,p-f)}function outputLink(o,s,c,p){let f=s.href,g=s.title?escape$1(s.title):null,m=o[1].replace(/\\([\[\]])/g,"$1");if("!"!==o[0].charAt(0)){p.state.inLink=!0;let o={type:"link",raw:c,href:f,title:g,text:m,tokens:p.inlineTokens(m)};return p.state.inLink=!1,o}return{type:"image",raw:c,href:f,title:g,text:escape$1(m)}}let _Tokenizer=class _Tokenizer{options;rules;lexer;constructor(o){this.options=o||m}space(o){let s=this.rules.block.newline.exec(o);if(s&&s[0].length>0)return{type:"space",raw:s[0]}}code(o){let s=this.rules.block.code.exec(o);if(s){let o=s[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:s[0],codeBlockStyle:"indented",text:this.options.pedantic?o:rtrim(o,"\n")}}}fences(o){let s=this.rules.block.fences.exec(o);if(s){let o=s[0],c=function(o,s){let c=o.match(/^(\s+)(?:```)/);if(null===c)return s;let p=c[1];return s.split("\n").map(o=>{let s=o.match(/^\s+/);if(null===s)return o;let[c]=s;return c.length>=p.length?o.slice(p.length):o}).join("\n")}(o,s[3]||"");return{type:"code",raw:o,lang:s[2]?s[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):s[2],text:c}}}heading(o){let s=this.rules.block.heading.exec(o);if(s){let o=s[2].trim();if(/#$/.test(o)){let s=rtrim(o,"#");this.options.pedantic?o=s.trim():(!s||/ $/.test(s))&&(o=s.trim())}return{type:"heading",raw:s[0],depth:s[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(o){let s=this.rules.block.hr.exec(o);if(s)return{type:"hr",raw:rtrim(s[0],"\n")}}blockquote(o){let s=this.rules.block.blockquote.exec(o);if(s){let o=rtrim(s[0],"\n").split("\n"),c="",p="",f=[];for(;o.length>0;){let s,g=!1,m=[];for(s=0;s<o.length;s++)if(/^ {0,3}>/.test(o[s]))m.push(o[s]),g=!0;else if(g)break;else m.push(o[s]);o=o.slice(s);let b=m.join("\n"),k=b.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");c=c?`${c}
${b}`:b,p=p?`${p}
${k}`:k;let B=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(k,f,!0),this.lexer.state.top=B,0===o.length)break;let L=f[f.length-1];if(L?.type==="code")break;if(L?.type==="blockquote"){let s=L.raw+"\n"+o.join("\n"),g=this.blockquote(s);f[f.length-1]=g,c=c.substring(0,c.length-L.raw.length)+g.raw,p=p.substring(0,p.length-L.text.length)+g.text;break}if(L?.type==="list"){let s=L.raw+"\n"+o.join("\n"),g=this.list(s);f[f.length-1]=g,c=c.substring(0,c.length-L.raw.length)+g.raw,p=p.substring(0,p.length-L.raw.length)+g.raw,o=s.substring(f[f.length-1].raw.length).split("\n");continue}}return{type:"blockquote",raw:c,tokens:f,text:p}}}list(o){let s=this.rules.block.list.exec(o);if(s){let c=s[1].trim(),p=c.length>1,f={type:"list",raw:"",ordered:p,start:p?+c.slice(0,-1):"",loose:!1,items:[]};c=p?`\\d{1,9}\\${c.slice(-1)}`:`\\${c}`,this.options.pedantic&&(c=p?c:"[*+-]");let g=RegExp(`^( {0,3}${c})((?:[	 ][^\\n]*)?(?:\\n|$))`),m=!1;for(;o;){let c,p=!1,b="",k="";if(!(s=g.exec(o))||this.rules.block.hr.test(o))break;b=s[0],o=o.substring(b.length);let B=s[2].split("\n",1)[0].replace(/^\t+/,o=>" ".repeat(3*o.length)),L=o.split("\n",1)[0],X=!B.trim(),J=0;if(this.options.pedantic?(J=2,k=B.trimStart()):X?J=s[1].length+1:(J=(J=s[2].search(/[^ ]/))>4?1:J,k=B.slice(J),J+=s[1].length),X&&/^ *$/.test(L)&&(b+=L+"\n",o=o.substring(L.length+1),p=!0),!p){let s=RegExp(`^ {0,${Math.min(3,J-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),c=RegExp(`^ {0,${Math.min(3,J-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),p=RegExp(`^ {0,${Math.min(3,J-1)}}(?:\`\`\`|~~~)`),f=RegExp(`^ {0,${Math.min(3,J-1)}}#`);for(;o;){let g=o.split("\n",1)[0];if(L=g,this.options.pedantic&&(L=L.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),p.test(L)||f.test(L)||s.test(L)||c.test(o))break;if(L.search(/[^ ]/)>=J||!L.trim())k+="\n"+L.slice(J);else{if(X||B.search(/[^ ]/)>=4||p.test(B)||f.test(B)||c.test(B))break;k+="\n"+L}X||L.trim()||(X=!0),b+=g+"\n",o=o.substring(g.length+1),B=L.slice(J)}}!f.loose&&(m?f.loose=!0:/\n *\n *$/.test(b)&&(m=!0));let te=null;this.options.gfm&&(te=/^\[[ xX]\] /.exec(k))&&(c="[ ] "!==te[0],k=k.replace(/^\[[ xX]\] +/,"")),f.items.push({type:"list_item",raw:b,task:!!te,checked:c,loose:!1,text:k,tokens:[]}),f.raw+=b}f.items[f.items.length-1].raw=f.items[f.items.length-1].raw.trimEnd(),f.items[f.items.length-1].text=f.items[f.items.length-1].text.trimEnd(),f.raw=f.raw.trimEnd();for(let o=0;o<f.items.length;o++)if(this.lexer.state.top=!1,f.items[o].tokens=this.lexer.blockTokens(f.items[o].text,[]),!f.loose){let s=f.items[o].tokens.filter(o=>"space"===o.type),c=s.length>0&&s.some(o=>/\n.*\n/.test(o.raw));f.loose=c}if(f.loose)for(let o=0;o<f.items.length;o++)f.items[o].loose=!0;return f}}html(o){let s=this.rules.block.html.exec(o);if(s){let o={type:"html",block:!0,raw:s[0],pre:"pre"===s[1]||"script"===s[1]||"style"===s[1],text:s[0]};return o}}def(o){let s=this.rules.block.def.exec(o);if(s){let o=s[1].toLowerCase().replace(/\s+/g," "),c=s[2]?s[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",p=s[3]?s[3].substring(1,s[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):s[3];return{type:"def",tag:o,raw:s[0],href:c,title:p}}}table(o){let s=this.rules.block.table.exec(o);if(!s||!/[:|]/.test(s[2]))return;let c=splitCells(s[1]),p=s[2].replace(/^\||\| *$/g,"").split("|"),f=s[3]&&s[3].trim()?s[3].replace(/\n[ \t]*$/,"").split("\n"):[],g={type:"table",raw:s[0],header:[],align:[],rows:[]};if(c.length===p.length){for(let o of p)/^ *-+: *$/.test(o)?g.align.push("right"):/^ *:-+: *$/.test(o)?g.align.push("center"):/^ *:-+ *$/.test(o)?g.align.push("left"):g.align.push(null);for(let o=0;o<c.length;o++)g.header.push({text:c[o],tokens:this.lexer.inline(c[o]),header:!0,align:g.align[o]});for(let o of f)g.rows.push(splitCells(o,g.header.length).map((o,s)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:g.align[s]})));return g}}lheading(o){let s=this.rules.block.lheading.exec(o);if(s)return{type:"heading",raw:s[0],depth:"="===s[2].charAt(0)?1:2,text:s[1],tokens:this.lexer.inline(s[1])}}paragraph(o){let s=this.rules.block.paragraph.exec(o);if(s){let o="\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1];return{type:"paragraph",raw:s[0],text:o,tokens:this.lexer.inline(o)}}}text(o){let s=this.rules.block.text.exec(o);if(s)return{type:"text",raw:s[0],text:s[0],tokens:this.lexer.inline(s[0])}}escape(o){let s=this.rules.inline.escape.exec(o);if(s)return{type:"escape",raw:s[0],text:escape$1(s[1])}}tag(o){let s=this.rules.inline.tag.exec(o);if(s)return!this.lexer.state.inLink&&/^<a /i.test(s[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(s[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:s[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:s[0]}}link(o){let s=this.rules.inline.link.exec(o);if(s){let o=s[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;let s=rtrim(o.slice(0,-1),"\\");if((o.length-s.length)%2==0)return}else{let o=function(o,s){if(-1===o.indexOf(s[1]))return -1;let c=0;for(let p=0;p<o.length;p++)if("\\"===o[p])p++;else if(o[p]===s[0])c++;else if(o[p]===s[1]&&--c<0)return p;return -1}(s[2],"()");if(o>-1){let c=0===s[0].indexOf("!")?5:4,p=c+s[1].length+o;s[2]=s[2].substring(0,o),s[0]=s[0].substring(0,p).trim(),s[3]=""}}let c=s[2],p="";if(this.options.pedantic){let o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(c);o&&(c=o[1],p=o[3])}else p=s[3]?s[3].slice(1,-1):"";return c=c.trim(),/^</.test(c)&&(c=this.options.pedantic&&!/>$/.test(o)?c.slice(1):c.slice(1,-1)),outputLink(s,{href:c?c.replace(this.rules.inline.anyPunctuation,"$1"):c,title:p?p.replace(this.rules.inline.anyPunctuation,"$1"):p},s[0],this.lexer)}}reflink(o,s){let c;if((c=this.rules.inline.reflink.exec(o))||(c=this.rules.inline.nolink.exec(o))){let o=(c[2]||c[1]).replace(/\s+/g," "),p=s[o.toLowerCase()];if(!p){let o=c[0].charAt(0);return{type:"text",raw:o,text:o}}return outputLink(c,p,c[0],this.lexer)}}emStrong(o,s,c=""){let p=this.rules.inline.emStrongLDelim.exec(o);if(!p||p[3]&&c.match(/[\p{L}\p{N}]/u))return;let f=p[1]||p[2]||"";if(!f||!c||this.rules.inline.punctuation.exec(c)){let c=[...p[0]].length-1,f,g,m=c,b=0,k="*"===p[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(k.lastIndex=0,s=s.slice(-1*o.length+c);null!=(p=k.exec(s));){if(!(f=p[1]||p[2]||p[3]||p[4]||p[5]||p[6]))continue;if(g=[...f].length,p[3]||p[4]){m+=g;continue}if((p[5]||p[6])&&c%3&&!((c+g)%3)){b+=g;continue}if((m-=g)>0)continue;g=Math.min(g,g+m+b);let s=[...p[0]][0].length,k=o.slice(0,c+p.index+s+g);if(Math.min(c,g)%2){let o=k.slice(1,-1);return{type:"em",raw:k,text:o,tokens:this.lexer.inlineTokens(o)}}let B=k.slice(2,-2);return{type:"strong",raw:k,text:B,tokens:this.lexer.inlineTokens(B)}}}}codespan(o){let s=this.rules.inline.code.exec(o);if(s){let o=s[2].replace(/\n/g," "),c=/[^ ]/.test(o),p=/^ /.test(o)&&/ $/.test(o);return c&&p&&(o=o.substring(1,o.length-1)),o=escape$1(o,!0),{type:"codespan",raw:s[0],text:o}}}br(o){let s=this.rules.inline.br.exec(o);if(s)return{type:"br",raw:s[0]}}del(o){let s=this.rules.inline.del.exec(o);if(s)return{type:"del",raw:s[0],text:s[2],tokens:this.lexer.inlineTokens(s[2])}}autolink(o){let s=this.rules.inline.autolink.exec(o);if(s){let o,c;return c="@"===s[2]?"mailto:"+(o=escape$1(s[1])):o=escape$1(s[1]),{type:"link",raw:s[0],text:o,href:c,tokens:[{type:"text",raw:o,text:o}]}}}url(o){let s;if(s=this.rules.inline.url.exec(o)){let o,c;if("@"===s[2])c="mailto:"+(o=escape$1(s[0]));else{let p;do p=s[0],s[0]=this.rules.inline._backpedal.exec(s[0])?.[0]??"";while(p!==s[0]);o=escape$1(s[0]),c="www."===s[1]?"http://"+s[0]:s[0]}return{type:"link",raw:s[0],text:o,href:c,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(o){let s=this.rules.inline.text.exec(o);if(s){let o;return o=this.lexer.state.inRawBlock?s[0]:escape$1(s[0]),{type:"text",raw:s[0],text:o}}}};let ti=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,tn=/(?:[*+-]|\d{1,9}[.)])/,ta=edit(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,tn).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),to=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ts=/(?!\s*\])(?:\\.|[^\[\]\\])+/,tl=edit(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ts).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),th=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,tn).getRegex(),tc="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",tu=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,td=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",tu).replace("tag",tc).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),tp=edit(to).replace("hr",ti).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tc).getRegex(),tf=edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",tp).getRegex(),tg={blockquote:tf,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:tl,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:ti,html:td,lheading:ta,list:th,newline:/^(?: *(?:\n|$))+/,paragraph:tp,table:tr,text:/^[^\n]+/},tm=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ti).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tc).getRegex(),ty={...tg,table:tm,paragraph:edit(to).replace("hr",ti).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",tm).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tc).getRegex()},t_={...tg,html:edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",tu).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:tr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(to).replace("hr",ti).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ta).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},tx=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,tb=/^( {2,}|\\)\n(?!\s*$)/,tC="\\p{P}\\p{S}",tk=edit(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,tC).getRegex(),tw=edit(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,tC).getRegex(),tv=edit("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,tC).getRegex(),tT=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,tC).getRegex(),tS=edit(/\\([punct])/,"gu").replace(/punct/g,tC).getRegex(),tM=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),tA=edit(tu).replace("(?:-->|$)","-->").getRegex(),tB=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",tA).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),tL=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,tF=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",tL).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),tE=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",tL).replace("ref",ts).getRegex(),tW=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",ts).getRegex(),t$=edit("reflink|nolink(?!\\()","g").replace("reflink",tE).replace("nolink",tW).getRegex(),tP={_backpedal:tr,anyPunctuation:tS,autolink:tM,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:tb,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:tr,emStrongLDelim:tw,emStrongRDelimAst:tv,emStrongRDelimUnd:tT,escape:tx,link:tF,nolink:tW,punctuation:tk,reflink:tE,reflinkSearch:t$,tag:tB,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:tr},tD={...tP,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",tL).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",tL).getRegex()},tO={...tP,escape:edit(tx).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},tR={...tO,br:edit(tb).replace("{2,}","*").getRegex(),text:edit(tO.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},tI={normal:tg,gfm:ty,pedantic:t_},tN={normal:tP,gfm:tO,breaks:tR,pedantic:tD};let _Lexer=class _Lexer{tokens;options;state;tokenizer;inlineQueue;constructor(o){this.tokens=[],this.tokens.links=Object.create(null),this.options=o||m,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let s={block:tI.normal,inline:tN.normal};this.options.pedantic?(s.block=tI.pedantic,s.inline=tN.pedantic):this.options.gfm&&(s.block=tI.gfm,this.options.breaks?s.inline=tN.breaks:s.inline=tN.gfm),this.tokenizer.rules=s}static get rules(){return{block:tI,inline:tN}}static lex(o,s){let c=new _Lexer(s);return c.lex(o)}static lexInline(o,s){let c=new _Lexer(s);return c.inlineTokens(o)}lex(o){o=o.replace(/\r\n|\r/g,"\n"),this.blockTokens(o,this.tokens);for(let o=0;o<this.inlineQueue.length;o++){let s=this.inlineQueue[o];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(o,s=[],c=!1){let p,f,g;for(o=this.options.pedantic?o.replace(/\t/g,"    ").replace(/^ +$/gm,""):o.replace(/^( *)(\t+)/gm,(o,s,c)=>s+"    ".repeat(c.length));o;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(c=>!!(p=c.call({lexer:this},o,s))&&(o=o.substring(p.raw.length),s.push(p),!0)))){if(p=this.tokenizer.space(o)){o=o.substring(p.raw.length),1===p.raw.length&&s.length>0?s[s.length-1].raw+="\n":s.push(p);continue}if(p=this.tokenizer.code(o)){o=o.substring(p.raw.length),(f=s[s.length-1])&&("paragraph"===f.type||"text"===f.type)?(f.raw+="\n"+p.raw,f.text+="\n"+p.text,this.inlineQueue[this.inlineQueue.length-1].src=f.text):s.push(p);continue}if((p=this.tokenizer.fences(o))||(p=this.tokenizer.heading(o))||(p=this.tokenizer.hr(o))||(p=this.tokenizer.blockquote(o))||(p=this.tokenizer.list(o))||(p=this.tokenizer.html(o))){o=o.substring(p.raw.length),s.push(p);continue}if(p=this.tokenizer.def(o)){o=o.substring(p.raw.length),(f=s[s.length-1])&&("paragraph"===f.type||"text"===f.type)?(f.raw+="\n"+p.raw,f.text+="\n"+p.raw,this.inlineQueue[this.inlineQueue.length-1].src=f.text):this.tokens.links[p.tag]||(this.tokens.links[p.tag]={href:p.href,title:p.title});continue}if((p=this.tokenizer.table(o))||(p=this.tokenizer.lheading(o))){o=o.substring(p.raw.length),s.push(p);continue}if(g=o,this.options.extensions&&this.options.extensions.startBlock){let s,c=1/0,p=o.slice(1);this.options.extensions.startBlock.forEach(o=>{"number"==typeof(s=o.call({lexer:this},p))&&s>=0&&(c=Math.min(c,s))}),c<1/0&&c>=0&&(g=o.substring(0,c+1))}if(this.state.top&&(p=this.tokenizer.paragraph(g))){f=s[s.length-1],c&&f?.type==="paragraph"?(f.raw+="\n"+p.raw,f.text+="\n"+p.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=f.text):s.push(p),c=g.length!==o.length,o=o.substring(p.raw.length);continue}if(p=this.tokenizer.text(o)){o=o.substring(p.raw.length),(f=s[s.length-1])&&"text"===f.type?(f.raw+="\n"+p.raw,f.text+="\n"+p.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=f.text):s.push(p);continue}if(o){let s="Infinite loop on byte: "+o.charCodeAt(0);if(this.options.silent){console.error(s);break}throw Error(s)}}return this.state.top=!0,s}inline(o,s=[]){return this.inlineQueue.push({src:o,tokens:s}),s}inlineTokens(o,s=[]){let c,p,f,g,m,b;let k=o;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;null!=(g=this.tokenizer.rules.inline.reflinkSearch.exec(k));)o.includes(g[0].slice(g[0].lastIndexOf("[")+1,-1))&&(k=k.slice(0,g.index)+"["+"a".repeat(g[0].length-2)+"]"+k.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(g=this.tokenizer.rules.inline.blockSkip.exec(k));)k=k.slice(0,g.index)+"["+"a".repeat(g[0].length-2)+"]"+k.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(g=this.tokenizer.rules.inline.anyPunctuation.exec(k));)k=k.slice(0,g.index)+"++"+k.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;o;)if(m||(b=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(p=>!!(c=p.call({lexer:this},o,s))&&(o=o.substring(c.raw.length),s.push(c),!0)))){if(c=this.tokenizer.escape(o)){o=o.substring(c.raw.length),s.push(c);continue}if(c=this.tokenizer.tag(o)){o=o.substring(c.raw.length),(p=s[s.length-1])&&"text"===c.type&&"text"===p.type?(p.raw+=c.raw,p.text+=c.text):s.push(c);continue}if(c=this.tokenizer.link(o)){o=o.substring(c.raw.length),s.push(c);continue}if(c=this.tokenizer.reflink(o,this.tokens.links)){o=o.substring(c.raw.length),(p=s[s.length-1])&&"text"===c.type&&"text"===p.type?(p.raw+=c.raw,p.text+=c.text):s.push(c);continue}if((c=this.tokenizer.emStrong(o,k,b))||(c=this.tokenizer.codespan(o))||(c=this.tokenizer.br(o))||(c=this.tokenizer.del(o))||(c=this.tokenizer.autolink(o))||!this.state.inLink&&(c=this.tokenizer.url(o))){o=o.substring(c.raw.length),s.push(c);continue}if(f=o,this.options.extensions&&this.options.extensions.startInline){let s,c=1/0,p=o.slice(1);this.options.extensions.startInline.forEach(o=>{"number"==typeof(s=o.call({lexer:this},p))&&s>=0&&(c=Math.min(c,s))}),c<1/0&&c>=0&&(f=o.substring(0,c+1))}if(c=this.tokenizer.inlineText(f)){o=o.substring(c.raw.length),"_"!==c.raw.slice(-1)&&(b=c.raw.slice(-1)),m=!0,(p=s[s.length-1])&&"text"===p.type?(p.raw+=c.raw,p.text+=c.text):s.push(c);continue}if(o){let s="Infinite loop on byte: "+o.charCodeAt(0);if(this.options.silent){console.error(s);break}throw Error(s)}}return s}};let _Renderer=class _Renderer{options;parser;constructor(o){this.options=o||m}space(o){return""}code({text:o,lang:s,escaped:c}){let p=(s||"").match(/^\S*/)?.[0],f=o.replace(/\n$/,"")+"\n";return p?'<pre><code class="language-'+escape$1(p)+'">'+(c?f:escape$1(f,!0))+"</code></pre>\n":"<pre><code>"+(c?f:escape$1(f,!0))+"</code></pre>\n"}blockquote({tokens:o}){let s=this.parser.parse(o);return`<blockquote>
${s}</blockquote>
`}html({text:o}){return o}heading({tokens:o,depth:s}){return`<h${s}>${this.parser.parseInline(o)}</h${s}>
`}hr(o){return"<hr>\n"}list(o){let s=o.ordered,c=o.start,p="";for(let s=0;s<o.items.length;s++){let c=o.items[s];p+=this.listitem(c)}let f=s?"ol":"ul";return"<"+f+(s&&1!==c?' start="'+c+'"':"")+">\n"+p+"</"+f+">\n"}listitem(o){let s="";if(o.task){let c=this.checkbox({checked:!!o.checked});o.loose?o.tokens.length>0&&"paragraph"===o.tokens[0].type?(o.tokens[0].text=c+" "+o.tokens[0].text,o.tokens[0].tokens&&o.tokens[0].tokens.length>0&&"text"===o.tokens[0].tokens[0].type&&(o.tokens[0].tokens[0].text=c+" "+o.tokens[0].tokens[0].text)):o.tokens.unshift({type:"text",raw:c+" ",text:c+" "}):s+=c+" "}return s+=this.parser.parse(o.tokens,!!o.loose),`<li>${s}</li>
`}checkbox({checked:o}){return"<input "+(o?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:o}){return`<p>${this.parser.parseInline(o)}</p>
`}table(o){let s="",c="";for(let s=0;s<o.header.length;s++)c+=this.tablecell(o.header[s]);s+=this.tablerow({text:c});let p="";for(let s=0;s<o.rows.length;s++){let f=o.rows[s];c="";for(let o=0;o<f.length;o++)c+=this.tablecell(f[o]);p+=this.tablerow({text:c})}return p&&(p=`<tbody>${p}</tbody>`),"<table>\n<thead>\n"+s+"</thead>\n"+p+"</table>\n"}tablerow({text:o}){return`<tr>
${o}</tr>
`}tablecell(o){let s=this.parser.parseInline(o.tokens),c=o.header?"th":"td",p=o.align?`<${c} align="${o.align}">`:`<${c}>`;return p+s+`</${c}>
`}strong({tokens:o}){return`<strong>${this.parser.parseInline(o)}</strong>`}em({tokens:o}){return`<em>${this.parser.parseInline(o)}</em>`}codespan({text:o}){return`<code>${o}</code>`}br(o){return"<br>"}del({tokens:o}){return`<del>${this.parser.parseInline(o)}</del>`}link({href:o,title:s,tokens:c}){let p=this.parser.parseInline(c),f=cleanUrl(o);if(null===f)return p;let g='<a href="'+(o=f)+'"';return s&&(g+=' title="'+s+'"'),g+=">"+p+"</a>"}image({href:o,title:s,text:c}){let p=cleanUrl(o);if(null===p)return c;o=p;let f=`<img src="${o}" alt="${c}"`;return s&&(f+=` title="${s}"`),f+=">"}text(o){return"tokens"in o&&o.tokens?this.parser.parseInline(o.tokens):o.text}};let _TextRenderer=class _TextRenderer{strong({text:o}){return o}em({text:o}){return o}codespan({text:o}){return o}del({text:o}){return o}html({text:o}){return o}text({text:o}){return o}link({text:o}){return""+o}image({text:o}){return""+o}br(){return""}};let _Parser=class _Parser{options;renderer;textRenderer;constructor(o){this.options=o||m,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _TextRenderer}static parse(o,s){let c=new _Parser(s);return c.parse(o)}static parseInline(o,s){let c=new _Parser(s);return c.parseInline(o)}parse(o,s=!0){let c="";for(let p=0;p<o.length;p++){let f=o[p];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]){let o=this.options.extensions.renderers[f.type].call({parser:this},f);if(!1!==o||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)){c+=o||"";continue}}switch(f.type){case"space":c+=this.renderer.space(f);continue;case"hr":c+=this.renderer.hr(f);continue;case"heading":c+=this.renderer.heading(f);continue;case"code":c+=this.renderer.code(f);continue;case"table":c+=this.renderer.table(f);continue;case"blockquote":c+=this.renderer.blockquote(f);continue;case"list":c+=this.renderer.list(f);continue;case"html":c+=this.renderer.html(f);continue;case"paragraph":c+=this.renderer.paragraph(f);continue;case"text":{let g=f,m=this.renderer.text(g);for(;p+1<o.length&&"text"===o[p+1].type;)g=o[++p],m+="\n"+this.renderer.text(g);s?c+=this.renderer.paragraph({type:"paragraph",raw:m,text:m,tokens:[{type:"text",raw:m,text:m}]}):c+=m;continue}default:{let o='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw Error(o)}}}return c}parseInline(o,s){s=s||this.renderer;let c="";for(let p=0;p<o.length;p++){let f=o[p];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]){let o=this.options.extensions.renderers[f.type].call({parser:this},f);if(!1!==o||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(f.type)){c+=o||"";continue}}switch(f.type){case"escape":case"text":c+=s.text(f);break;case"html":c+=s.html(f);break;case"link":c+=s.link(f);break;case"image":c+=s.image(f);break;case"strong":c+=s.strong(f);break;case"em":c+=s.em(f);break;case"codespan":c+=s.codespan(f);break;case"br":c+=s.br(f);break;case"del":c+=s.del(f);break;default:{let o='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw Error(o)}}}return c}};let _Hooks=class _Hooks{options;constructor(o){this.options=o||m}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(o){return o}postprocess(o){return o}processAllTokens(o){return o}};let Marked=class Marked{defaults=_getDefaults();options=this.setOptions;parse=this.#t(_Lexer.lex,_Parser.parse);parseInline=this.#t(_Lexer.lexInline,_Parser.parseInline);Parser=_Parser;Renderer=_Renderer;TextRenderer=_TextRenderer;Lexer=_Lexer;Tokenizer=_Tokenizer;Hooks=_Hooks;constructor(...o){this.use(...o)}walkTokens(o,s){let c=[];for(let p of o)switch(c=c.concat(s.call(this,p)),p.type){case"table":for(let o of p.header)c=c.concat(this.walkTokens(o.tokens,s));for(let o of p.rows)for(let p of o)c=c.concat(this.walkTokens(p.tokens,s));break;case"list":c=c.concat(this.walkTokens(p.items,s));break;default:{let o=p;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(p=>{let f=o[p].flat(1/0);c=c.concat(this.walkTokens(f,s))}):o.tokens&&(c=c.concat(this.walkTokens(o.tokens,s)))}}return c}use(...o){let s=this.defaults.extensions||{renderers:{},childTokens:{}};return o.forEach(o=>{let c={...o};if(c.async=this.defaults.async||c.async||!1,o.extensions&&(o.extensions.forEach(o=>{if(!o.name)throw Error("extension name required");if("renderer"in o){let c=s.renderers[o.name];c?s.renderers[o.name]=function(...s){let p=o.renderer.apply(this,s);return!1===p&&(p=c.apply(this,s)),p}:s.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw Error("extension level must be 'block' or 'inline'");let c=s[o.level];c?c.unshift(o.tokenizer):s[o.level]=[o.tokenizer],o.start&&("block"===o.level?s.startBlock?s.startBlock.push(o.start):s.startBlock=[o.start]:"inline"===o.level&&(s.startInline?s.startInline.push(o.start):s.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(s.childTokens[o.name]=o.childTokens)}),c.extensions=s),o.renderer){let s=this.defaults.renderer||new _Renderer(this.defaults);for(let c in o.renderer){if(!(c in s))throw Error(`renderer '${c}' does not exist`);if(["options","parser"].includes(c))continue;let p=o.renderer[c];o.useNewRenderer||(p=this.#e(p,c,s));let f=s[c];s[c]=(...o)=>{let c=p.apply(s,o);return!1===c&&(c=f.apply(s,o)),c||""}}c.renderer=s}if(o.tokenizer){let s=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(let c in o.tokenizer){if(!(c in s))throw Error(`tokenizer '${c}' does not exist`);if(["options","rules","lexer"].includes(c))continue;let p=o.tokenizer[c],f=s[c];s[c]=(...o)=>{let c=p.apply(s,o);return!1===c&&(c=f.apply(s,o)),c}}c.tokenizer=s}if(o.hooks){let s=this.defaults.hooks||new _Hooks;for(let c in o.hooks){if(!(c in s))throw Error(`hook '${c}' does not exist`);if("options"===c)continue;let p=o.hooks[c],f=s[c];_Hooks.passThroughHooks.has(c)?s[c]=o=>{if(this.defaults.async)return Promise.resolve(p.call(s,o)).then(o=>f.call(s,o));let c=p.call(s,o);return f.call(s,c)}:s[c]=(...o)=>{let c=p.apply(s,o);return!1===c&&(c=f.apply(s,o)),c}}c.hooks=s}if(o.walkTokens){let s=this.defaults.walkTokens,p=o.walkTokens;c.walkTokens=function(o){let c=[];return c.push(p.call(this,o)),s&&(c=c.concat(s.call(this,o))),c}}this.defaults={...this.defaults,...c}}),this}#e(o,s,c){switch(s){case"heading":return function(p){return p.type&&p.type===s?o.call(this,c.parser.parseInline(p.tokens),p.depth,c.parser.parseInline(p.tokens,c.parser.textRenderer).replace(J,(o,s)=>"colon"===(s=s.toLowerCase())?":":"#"===s.charAt(0)?"x"===s.charAt(1)?String.fromCharCode(parseInt(s.substring(2),16)):String.fromCharCode(+s.substring(1)):"")):o.apply(this,arguments)};case"code":return function(c){return c.type&&c.type===s?o.call(this,c.text,c.lang,!!c.escaped):o.apply(this,arguments)};case"table":return function(c){if(!c.type||c.type!==s)return o.apply(this,arguments);let p="",f="";for(let o=0;o<c.header.length;o++)f+=this.tablecell({text:c.header[o].text,tokens:c.header[o].tokens,header:!0,align:c.align[o]});p+=this.tablerow({text:f});let g="";for(let o=0;o<c.rows.length;o++){let s=c.rows[o];f="";for(let o=0;o<s.length;o++)f+=this.tablecell({text:s[o].text,tokens:s[o].tokens,header:!1,align:c.align[o]});g+=this.tablerow({text:f})}return o.call(this,p,g)};case"blockquote":return function(c){if(!c.type||c.type!==s)return o.apply(this,arguments);let p=this.parser.parse(c.tokens);return o.call(this,p)};case"list":return function(c){if(!c.type||c.type!==s)return o.apply(this,arguments);let p=c.ordered,f=c.start,g=c.loose,m="";for(let o=0;o<c.items.length;o++){let s=c.items[o],p=s.checked,f=s.task,b="";if(s.task){let o=this.checkbox({checked:!!p});g?s.tokens.length>0&&"paragraph"===s.tokens[0].type?(s.tokens[0].text=o+" "+s.tokens[0].text,s.tokens[0].tokens&&s.tokens[0].tokens.length>0&&"text"===s.tokens[0].tokens[0].type&&(s.tokens[0].tokens[0].text=o+" "+s.tokens[0].tokens[0].text)):s.tokens.unshift({type:"text",text:o+" "}):b+=o+" "}b+=this.parser.parse(s.tokens,g),m+=this.listitem({type:"list_item",raw:b,text:b,task:f,checked:!!p,loose:g,tokens:s.tokens})}return o.call(this,m,p,f)};case"html":return function(c){return c.type&&c.type===s?o.call(this,c.text,c.block):o.apply(this,arguments)};case"paragraph":return function(c){return c.type&&c.type===s?o.call(this,this.parser.parseInline(c.tokens)):o.apply(this,arguments)};case"escape":return function(c){return c.type&&c.type===s?o.call(this,c.text):o.apply(this,arguments)};case"link":return function(c){return c.type&&c.type===s?o.call(this,c.href,c.title,this.parser.parseInline(c.tokens)):o.apply(this,arguments)};case"image":return function(c){return c.type&&c.type===s?o.call(this,c.href,c.title,c.text):o.apply(this,arguments)};case"strong":return function(c){return c.type&&c.type===s?o.call(this,this.parser.parseInline(c.tokens)):o.apply(this,arguments)};case"em":return function(c){return c.type&&c.type===s?o.call(this,this.parser.parseInline(c.tokens)):o.apply(this,arguments)};case"codespan":return function(c){return c.type&&c.type===s?o.call(this,c.text):o.apply(this,arguments)};case"del":return function(c){return c.type&&c.type===s?o.call(this,this.parser.parseInline(c.tokens)):o.apply(this,arguments)};case"text":return function(c){return c.type&&c.type===s?o.call(this,c.text):o.apply(this,arguments)}}return o}setOptions(o){return this.defaults={...this.defaults,...o},this}lexer(o,s){return _Lexer.lex(o,s??this.defaults)}parser(o,s){return _Parser.parse(o,s??this.defaults)}#t(o,s){return(c,p)=>{let f={...p},g={...this.defaults,...f};!0===this.defaults.async&&!1===f.async&&(g.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),g.async=!0);let m=this.#r(!!g.silent,!!g.async);if(null==c)return m(Error("marked(): input parameter is undefined or null"));if("string"!=typeof c)return m(Error("marked(): input parameter is of type "+Object.prototype.toString.call(c)+", string expected"));if(g.hooks&&(g.hooks.options=g),g.async)return Promise.resolve(g.hooks?g.hooks.preprocess(c):c).then(s=>o(s,g)).then(o=>g.hooks?g.hooks.processAllTokens(o):o).then(o=>g.walkTokens?Promise.all(this.walkTokens(o,g.walkTokens)).then(()=>o):o).then(o=>s(o,g)).then(o=>g.hooks?g.hooks.postprocess(o):o).catch(m);try{g.hooks&&(c=g.hooks.preprocess(c));let p=o(c,g);g.hooks&&(p=g.hooks.processAllTokens(p)),g.walkTokens&&this.walkTokens(p,g.walkTokens);let f=s(p,g);return g.hooks&&(f=g.hooks.postprocess(f)),f}catch(o){return m(o)}}}#r(o,s){return c=>{if(c.message+="\nPlease report this to https://github.com/markedjs/marked.",o){let o="<p>An error occurred:</p><pre>"+escape$1(c.message+"",!0)+"</pre>";return s?Promise.resolve(o):o}if(s)return Promise.reject(c);throw c}}};let tj=new Marked;function marked(o,s){return tj.parse(o,s)}marked.options=marked.setOptions=function(o){return tj.setOptions(o),marked.defaults=tj.defaults,m=marked.defaults,marked},marked.getDefaults=_getDefaults,marked.defaults=m,marked.use=function(...o){return tj.use(...o),marked.defaults=tj.defaults,m=marked.defaults,marked},marked.walkTokens=function(o,s){return tj.walkTokens(o,s)},marked.parseInline=tj.parseInline,marked.Parser=_Parser,marked.parser=_Parser.parse,marked.Renderer=_Renderer,marked.TextRenderer=_TextRenderer,marked.Lexer=_Lexer,marked.lexer=_Lexer.lex,marked.Tokenizer=_Tokenizer,marked.Hooks=_Hooks,marked.parse=marked,marked.options,marked.setOptions,marked.use,marked.walkTokens,marked.parseInline,_Parser.parse,_Lexer.lex;var tz=c(8862);function preprocessMarkdown(o,{markdownAutoWrap:s}){let c=o.replace(/<br\/>/g,"\n"),p=c.replace(/\n{2,}/g,"\n"),f=(0,tz.Zc)(p);return!1===s?f.replace(/ /g,"&nbsp;"):f}function markdownToLines(o,s={}){let c=preprocessMarkdown(o,s),p=marked.lexer(c),g=[[]],m=0;function processNode(o,s="normal"){if("text"===o.type){let c=o.text.split("\n");c.forEach((o,c)=>{0!==c&&(m++,g.push([])),o.split(" ").forEach(o=>{(o=o.replace(/&#39;/g,"'"))&&g[m].push({content:o,type:s})})})}else"strong"===o.type||"em"===o.type?o.tokens.forEach(s=>{processNode(s,o.type)}):"html"===o.type&&g[m].push({content:o.text,type:"normal"})}return(0,f.eW)(processNode,"processNode"),p.forEach(o=>{"paragraph"===o.type?o.tokens?.forEach(o=>{processNode(o)}):"html"===o.type&&g[m].push({content:o.text,type:"normal"})}),g}function markdownToHTML(o,{markdownAutoWrap:s}={}){let c=marked.lexer(o);function output(o){if("text"===o.type)return!1===s?o.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):o.text.replace(/\n */g,"<br/>");if("strong"===o.type)return`<strong>${o.tokens?.map(output).join("")}</strong>`;if("em"===o.type)return`<em>${o.tokens?.map(output).join("")}</em>`;if("paragraph"===o.type)return`<p>${o.tokens?.map(output).join("")}</p>`;if("space"===o.type)return"";if("html"===o.type)return`${o.text}`;if("escape"===o.type)return o.text;return`Unsupported markdown: ${o.type}`}return(0,f.eW)(output,"output"),c.map(output).join("")}function splitTextToChars(o){return Intl.Segmenter?[...new Intl.Segmenter().segment(o)].map(o=>o.segment):[...o]}function splitWordToFitWidth(o,s){let c=splitTextToChars(s.content);return splitWordToFitWidthRecursion(o,[],c,s.type)}function splitWordToFitWidthRecursion(o,s,c,p){if(0===c.length)return[{content:s.join(""),type:p},{content:"",type:p}];let[f,...g]=c,m=[...s,f];return o([{content:m.join(""),type:p}])?splitWordToFitWidthRecursion(o,m,g,p):(0===s.length&&f&&(s.push(f),c.shift()),[{content:s.join(""),type:p},{content:c.join(""),type:p}])}function splitLineToFitWidth(o,s){if(o.some(({content:o})=>o.includes("\n")))throw Error("splitLineToFitWidth does not support newlines in the line");return splitLineToFitWidthRecursion(o,s)}function splitLineToFitWidthRecursion(o,s,c=[],p=[]){if(0===o.length)return p.length>0&&c.push(p),c.length>0?c:[];let f="";" "===o[0].content&&(f=" ",o.shift());let g=o.shift()??{content:" ",type:"normal"},m=[...p];if(""!==f&&m.push({content:f,type:"normal"}),m.push(g),s(m))return splitLineToFitWidthRecursion(o,s,c,m);if(p.length>0)c.push(p),o.unshift(g);else if(g.content){let[p,f]=splitWordToFitWidth(s,g);c.push([p]),f.content&&o.unshift(f)}return splitLineToFitWidthRecursion(o,s,c)}function applyStyle(o,s){s&&o.attr("style",s)}async function addHtmlSpan(o,s,c,p,g=!1){let m=o.append("foreignObject");m.attr("width",`${10*c}px`),m.attr("height",`${10*c}px`);let b=m.append("xhtml:div"),k=s.label;s.label&&(0,f.l0)(s.label)&&(k=await (0,f.uT)(s.label.replace(f.SY.lineBreakRegex,"\n"),(0,f.nV)()));let B=s.isNode?"nodeLabel":"edgeLabel",L=b.append("span");L.html(k),applyStyle(L,s.labelStyle),L.attr("class",`${B} ${p}`),applyStyle(b,s.labelStyle),b.style("display","table-cell"),b.style("white-space","nowrap"),b.style("line-height","1.5"),b.style("max-width",c+"px"),b.style("text-align","center"),b.attr("xmlns","http://www.w3.org/1999/xhtml"),g&&b.attr("class","labelBkg");let X=b.node().getBoundingClientRect();return X.width===c&&(b.style("display","table"),b.style("white-space","break-spaces"),b.style("width",c+"px"),X=b.node().getBoundingClientRect()),m.node()}function createTspan(o,s,c){return o.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",s*c-.1+"em").attr("dy",c+"em")}function computeWidthOfText(o,s,c){let p=o.append("text"),f=createTspan(p,1,s);updateTextContentAndStyles(f,c);let g=f.node().getComputedTextLength();return p.remove(),g}function computeDimensionOfText(o,s,c){let p=o.append("text"),f=createTspan(p,1,s);updateTextContentAndStyles(f,[{content:c,type:"normal"}]);let g=f.node()?.getBoundingClientRect();return g&&p.remove(),g}function createFormattedText(o,s,c,p=!1){let g=s.append("g"),m=g.insert("rect").attr("class","background").attr("style","stroke: none"),b=g.append("text").attr("y","-10.1"),k=0;for(let s of c){let c=(0,f.eW)(s=>computeWidthOfText(g,1.1,s)<=o,"checkWidth"),p=c(s)?[s]:splitLineToFitWidth(s,c);for(let o of p){let s=createTspan(b,k,1.1);updateTextContentAndStyles(s,o),k++}}if(!p)return b.node();{let o=b.node().getBBox();return m.attr("x",o.x-2).attr("y",o.y-2).attr("width",o.width+4).attr("height",o.height+4),g.node()}}function updateTextContentAndStyles(o,s){o.text(""),s.forEach((s,c)=>{let p=o.append("tspan").attr("font-style","em"===s.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===s.type?"bold":"normal");0===c?p.text(s.content):p.text(" "+s.content)})}function replaceIconSubstring(o){return o.replace(/fa[bklrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`)}(0,f.eW)(preprocessMarkdown,"preprocessMarkdown"),(0,f.eW)(markdownToLines,"markdownToLines"),(0,f.eW)(markdownToHTML,"markdownToHTML"),(0,f.eW)(splitTextToChars,"splitTextToChars"),(0,f.eW)(splitWordToFitWidth,"splitWordToFitWidth"),(0,f.eW)(splitWordToFitWidthRecursion,"splitWordToFitWidthRecursion"),(0,f.eW)(splitLineToFitWidth,"splitLineToFitWidth"),(0,f.eW)(splitLineToFitWidthRecursion,"splitLineToFitWidthRecursion"),(0,f.eW)(applyStyle,"applyStyle"),(0,f.eW)(addHtmlSpan,"addHtmlSpan"),(0,f.eW)(createTspan,"createTspan"),(0,f.eW)(computeWidthOfText,"computeWidthOfText"),(0,f.eW)(computeDimensionOfText,"computeDimensionOfText"),(0,f.eW)(createFormattedText,"createFormattedText"),(0,f.eW)(updateTextContentAndStyles,"updateTextContentAndStyles"),(0,f.eW)(replaceIconSubstring,"replaceIconSubstring");var tZ=(0,f.eW)(async(o,s="",{style:c="",isTitle:m=!1,classes:b="",useHtmlLabels:k=!0,isNode:B=!0,width:L=200,addSvgBackground:X=!1}={},J)=>{if(f.cM.debug("XYZ createText",s,c,m,b,k,B,"addSvgBackground: ",X),k){let g=markdownToHTML(s,J),m=replaceIconSubstring((0,p.SH)(g)),k=s.replace(/\\\\/g,"\\"),te={isNode:B,label:(0,f.l0)(s)?k:m,labelStyle:c.replace("fill:","color:")},tr=await addHtmlSpan(o,te,L,b,X);return tr}{let p=s.replace(/<br\s*\/?>/g,"<br/>"),f=markdownToLines(p.replace("<br>","<br/>"),J),m=createFormattedText(L,o,f,!!s&&X);if(B){/stroke:/.exec(c)&&(c=c.replace("stroke:","lineColor:"));let o=c.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,g.Ys)(m).attr("style",o)}else{let o=c.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");(0,g.Ys)(m).select("rect").attr("style",o.replace(/background:/g,"fill:"));let s=c.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,g.Ys)(m).select("text").attr("style",s)}return m}},"createText")},6269:(o,s,c)=>{"use strict";c.d(s,{i:()=>p});var p="11.4.0"},9344:(o,s,c)=>{"use strict";c.d(s,{L:()=>p});var p=(0,c(8554).eW)(({flowchart:o})=>{let s=o?.subGraphTitleMargin?.top??0,c=o?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:s,subGraphTitleBottomMargin:c,subGraphTitleTotalMargin:s+c}},"getSubGraphTitleMargins")},894:(o,s,c)=>{"use strict";c.d(s,{o:()=>m});var p=c(8554),f={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function calculateDeltaAndAngle(o,s){if(void 0===o||void 0===s)return{angle:0,deltaX:0,deltaY:0};o=g(o),s=g(s);let[c,p]=[o.x,o.y],[f,m]=[s.x,s.y],b=f-c,k=m-p;return{angle:Math.atan(k/b),deltaX:b,deltaY:k}}(0,p.eW)(calculateDeltaAndAngle,"calculateDeltaAndAngle");var g=(0,p.eW)(o=>Array.isArray(o)?{x:o[0],y:o[1]}:o,"pointTransformer"),m=(0,p.eW)(o=>({x:(0,p.eW)(function(s,c,p){let m=0,b=g(p[0]).x<g(p[p.length-1]).x?"left":"right";if(0===c&&Object.hasOwn(f,o.arrowTypeStart)){let{angle:s,deltaX:c}=calculateDeltaAndAngle(p[0],p[1]);m=f[o.arrowTypeStart]*Math.cos(s)*(c>=0?1:-1)}else if(c===p.length-1&&Object.hasOwn(f,o.arrowTypeEnd)){let{angle:s,deltaX:c}=calculateDeltaAndAngle(p[p.length-1],p[p.length-2]);m=f[o.arrowTypeEnd]*Math.cos(s)*(c>=0?1:-1)}let k=Math.abs(g(s).x-g(p[p.length-1]).x),B=Math.abs(g(s).y-g(p[p.length-1]).y),L=Math.abs(g(s).x-g(p[0]).x),X=Math.abs(g(s).y-g(p[0]).y),J=f[o.arrowTypeStart],te=f[o.arrowTypeEnd];if(k<te&&k>0&&B<te){let o=te+1-k;o*="right"===b?-1:1,m-=o}if(L<J&&L>0&&X<J){let o=J+1-L;o*="right"===b?-1:1,m+=o}return g(s).x+m},"x"),y:(0,p.eW)(function(s,c,p){let m=0,b=g(p[0]).y<g(p[p.length-1]).y?"down":"up";if(0===c&&Object.hasOwn(f,o.arrowTypeStart)){let{angle:s,deltaY:c}=calculateDeltaAndAngle(p[0],p[1]);m=f[o.arrowTypeStart]*Math.abs(Math.sin(s))*(c>=0?1:-1)}else if(c===p.length-1&&Object.hasOwn(f,o.arrowTypeEnd)){let{angle:s,deltaY:c}=calculateDeltaAndAngle(p[p.length-1],p[p.length-2]);m=f[o.arrowTypeEnd]*Math.abs(Math.sin(s))*(c>=0?1:-1)}let k=Math.abs(g(s).y-g(p[p.length-1]).y),B=Math.abs(g(s).x-g(p[p.length-1]).x),L=Math.abs(g(s).y-g(p[0]).y),X=Math.abs(g(s).x-g(p[0]).x),J=f[o.arrowTypeStart],te=f[o.arrowTypeEnd];if(k<te&&k>0&&B<te){let o=te+1-k;o*="up"===b?-1:1,m-=o}if(L<J&&L>0&&X<J){let o=J+1-L;o*="up"===b?-1:1,m+=o}return g(s).y+m},"y")}),"getLineFunctionsWithOffset")},2920:(o,s,c)=>{"use strict";c.d(s,{default:()=>rg});var p=c(683),f=c(8938);c(2208),c(2809);var g=c(3895);c(894),c(9344),c(1412);var m=c(5968),b=c(6269),k=c(4841),B=c(8554),L=c(8862),X=c(4665),J="comm",te="rule",tr="decl",ti=Math.abs,tn=String.fromCharCode;function replace(o,s,c){return o.replace(s,c)}function charat(o,s){return 0|o.charCodeAt(s)}function substr(o,s,c){return o.slice(s,c)}function strlen(o){return o.length}function Utility_append(o,s){return s.push(o),o}function serialize(o,s){for(var c="",p=0;p<o.length;p++)c+=s(o[p],p,o,s)||"";return c}function stringify(o,s,c,p){switch(o.type){case"@layer":if(o.children.length)break;case"@import":case tr:return o.return=o.return||o.value;case J:return"";case"@keyframes":return o.return=o.value+"{"+serialize(o.children,p)+"}";case te:if(!strlen(o.value=o.props.join(",")))return""}return strlen(c=serialize(o.children,p))?o.return=o.value+"{"+c+"}":""}Object.assign;var ta=1,to=1,ts=0,tl=0,th=0,tc="";function node(o,s,c,p,f,g,m,b){return{value:o,root:s,parent:c,type:p,props:f,children:g,line:ta,column:to,length:m,return:"",siblings:b}}function next(){return th=tl<ts?charat(tc,tl++):0,to++,10===th&&(to=1,ta++),th}function peek(){return charat(tc,tl)}function token(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function delimit(o){var s,c;return(s=tl-1,c=function delimiter(o){for(;next();)switch(th){case o:return tl;case 34:case 39:34!==o&&39!==o&&delimiter(th);break;case 40:41===o&&delimiter(o);break;case 92:next()}return tl}(91===o?o+2:40===o?o+1:o),substr(tc,s,c)).trim()}function ruleset(o,s,c,p,f,g,m,b,k,B,L,X){for(var J=f-1,tr=0===f?g:[""],tn=tr.length,ta=0,to=0,ts=0;ta<p;++ta)for(var tl=0,th=substr(o,J+1,J=ti(to=m[ta])),tc=o;tl<tn;++tl)(tc=(to>0?tr[tl]+" "+th:replace(th,/&\f/g,tr[tl])).trim())&&(k[ts++]=tc);return node(o,s,c,0===f?te:b,k,B,L,X)}function declaration(o,s,c,p,f){return node(o,s,c,tr,substr(o,0,p),substr(o,p+1,-1),p,f)}var tu=c(3035),td=c(5943),tp={id:"c4",detector:(0,B.eW)(o=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(o),"detector"),loader:(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5311),c.e(6806)]).then(c.bind(c,6806));return{id:"c4",diagram:o}},"loader")},tf="flowchart",tg=(0,B.eW)((o,s)=>s?.flowchart?.defaultRenderer!=="dagre-wrapper"&&s?.flowchart?.defaultRenderer!=="elk"&&/^\s*graph/.test(o),"detector"),tm=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(3895),c.e(4844)]).then(c.bind(c,4844));return{id:tf,diagram:o}},"loader"),ty={id:tf,detector:tg,loader:tm},t_="flowchart-v2",tx=(0,B.eW)((o,s)=>s?.flowchart?.defaultRenderer!=="dagre-d3"&&(s?.flowchart?.defaultRenderer==="elk"&&(s.layout="elk"),!!/^\s*graph/.test(o)&&s?.flowchart?.defaultRenderer==="dagre-wrapper"||/^\s*flowchart/.test(o)),"detector"),tb=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(3895),c.e(4844)]).then(c.bind(c,4844));return{id:t_,diagram:o}},"loader"),tC={id:t_,detector:tx,loader:tb},tk={id:"er",detector:(0,B.eW)(o=>/^\s*erDiagram/.test(o),"detector"),loader:(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5989),c.e(7039),c.e(2123),c.e(8161),c.e(2597)]).then(c.bind(c,2597));return{id:"er",diagram:o}},"loader")},tw="gitGraph",tv=(0,B.eW)(o=>/^\s*gitGraph/.test(o),"detector"),tT=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5989),c.e(7039),c.e(5043),c.e(9290),c.e(8852)]).then(c.bind(c,8852));return{id:tw,diagram:o}},"loader"),tS={id:tw,detector:tv,loader:tT},tM="gantt",tA=(0,B.eW)(o=>/^\s*gantt/.test(o),"detector"),tB=(0,B.eW)(async()=>{let{diagram:o}=await c.e(8519).then(c.bind(c,8519));return{id:tM,diagram:o}},"loader"),tL={id:tM,detector:tA,loader:tB},tF="info",tE=(0,B.eW)(o=>/^\s*info/.test(o),"detector"),tW=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5989),c.e(7039),c.e(5043),c.e(9290),c.e(8717)]).then(c.bind(c,8717));return{id:tF,diagram:o}},"loader"),t$={id:tF,detector:tE,loader:tW},tP={id:"pie",detector:(0,B.eW)(o=>/^\s*pie/.test(o),"detector"),loader:(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5989),c.e(7039),c.e(5043),c.e(9290),c.e(4500)]).then(c.bind(c,4500));return{id:"pie",diagram:o}},"loader")},tD="quadrantChart",tO=(0,B.eW)(o=>/^\s*quadrantChart/.test(o),"detector"),tR=(0,B.eW)(async()=>{let{diagram:o}=await c.e(8105).then(c.bind(c,8105));return{id:tD,diagram:o}},"loader"),tI={id:tD,detector:tO,loader:tR},tN="xychart",tj=(0,B.eW)(o=>/^\s*xychart-beta/.test(o),"detector"),tz=(0,B.eW)(async()=>{let{diagram:o}=await c.e(2682).then(c.bind(c,2682));return{id:tN,diagram:o}},"loader"),tZ={id:tN,detector:tj,loader:tz},tq="requirement",tY=(0,B.eW)(o=>/^\s*requirement(Diagram)?/.test(o),"detector"),tU=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5989),c.e(7039),c.e(2123),c.e(8161),c.e(2164)]).then(c.bind(c,2164));return{id:tq,diagram:o}},"loader"),tH={id:tq,detector:tY,loader:tU},tV="sequence",tX=(0,B.eW)(o=>/^\s*sequenceDiagram/.test(o),"detector"),tG=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5311),c.e(5838)]).then(c.bind(c,5838));return{id:tV,diagram:o}},"loader"),tK={id:tV,detector:tX,loader:tG},tQ="class",tJ=(0,B.eW)((o,s)=>s?.class?.defaultRenderer!=="dagre-wrapper"&&/^\s*classDiagram/.test(o),"detector"),t0=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(3895),c.e(4417),c.e(6883)]).then(c.bind(c,6883));return{id:tQ,diagram:o}},"loader"),t1={id:tQ,detector:tJ,loader:t0},t2="classDiagram",t5=(0,B.eW)((o,s)=>!!/^\s*classDiagram/.test(o)&&s?.class?.defaultRenderer==="dagre-wrapper"||/^\s*classDiagram-v2/.test(o),"detector"),t3=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(3895),c.e(4417),c.e(2274)]).then(c.bind(c,2274));return{id:t2,diagram:o}},"loader"),t4={id:t2,detector:t5,loader:t3},t6="state",t8=(0,B.eW)((o,s)=>s?.state?.defaultRenderer!=="dagre-wrapper"&&/^\s*stateDiagram/.test(o),"detector"),t9=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5989),c.e(7039),c.e(2123),c.e(3895),c.e(8161),c.e(1469),c.e(8388)]).then(c.bind(c,8388));return{id:t6,diagram:o}},"loader"),t7={id:t6,detector:t8,loader:t9},et="stateDiagram",ee=(0,B.eW)((o,s)=>!!(/^\s*stateDiagram-v2/.test(o)||/^\s*stateDiagram/.test(o)&&s?.state?.defaultRenderer==="dagre-wrapper"),"detector"),er=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(3895),c.e(1469),c.e(4043)]).then(c.bind(c,4043));return{id:et,diagram:o}},"loader"),ei={id:et,detector:ee,loader:er},en="journey",ea=(0,B.eW)(o=>/^\s*journey/.test(o),"detector"),eo=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5311),c.e(4654)]).then(c.bind(c,4654));return{id:en,diagram:o}},"loader"),es={id:en,detector:ea,loader:eo},el={draw:(0,B.eW)((o,s,c)=>{B.cM.debug("rendering svg for syntax error\n");let p=(0,k.P)(s),f=p.append("g");p.attr("viewBox","0 0 2412 512"),(0,B.v2)(p,100,512,!0),f.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),f.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),f.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),f.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),f.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),f.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),f.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),f.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${c}`)},"draw")},eh={db:{},renderer:el,parser:{parse:(0,B.eW)(()=>{},"parse")}},ec="flowchart-elk",eu=(0,B.eW)((o,s={})=>!!(/^\s*flowchart-elk/.test(o)||/^\s*flowchart|graph/.test(o)&&s?.flowchart?.defaultRenderer==="elk")&&(s.layout="elk",!0),"detector"),ed=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(3895),c.e(4844)]).then(c.bind(c,4844));return{id:ec,diagram:o}},"loader"),ep={id:ec,detector:eu,loader:ed},ef="timeline",eg=(0,B.eW)(o=>/^\s*timeline/.test(o),"detector"),em=(0,B.eW)(async()=>{let{diagram:o}=await c.e(6147).then(c.bind(c,6147));return{id:ef,diagram:o}},"loader"),ey={id:ef,detector:eg,loader:em},e_="mindmap",ex=(0,B.eW)(o=>/^\s*mindmap/.test(o),"detector"),eb=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(3380),c.e(4475)]).then(c.bind(c,4475));return{id:e_,diagram:o}},"loader"),eC={id:e_,detector:ex,loader:eb},ek="kanban",ew=(0,B.eW)(o=>/^\s*kanban/.test(o),"detector"),ev=(0,B.eW)(async()=>{let{diagram:o}=await c.e(6558).then(c.bind(c,6558));return{id:ek,diagram:o}},"loader"),eT={id:ek,detector:ew,loader:ev},eS="sankey",eM=(0,B.eW)(o=>/^\s*sankey-beta/.test(o),"detector"),eA=(0,B.eW)(async()=>{let{diagram:o}=await c.e(4295).then(c.bind(c,4295));return{id:eS,diagram:o}},"loader"),eB={id:eS,detector:eM,loader:eA},eL="packet",eF=(0,B.eW)(o=>/^\s*packet-beta/.test(o),"detector"),eE=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5989),c.e(7039),c.e(5043),c.e(9290),c.e(6542)]).then(c.bind(c,6542));return{id:eL,diagram:o}},"loader"),eW={id:eL,detector:eF,loader:eE},e$="block",eP=(0,B.eW)(o=>/^\s*block-beta/.test(o),"detector"),eD=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5989),c.e(5043),c.e(2123),c.e(6647)]).then(c.bind(c,6647));return{id:e$,diagram:o}},"loader"),eO={id:e$,detector:eP,loader:eD},eR="architecture",eI=(0,B.eW)(o=>/^\s*architecture/.test(o),"detector"),eN=(0,B.eW)(async()=>{let{diagram:o}=await Promise.all([c.e(5989),c.e(7039),c.e(5043),c.e(9290),c.e(3380),c.e(1308)]).then(c.bind(c,1308));return{id:eR,diagram:o}},"loader"),ej={id:eR,detector:eI,loader:eN},ez=!1,eZ=(0,B.eW)(()=>{ez||(ez=!0,(0,B.Cq)("error",eh,o=>"error"===o.toLowerCase().trim()),(0,B.Cq)("---",{db:{clear:(0,B.eW)(()=>{},"clear")},styles:{},renderer:{draw:(0,B.eW)(()=>{},"draw")},parser:{parse:(0,B.eW)(()=>{throw Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:(0,B.eW)(()=>null,"init")},o=>o.toLowerCase().trimStart().startsWith("---")),(0,B.KO)(tp,eT,t4,t1,tk,tL,t$,tP,tH,tK,ep,tC,ty,eC,ey,tS,ei,t7,es,tI,eB,eW,tZ,eO,ej))},"addDiagrams"),eq=(0,B.eW)(async()=>{B.cM.debug("Loading registered diagrams");let o=await Promise.allSettled(Object.entries(B.Bf).map(async([o,{detector:s,loader:c}])=>{if(c)try{(0,B._7)(o)}catch{try{let{diagram:o,id:p}=await c();(0,B.Cq)(p,o,s)}catch(s){throw B.cM.error(`Failed to load external diagram with key ${o}. Removing from detectors.`),delete B.Bf[o],s}}})),s=o.filter(o=>"rejected"===o.status);if(s.length>0){for(let o of(B.cM.error(`Failed to load ${s.length} external diagrams`),s))B.cM.error(o);throw Error(`Failed to load ${s.length} external diagrams`)}},"loadRegisteredDiagrams");function setA11yDiagramInfo(o,s){o.attr("role","graphics-document document"),""!==s&&o.attr("aria-roledescription",s)}function addSVGa11yTitleDescription(o,s,c,p){if(void 0!==o.insert){if(c){let s=`chart-desc-${p}`;o.attr("aria-describedby",s),o.insert("desc",":first-child").attr("id",s).text(c)}if(s){let c=`chart-title-${p}`;o.attr("aria-labelledby",c),o.insert("title",":first-child").attr("id",c).text(s)}}}(0,B.eW)(setA11yDiagramInfo,"setA11yDiagramInfo"),(0,B.eW)(addSVGa11yTitleDescription,"addSVGa11yTitleDescription");var eY=class _Diagram{constructor(o,s,c,p,f){this.type=o,this.text=s,this.db=c,this.parser=p,this.renderer=f}static{(0,B.eW)(this,"Diagram")}static async fromText(o,s={}){let c=(0,B.iE)(),p=(0,B.Vg)(o,c);o=(0,m.Vy)(o)+"\n";try{(0,B._7)(p)}catch{let o=(0,B.cq)(p);if(!o)throw new B.cj(`Diagram ${p} not found.`);let{id:s,diagram:c}=await o();(0,B.Cq)(s,c)}let{db:f,parser:g,renderer:b,init:k}=(0,B._7)(p);return g.parser&&(g.parser.yy=f),f.clear?.(),k?.(c),s.title&&f.setDiagramTitle?.(s.title),await g.parse(o),new _Diagram(p,o,f,g,b)}async render(o,s){await this.renderer.draw(this.text,o,s,this)}getParser(){return this.parser}getType(){return this.type}},eU=[],eH=(0,B.eW)(()=>{eU.forEach(o=>{o()}),eU=[]},"attachFunctions"),eV=(0,B.eW)(o=>o.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function extractFrontMatter(o){let s=o.match(B.M6);if(!s)return{text:o,metadata:{}};let c=(0,p.z)(s[1],{schema:p.A})??{};c="object"!=typeof c||Array.isArray(c)?{}:c;let f={};return c.displayMode&&(f.displayMode=c.displayMode.toString()),c.title&&(f.title=c.title.toString()),c.config&&(f.config=c.config),{text:o.slice(s[0].length),metadata:f}}(0,B.eW)(extractFrontMatter,"extractFrontMatter");var eX=(0,B.eW)(o=>o.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(o,s,c)=>"<"+s+c.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),eG=(0,B.eW)(o=>{let{text:s,metadata:c}=extractFrontMatter(o),{displayMode:p,title:f,config:g={}}=c;return p&&(g.gantt||(g.gantt={}),g.gantt.displayMode=p),{title:f,config:g,text:s}},"processFrontmatter"),eK=(0,B.eW)(o=>{let s=m.w8.detectInit(o)??{},c=m.w8.detectDirective(o,"wrap");return Array.isArray(c)?s.wrap=c.some(({type:o})=>"wrap"===o):c?.type==="wrap"&&(s.wrap=!0),{text:(0,m.tf)(o),directive:s}},"processDirectives");function preprocessDiagram(o){let s=eX(o),c=eG(s),p=eK(c.text),f=(0,m.Rb)(c.config,p.directive);return{code:o=eV(p.text),title:c.title,config:f}}function toBase64(o){let s=new TextEncoder().encode(o),c=Array.from(s,o=>String.fromCodePoint(o)).join("");return btoa(c)}(0,B.eW)(preprocessDiagram,"preprocessDiagram"),(0,B.eW)(toBase64,"toBase64");var eQ=["foreignobject"],eJ=["dominant-baseline"];function processAndSetConfigs(o){let s=preprocessDiagram(o);return(0,B.mc)(),(0,B.XV)(s.config??{}),s}async function mermaid_core_parse(o,s){eZ();try{let{code:s,config:c}=processAndSetConfigs(o),p=await e9(s);return{diagramType:p.type,config:c}}catch(o){if(s?.suppressErrors)return!1;throw o}}(0,B.eW)(processAndSetConfigs,"processAndSetConfigs"),(0,B.eW)(mermaid_core_parse,"parse");var e0=(0,B.eW)((o,s,c=[])=>`
.${o} ${s} { ${c.join(" !important; ")} !important; }`,"cssImportantStyles"),e1=(0,B.eW)((o,s=new Map)=>{let c="";if(void 0!==o.themeCSS&&(c+=`
${o.themeCSS}`),void 0!==o.fontFamily&&(c+=`
:root { --mermaid-font-family: ${o.fontFamily}}`),void 0!==o.altFontFamily&&(c+=`
:root { --mermaid-alt-font-family: ${o.altFontFamily}}`),s instanceof Map){let p=o.htmlLabels??o.flowchart?.htmlLabels,f=p?["> *","span"]:["rect","polygon","ellipse","circle","path"];s.forEach(o=>{(0,td.Z)(o.styles)||f.forEach(s=>{c+=e0(o.id,s,o.styles)}),(0,td.Z)(o.textStyles)||(c+=e0(o.id,"tspan",(o?.textStyles||[]).map(o=>o.replace("color","fill"))))})}return c},"createCssStyles"),e2=(0,B.eW)((o,s,c,p)=>{let f=e1(o,c),g=(0,B.Ee)(s,f,o.themeVariables);return serialize(function(o){var s,c;return s=function parse(o,s,c,p,f,g,m,b,k){for(var B,L,X,te=0,tr=0,ts=m,tu=0,td=0,tp=0,tf=1,tg=1,tm=1,ty=0,t_="",tx=f,tb=g,tC=p,tk=t_;tg;)switch(tp=ty,ty=next()){case 40:if(108!=tp&&58==charat(tk,ts-1)){-1!=(L=tk+=replace(delimit(ty),"&","&\f"),X=ti(te?b[te-1]:0),L.indexOf("&\f",X))&&(tm=-1);break}case 34:case 39:case 91:tk+=delimit(ty);break;case 9:case 10:case 13:case 32:tk+=function(o){for(;th=peek();)if(th<33)next();else break;return token(o)>2||token(th)>3?"":" "}(tp);break;case 92:tk+=function(o,s){for(var c;--s&&next()&&!(th<48)&&!(th>102)&&(!(th>57)||!(th<65))&&(!(th>70)||!(th<97)););return c=tl+(s<6&&32==peek()&&32==next()),substr(tc,o,c)}(tl-1,7);continue;case 47:switch(peek()){case 42:case 47:Utility_append(node(B=function(o,s){for(;next();)if(o+th===57)break;else if(o+th===84&&47===peek())break;return"/*"+substr(tc,s,tl-1)+"*"+tn(47===o?o:next())}(next(),tl),s,c,J,tn(th),substr(B,2,-2),0,k),k),(5==token(tp||1)||5==token(peek()||1))&&strlen(tk)&&" "!==substr(tk,-1,void 0)&&(tk+=" ");break;default:tk+="/"}break;case 123*tf:b[te++]=strlen(tk)*tm;case 125*tf:case 59:case 0:switch(ty){case 0:case 125:tg=0;case 59+tr:-1==tm&&(tk=replace(tk,/\f/g,"")),td>0&&(strlen(tk)-ts||0===tf&&47===tp)&&Utility_append(td>32?declaration(tk+";",p,c,ts-1,k):declaration(replace(tk," ","")+";",p,c,ts-2,k),k);break;case 59:tk+=";";default:if(Utility_append(tC=ruleset(tk,s,c,te,tr,f,b,t_,tx=[],tb=[],ts,g),g),123===ty){if(0===tr)parse(tk,s,tC,tC,tx,g,ts,b,tb);else switch(99===tu&&110===charat(tk,3)?100:tu){case 100:case 108:case 109:case 115:parse(o,tC,tC,p&&Utility_append(ruleset(o,tC,tC,0,0,f,b,t_,f,tx=[],ts,tb),tb),f,tb,ts,b,p?tx:tb);break;default:parse(tk,tC,tC,tC,[""],tb,0,b,tb)}}}te=tr=td=0,tf=tm=1,t_=tk="",ts=m;break;case 58:ts=1+strlen(tk),td=tp;default:if(tf<1){if(123==ty)--tf;else if(125==ty&&0==tf++&&125==(th=tl>0?charat(tc,--tl):0,to--,10===th&&(to=1,ta--),th))continue}switch(tk+=tn(ty),ty*tf){case 38:tm=tr>0?1:(tk+="\f",-1);break;case 44:b[te++]=(strlen(tk)-1)*tm,tm=1;break;case 64:45===peek()&&(tk+=delimit(next())),tu=peek(),tr=ts=strlen(t_=tk+=function(o){for(;!token(peek());)next();return substr(tc,o,tl)}(tl)),ty++;break;case 45:45===tp&&2==strlen(tk)&&(tf=0)}}return g}("",null,null,null,[""],(c=o,ta=to=1,ts=strlen(tc=c),tl=0,o=[]),0,[0],o),tc="",s}(`${p}{${g}}`),stringify)},"createUserStyles"),e5=(0,B.eW)((o="",s,c)=>{let p=o;return c||s||(p=p.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),p=(p=(0,m.SH)(p)).replace(/<br>/g,"<br/>")},"cleanUpSvgCode"),e3=(0,B.eW)((o="",s)=>{let c=s?.viewBox?.baseVal?.height?s.viewBox.baseVal.height+"px":"100%",p=toBase64(`<body style="margin:0">${o}</body>`);return`<iframe style="width:100%;height:${c};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${p}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The "iframe" tag is not supported by your browser.
</iframe>`},"putIntoIFrame"),e4=(0,B.eW)((o,s,c,p,f)=>{let g=o.append("div");g.attr("id",c),p&&g.attr("style",p);let m=g.append("svg").attr("id",s).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return f&&m.attr("xmlns:xlink",f),m.append("g"),o},"appendDivSvgG");function sandboxedIframe(o,s){return o.append("iframe").attr("id",s).attr("style","width: 100%; height: 100%;").attr("sandbox","")}(0,B.eW)(sandboxedIframe,"sandboxedIframe");var e6=(0,B.eW)((o,s,c,p)=>{o.getElementById(s)?.remove(),o.getElementById(c)?.remove(),o.getElementById(p)?.remove()},"removeExistingElements"),e8=(0,B.eW)(async function(o,s,c){let p,f;eZ();let g=processAndSetConfigs(s);s=g.code;let m=(0,B.iE)();B.cM.debug(m),s.length>(m?.maxTextSize??5e4)&&(s="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let k="#"+o,L="i"+o,J="#"+L,te="d"+o,tr="#"+te,ti=(0,B.eW)(()=>{let o=ta?J:tr,s=(0,X.Ys)(o).node();s&&"remove"in s&&s.remove()},"removeTempElements"),tn=(0,X.Ys)("body"),ta="sandbox"===m.securityLevel,to="loose"===m.securityLevel,ts=m.fontFamily;if(void 0!==c){if(c&&(c.innerHTML=""),ta){let o=sandboxedIframe((0,X.Ys)(c),L);(tn=(0,X.Ys)(o.nodes()[0].contentDocument.body)).node().style.margin=0}else tn=(0,X.Ys)(c);e4(tn,o,te,`font-family: ${ts}`,"http://www.w3.org/1999/xlink")}else{if(e6(document,o,te,L),ta){let o=sandboxedIframe((0,X.Ys)("body"),L);(tn=(0,X.Ys)(o.nodes()[0].contentDocument.body)).node().style.margin=0}else tn=(0,X.Ys)("body");e4(tn,o,te)}try{p=await eY.fromText(s,{title:g.title})}catch(o){if(m.suppressErrorRendering)throw ti(),o;p=await eY.fromText("error"),f=o}let tl=tn.select(tr).node(),th=p.type,tc=tl.firstChild,td=tc.firstChild,tp=p.renderer.getClasses?.(s,p),tf=e2(m,th,tp,k),tg=document.createElement("style");tg.innerHTML=tf,tc.insertBefore(tg,td);try{await p.renderer.draw(s,o,b.i,p)}catch(c){throw m.suppressErrorRendering?ti():el.draw(s,o,b.i),c}let tm=tn.select(`${tr} svg`),ty=p.db.getAccTitle?.(),t_=p.db.getAccDescription?.();addA11yInfo(th,tm,ty,t_),tn.select(`[id="${o}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let tx=tn.select(tr).node().innerHTML;if(B.cM.debug("config.arrowMarkerAbsolute",m.arrowMarkerAbsolute),tx=e5(tx,ta,(0,B.ku)(m.arrowMarkerAbsolute)),ta){let o=tn.select(tr+" svg").node();tx=e3(tx,o)}else to||(tx=tu.sanitize(tx,{ADD_TAGS:eQ,ADD_ATTR:eJ}));if(eH(),f)throw f;return ti(),{diagramType:th,svg:tx,bindFunctions:p.db.bindFunctions}},"render");function initialize(o={}){let s=(0,B.Yc)({},o);s?.fontFamily&&!s.themeVariables?.fontFamily&&(s.themeVariables||(s.themeVariables={}),s.themeVariables.fontFamily=s.fontFamily),(0,B.dY)(s),s?.theme&&s.theme in B._j?s.themeVariables=B._j[s.theme].getThemeVariables(s.themeVariables):s&&(s.themeVariables=B._j.default.getThemeVariables(s.themeVariables));let c="object"==typeof s?(0,B.Yn)(s):(0,B.ZD)();(0,B.Ub)(c.logLevel),eZ()}(0,B.eW)(initialize,"initialize");var e9=(0,B.eW)((o,s={})=>{let{code:c}=preprocessDiagram(o);return eY.fromText(c,s)},"getDiagramFromText");function addA11yInfo(o,s,c,p){setA11yDiagramInfo(s,o),addSVGa11yTitleDescription(s,c,p,s.attr("id"))}(0,B.eW)(addA11yInfo,"addA11yInfo");var e7=Object.freeze({render:e8,parse:mermaid_core_parse,getDiagramFromText:e9,initialize,getConfig:B.iE,setConfig:B.v6,getSiteConfig:B.ZD,updateSiteConfig:B.Tb,reset:(0,B.eW)(()=>{(0,B.mc)()},"reset"),globalReset:(0,B.eW)(()=>{(0,B.mc)(B.u_)},"globalReset"),defaultConfig:B.u_});(0,B.Ub)((0,B.iE)().logLevel),(0,B.mc)((0,B.iE)());var re=(0,B.eW)((o,s,c)=>{B.cM.warn(o),(0,m.bZ)(o)?(c&&c(o.str,o.hash),s.push({...o,message:o.str,error:o})):(c&&c(o),o instanceof Error&&s.push({str:o.message,message:o.message,hash:o.name,error:o}))},"handleError"),rr=(0,B.eW)(async function(o={querySelector:".mermaid"}){try{await ri(o)}catch(s){if((0,m.bZ)(s)&&B.cM.error(s.str),rf.parseError&&rf.parseError(s),!o.suppressErrors)throw B.cM.error("Use the suppressErrors option to suppress these errors"),s}},"run"),ri=(0,B.eW)(async function({postRenderCallback:o,querySelector:s,nodes:c}={querySelector:".mermaid"}){let p,f;let g=e7.getConfig();if(B.cM.debug(`${o?"":"No "}Callback function found`),c)p=c;else if(s)p=document.querySelectorAll(s);else throw Error("Nodes and querySelector are both undefined");B.cM.debug(`Found ${p.length} diagrams`),g?.startOnLoad!==void 0&&(B.cM.debug("Start On Load: "+g?.startOnLoad),e7.updateSiteConfig({startOnLoad:g?.startOnLoad}));let b=new m.w8.InitIDGenerator(g.deterministicIds,g.deterministicIDSeed),k=[];for(let s of Array.from(p)){if(B.cM.info("Rendering diagram: "+s.id),s.getAttribute("data-processed"))continue;s.setAttribute("data-processed","true");let c=`mermaid-${b.next()}`;f=s.innerHTML,f=(0,L.Zc)(m.w8.entityDecode(f)).trim().replace(/<br\s*\/?>/gi,"<br/>");let p=m.w8.detectInit(f);p&&B.cM.debug("Detected early reinit: ",p);try{let{svg:p,bindFunctions:g}=await rp(c,f,s);s.innerHTML=p,o&&await o(c),g&&g(s)}catch(o){re(o,k,rf.parseError)}}if(k.length>0)throw k[0]},"runThrowsErrors"),rn=(0,B.eW)(function(o){e7.initialize(o)},"initialize"),ra=(0,B.eW)(async function(o,s,c){B.cM.warn("mermaid.init is deprecated. Please use run instead."),o&&rn(o);let p={postRenderCallback:c,querySelector:".mermaid"};"string"==typeof s?p.querySelector=s:s&&(s instanceof HTMLElement?p.nodes=[s]:p.nodes=s),await rr(p)},"init"),ro=(0,B.eW)(async(o,{lazyLoad:s=!0}={})=>{eZ(),(0,B.KO)(...o),!1===s&&await eq()},"registerExternalDiagrams"),rs=(0,B.eW)(function(){if(rf.startOnLoad){let{startOnLoad:o}=e7.getConfig();o&&rf.run().catch(o=>B.cM.error("Mermaid failed to initialize",o))}},"contentLoaded");"undefined"!=typeof document&&window.addEventListener("load",rs,!1);var rl=(0,B.eW)(function(o){rf.parseError=o},"setParseErrorHandler"),rh=[],rc=!1,ru=(0,B.eW)(async()=>{if(!rc){for(rc=!0;rh.length>0;){let o=rh.shift();if(o)try{await o()}catch(o){B.cM.error("Error executing queue",o)}}rc=!1}},"executeQueue"),rd=(0,B.eW)(async(o,s)=>new Promise((c,p)=>{let f=(0,B.eW)(()=>new Promise((f,g)=>{e7.parse(o,s).then(o=>{f(o),c(o)},o=>{B.cM.error("Error parsing",o),rf.parseError?.(o),g(o),p(o)})}),"performCall");rh.push(f),ru().catch(p)}),"parse"),rp=(0,B.eW)((o,s,c)=>new Promise((p,f)=>{let g=(0,B.eW)(()=>new Promise((g,m)=>{e7.render(o,s,c).then(o=>{g(o),p(o)},o=>{B.cM.error("Error parsing",o),rf.parseError?.(o),m(o),f(o)})}),"performCall");rh.push(g),ru().catch(f)}),"render"),rf={startOnLoad:!0,mermaidAPI:e7,parse:rd,render:rp,init:ra,run:rr,registerExternalDiagrams:ro,registerLayoutLoaders:f.jM,initialize:rn,parseError:void 0,contentLoaded:rs,setParseErrorHandler:rl,detectType:B.Vg,registerIconPacks:g.ef},rg=rf;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */}};
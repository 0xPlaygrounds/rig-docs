exports.id=4295,exports.ids=[4295],exports.modules={61:function(t,n){(function(t){"use strict";function ascending(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function bisector(t){let n=t,e=t;function left(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){let o=i+r>>>1;0>e(t[o],n)?i=o+1:r=o}return i}return 1===t.length&&(n=(n,e)=>t(n)-e,e=(n,e)=>ascending(t(n),e)),{left,center:function(t,e,i,r){null==i&&(i=0),null==r&&(r=t.length);let o=left(t,e,i,r-1);return o>i&&n(t[o-1],e)>-n(t[o],e)?o-1:o},right:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){let o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}}function number(t){return null===t?NaN:+t}let n=bisector(ascending),e=n.right,i=n.left,r=bisector(number).center;function count(t,n){let e=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++e;else{let i=-1;for(let r of t)null!=(r=n(r,++i,t))&&(r=+r)>=r&&++e}return e}function length$1(t){return 0|t.length}function empty(t){return!(t>0)}function arrayify(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function variance(t,n){let e,i=0,r=0,o=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(e=n-r,r+=e/++i,o+=e*(n-r));else{let s=-1;for(let a of t)null!=(a=n(a,++s,t))&&(a=+a)>=a&&(e=a-r,r+=e/++i,o+=e*(a-r))}if(i>1)return o/(i-1)}function deviation(t,n){let e=variance(t,n);return e?Math.sqrt(e):e}function extent(t,n){let e,i;if(void 0===n)for(let n of t)null!=n&&(void 0===e?n>=n&&(e=i=n):(e>n&&(e=n),i<n&&(i=n)));else{let r=-1;for(let o of t)null!=(o=n(o,++r,t))&&(void 0===e?o>=o&&(e=i=o):(e>o&&(e=o),i<o&&(i=o)))}return[e,i]}let Adder=class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let n=this._partials,e=0;for(let i=0;i<this._n&&i<32;i++){let r=n[i],o=t+r,s=Math.abs(t)<Math.abs(r)?t-(o-r):r-(o-t);s&&(n[e++]=s),t=o}return n[e]=t,this._n=e+1,this}valueOf(){let t=this._partials,n=this._n,e,i,r,o=0;if(n>0){for(o=t[--n];n>0&&(o=(e=o)+(i=t[--n]),!(r=i-(o-e))););n>0&&(r<0&&t[n-1]<0||r>0&&t[n-1]>0)&&(e=o+(i=2*r),i==e-o&&(o=e))}return o}};let InternMap=class InternMap extends Map{constructor(t,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(let[n,e]of t)this.set(n,e)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,n){return super.set(intern_set(this,t),n)}delete(t){return super.delete(intern_delete(this,t))}};let InternSet=class InternSet extends Set{constructor(t,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(let n of t)this.add(n)}has(t){return super.has(intern_get(this,t))}add(t){return super.add(intern_set(this,t))}delete(t){return super.delete(intern_delete(this,t))}};function intern_get({_intern:t,_key:n},e){let i=n(e);return t.has(i)?t.get(i):e}function intern_set({_intern:t,_key:n},e){let i=n(e);return t.has(i)?t.get(i):(t.set(i,e),e)}function intern_delete({_intern:t,_key:n},e){let i=n(e);return t.has(i)&&(e=t.get(e),t.delete(i)),e}function keyof(t){return null!==t&&"object"==typeof t?t.valueOf():t}function identity(t){return t}function group(t,...n){return nest(t,identity,identity,n)}function rollup(t,n,...e){return nest(t,identity,n,e)}function unique(t){if(1!==t.length)throw Error("duplicate key");return t[0]}function nest(t,n,e,i){return function regroup(t,r){if(r>=i.length)return e(t);let o=new InternMap,s=i[r++],a=-1;for(let n of t){let e=s(n,++a,t),i=o.get(e);i?i.push(n):o.set(e,[n])}for(let[t,n]of o)o.set(t,regroup(n,r));return n(o)}(t,0)}function permute(t,n){return Array.from(n,n=>t[n])}function sort(t,...n){if("function"!=typeof t[Symbol.iterator])throw TypeError("values is not iterable");t=Array.from(t);let[e=ascending]=n;if(1===e.length||n.length>1){let i=Uint32Array.from(t,(t,n)=>n);return n.length>1?(n=n.map(n=>t.map(n)),i.sort((t,e)=>{for(let i of n){let n=ascending(i[t],i[e]);if(n)return n}})):(e=t.map(e),i.sort((t,n)=>ascending(e[t],e[n]))),permute(t,i)}return t.sort(e)}var o=Array.prototype.slice;function constant(t){return function(){return t}}var s=Math.sqrt(50),a=Math.sqrt(10),l=Math.sqrt(2);function ticks(t,n,e){var i,r,o,s,a=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((i=n<t)&&(r=t,t=n,n=r),0===(s=tickIncrement(t,n,e))||!isFinite(s))return[];if(s>0){let e=Math.round(t/s),i=Math.round(n/s);for(e*s<t&&++e,i*s>n&&--i,o=Array(r=i-e+1);++a<r;)o[a]=(e+a)*s}else{let e=Math.round(t*(s=-s)),i=Math.round(n*s);for(e/s<t&&++e,i/s>n&&--i,o=Array(r=i-e+1);++a<r;)o[a]=(e+a)/s}return i&&o.reverse(),o}function tickIncrement(t,n,e){var i=(n-t)/Math.max(0,e),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=s?10:o>=a?5:o>=l?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=s?10:o>=a?5:o>=l?2:1)}function nice(t,n,e){let i;for(;;){let r=tickIncrement(t,n,e);if(r===i||0===r||!isFinite(r))return[t,n];r>0?(t=Math.floor(t/r)*r,n=Math.ceil(n/r)*r):r<0&&(t=Math.ceil(t*r)/r,n=Math.floor(n*r)/r),i=r}}function sturges(t){return Math.ceil(Math.log(count(t))/Math.LN2)+1}function bin(){var t=identity,n=extent,i=sturges;function histogram(r){Array.isArray(r)||(r=Array.from(r));var o,s,a=r.length,l=Array(a);for(o=0;o<a;++o)l[o]=t(r[o],o,r);var h=n(l),c=h[0],u=h[1],f=i(l,c,u);if(!Array.isArray(f)){let t=u,e=+f;if(n===extent&&([c,u]=nice(c,u,e)),(f=ticks(c,u,e))[f.length-1]>=u){if(t>=u&&n===extent){let t=tickIncrement(c,u,e);isFinite(t)&&(t>0?u=(Math.floor(u/t)+1)*t:t<0&&(u=-((Math.ceil(-(u*t))+1)/t)))}else f.pop()}}for(var _=f.length;f[0]<=c;)f.shift(),--_;for(;f[_-1]>u;)f.pop(),--_;var p,d=Array(_+1);for(o=0;o<=_;++o)(p=d[o]=[]).x0=o>0?f[o-1]:c,p.x1=o<_?f[o]:u;for(o=0;o<a;++o)c<=(s=l[o])&&s<=u&&d[e(f,s,0,_)].push(r[o]);return d}return histogram.value=function(n){return arguments.length?(t="function"==typeof n?n:constant(n),histogram):t},histogram.domain=function(t){return arguments.length?(n="function"==typeof t?t:constant([t[0],t[1]]),histogram):n},histogram.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:Array.isArray(t)?constant(o.call(t)):constant(t),histogram):i},histogram}function max(t,n){let e;if(void 0===n)for(let n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let i=-1;for(let r of t)null!=(r=n(r,++i,t))&&(e<r||void 0===e&&r>=r)&&(e=r)}return e}function min(t,n){let e;if(void 0===n)for(let n of t)null!=n&&(e>n||void 0===e&&n>=n)&&(e=n);else{let i=-1;for(let r of t)null!=(r=n(r,++i,t))&&(e>r||void 0===e&&r>=r)&&(e=r)}return e}function quickselect(t,n,e=0,i=t.length-1,r=ascending){for(;i>e;){if(i-e>600){let o=i-e+1,s=n-e+1,a=Math.log(o),l=.5*Math.exp(2*a/3),h=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1),c=Math.max(e,Math.floor(n-s*l/o+h)),u=Math.min(i,Math.floor(n+(o-s)*l/o+h));quickselect(t,n,c,u,r)}let o=t[n],s=e,a=i;for(swap(t,e,n),r(t[i],o)>0&&swap(t,e,i);s<a;){for(swap(t,s,a),++s,--a;0>r(t[s],o);)++s;for(;r(t[a],o)>0;)--a}0===r(t[e],o)?swap(t,e,a):swap(t,++a,i),a<=n&&(e=a+1),n<=a&&(i=a-1)}return t}function swap(t,n,e){let i=t[n];t[n]=t[e],t[e]=i}function quantile(t,n,e){if(i=(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let e=-1;for(let i of t)null!=(i=n(i,++e,t))&&(i=+i)>=i&&(yield i)}}(t,e))).length){if((n=+n)<=0||i<2)return min(t);if(n>=1)return max(t);var i,r=(i-1)*n,o=Math.floor(r),s=max(quickselect(t,o).subarray(0,o+1));return s+(min(t.subarray(o+1))-s)*(r-o)}}function maxIndex(t,n){let e;let i=-1,r=-1;if(void 0===n)for(let n of t)++r,null!=n&&(e<n||void 0===e&&n>=n)&&(e=n,i=r);else for(let o of t)null!=(o=n(o,++r,t))&&(e<o||void 0===e&&o>=o)&&(e=o,i=r);return i}function minIndex(t,n){let e;let i=-1,r=-1;if(void 0===n)for(let n of t)++r,null!=n&&(e>n||void 0===e&&n>=n)&&(e=n,i=r);else for(let o of t)null!=(o=n(o,++r,t))&&(e>o||void 0===e&&o>=o)&&(e=o,i=r);return i}function pair(t,n){return[t,n]}function leastIndex(t,n=ascending){let e;if(1===n.length)return minIndex(t,n);let i=-1,r=-1;for(let o of t)++r,(i<0?0===n(o,o):0>n(o,e))&&(e=o,i=r);return i}var h=shuffler(Math.random);function shuffler(t){return function(n,e=0,i=n.length){let r=i-(e=+e);for(;r;){let i=t()*r--|0,o=n[r+e];n[r+e]=n[i+e],n[i+e]=o}return n}}function transpose(t){if(!(r=t.length))return[];for(var n=-1,e=min(t,length),i=Array(e);++n<e;)for(var r,o=-1,s=i[n]=Array(r);++o<r;)s[o]=t[o][n];return i}function length(t){return t.length}function set(t){return t instanceof Set?t:new Set(t)}function superset(t,n){let e=t[Symbol.iterator](),i=new Set;for(let t of n){let n,r;if(!i.has(t))for(;{value:n,done:r}=e.next();){if(r)return!1;if(i.add(n),Object.is(t,n))break}}return!0}t.Adder=Adder,t.InternMap=InternMap,t.InternSet=InternSet,t.ascending=ascending,t.bin=bin,t.bisect=e,t.bisectCenter=r,t.bisectLeft=i,t.bisectRight=e,t.bisector=bisector,t.count=count,t.cross=function(...t){var n;let e="function"==typeof t[t.length-1]&&(n=t.pop(),t=>n(...t));t=t.map(arrayify);let i=t.map(length$1),r=t.length-1,o=Array(r+1).fill(0),s=[];if(r<0||i.some(empty))return s;for(;;){s.push(o.map((n,e)=>t[e][n]));let n=r;for(;++o[n]===i[n];){if(0===n)return e?s.map(e):s;o[n--]=0}}},t.cumsum=function(t,n){var e=0,i=0;return Float64Array.from(t,void 0===n?t=>e+=+t||0:r=>e+=+n(r,i++,t)||0)},t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},t.deviation=deviation,t.difference=function(t,...n){for(let e of(t=new Set(t),n))for(let n of e)t.delete(n);return t},t.disjoint=function(t,n){let e=n[Symbol.iterator](),i=new Set;for(let n of t){let t,r;if(i.has(n))return!1;for(;({value:t,done:r}=e.next())&&!r;){if(Object.is(n,t))return!1;i.add(t)}}return!0},t.every=function(t,n){if("function"!=typeof n)throw TypeError("test is not a function");let e=-1;for(let i of t)if(!n(i,++e,t))return!1;return!0},t.extent=extent,t.fcumsum=function(t,n){let e=new Adder,i=-1;return Float64Array.from(t,void 0===n?t=>e.add(+t||0):r=>e.add(+n(r,++i,t)||0))},t.filter=function(t,n){if("function"!=typeof n)throw TypeError("test is not a function");let e=[],i=-1;for(let r of t)n(r,++i,t)&&e.push(r);return e},t.fsum=function(t,n){let e=new Adder;if(void 0===n)for(let n of t)(n=+n)&&e.add(n);else{let i=-1;for(let r of t)(r=+n(r,++i,t))&&e.add(r)}return+e},t.greatest=function(t,n=ascending){let e;let i=!1;if(1===n.length){let r;for(let o of t){let t=n(o);(i?ascending(t,r)>0:0===ascending(t,t))&&(e=o,r=t,i=!0)}}else for(let r of t)(i?n(r,e)>0:0===n(r,r))&&(e=r,i=!0);return e},t.greatestIndex=function(t,n=ascending){let e;if(1===n.length)return maxIndex(t,n);let i=-1,r=-1;for(let o of t)++r,(i<0?0===n(o,o):n(o,e)>0)&&(e=o,i=r);return i},t.group=group,t.groupSort=function(t,n,e){return(1===n.length?sort(rollup(t,n,e),([t,n],[e,i])=>ascending(n,i)||ascending(t,e)):sort(group(t,e),([t,e],[i,r])=>n(e,r)||ascending(t,i))).map(([t])=>t)},t.groups=function(t,...n){return nest(t,Array.from,identity,n)},t.histogram=bin,t.index=function(t,...n){return nest(t,identity,unique,n)},t.indexes=function(t,...n){return nest(t,Array.from,unique,n)},t.intersection=function(t,...n){t=new Set(t),n=n.map(set);t:for(let e of t)for(let i of n)if(!i.has(e)){t.delete(e);continue t}return t},t.least=function(t,n=ascending){let e;let i=!1;if(1===n.length){let r;for(let o of t){let t=n(o);(i?0>ascending(t,r):0===ascending(t,t))&&(e=o,r=t,i=!0)}}else for(let r of t)(i?0>n(r,e):0===n(r,r))&&(e=r,i=!0);return e},t.leastIndex=leastIndex,t.map=function(t,n){if("function"!=typeof t[Symbol.iterator])throw TypeError("values is not iterable");if("function"!=typeof n)throw TypeError("mapper is not a function");return Array.from(t,(e,i)=>n(e,i,t))},t.max=max,t.maxIndex=maxIndex,t.mean=function(t,n){let e=0,i=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++e,i+=n);else{let r=-1;for(let o of t)null!=(o=n(o,++r,t))&&(o=+o)>=o&&(++e,i+=o)}if(e)return i/e},t.median=function(t,n){return quantile(t,.5,n)},t.merge=function(t){return Array.from(function*(t){for(let n of t)yield*n}(t))},t.min=min,t.minIndex=minIndex,t.nice=nice,t.pairs=function(t,n=pair){let e;let i=[],r=!1;for(let o of t)r&&i.push(n(e,o)),e=o,r=!0;return i},t.permute=permute,t.quantile=quantile,t.quantileSorted=function(t,n,e=number){if(i=t.length){if((n=+n)<=0||i<2)return+e(t[0],0,t);if(n>=1)return+e(t[i-1],i-1,t);var i,r=(i-1)*n,o=Math.floor(r),s=+e(t[o],o,t);return s+(+e(t[o+1],o+1,t)-s)*(r-o)}},t.quickselect=quickselect,t.range=function(t,n,e){t=+t,n=+n,e=(r=arguments.length)<2?(n=t,t=0,1):r<3?1:+e;for(var i=-1,r=0|Math.max(0,Math.ceil((n-t)/e)),o=Array(r);++i<r;)o[i]=t+i*e;return o},t.reduce=function(t,n,e){if("function"!=typeof n)throw TypeError("reducer is not a function");let i=t[Symbol.iterator](),r,o,s=-1;if(arguments.length<3){if({done:r,value:e}=i.next(),r)return;++s}for(;{done:r,value:o}=i.next(),!r;)e=n(e,o,++s,t);return e},t.reverse=function(t){if("function"!=typeof t[Symbol.iterator])throw TypeError("values is not iterable");return Array.from(t).reverse()},t.rollup=rollup,t.rollups=function(t,n,...e){return nest(t,Array.from,n,e)},t.scan=function(t,n){let e=leastIndex(t,n);return e<0?void 0:e},t.shuffle=h,t.shuffler=shuffler,t.some=function(t,n){if("function"!=typeof n)throw TypeError("test is not a function");let e=-1;for(let i of t)if(n(i,++e,t))return!0;return!1},t.sort=sort,t.subset=function(t,n){return superset(n,t)},t.sum=function(t,n){let e=0;if(void 0===n)for(let n of t)(n=+n)&&(e+=n);else{let i=-1;for(let r of t)(r=+n(r,++i,t))&&(e+=r)}return e},t.superset=superset,t.thresholdFreedmanDiaconis=function(t,n,e){return Math.ceil((e-n)/(2*(quantile(t,.75)-quantile(t,.25))*Math.pow(count(t),-1/3)))},t.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*deviation(t)*Math.pow(count(t),-1/3)))},t.thresholdSturges=sturges,t.tickIncrement=tickIncrement,t.tickStep=function(t,n,e){var i=Math.abs(n-t)/Math.max(0,e),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=s?r*=10:o>=a?r*=5:o>=l&&(r*=2),n<t?-r:r},t.ticks=ticks,t.transpose=transpose,t.union=function(...t){let n=new Set;for(let e of t)for(let t of e)n.add(t);return n},t.variance=variance,t.zip=function(){return transpose(arguments)},Object.defineProperty(t,"__esModule",{value:!0})})(n)},4398:function(t,n){(function(t){"use strict";var n=Math.PI,e=2*n,i=e-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(t,n,e,i,r,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,i,r,o){t=+t,e=+e,i=+i,r=+r,o=+o;var s=this._x1,a=this._y1,l=i-t,h=r-e,c=s-t,u=a-e,f=c*c+u*u;if(o<0)throw Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6){if(Math.abs(u*l-h*c)>1e-6&&o){var _=i-s,p=r-a,d=l*l+h*h,g=Math.sqrt(d),m=Math.sqrt(f),v=o*Math.tan((n-Math.acos((d+f-(_*_+p*p))/(2*g*m)))/2),k=v/m,b=v/g;Math.abs(k-1)>1e-6&&(this._+="L"+(t+k*c)+","+(e+k*u)),this._+="A"+o+","+o+",0,0,"+ +(u*_>c*p)+","+(this._x1=t+b*l)+","+(this._y1=e+b*h)}else this._+="L"+(this._x1=t)+","+(this._y1=e)}},arc:function(t,r,o,s,a,l){t=+t,r=+r,o=+o,l=!!l;var h=o*Math.cos(s),c=o*Math.sin(s),u=t+h,f=r+c,_=1^l,p=l?s-a:a-s;if(o<0)throw Error("negative radius: "+o);null===this._x1?this._+="M"+u+","+f:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+u+","+f),o&&(p<0&&(p=p%e+e),p>i?this._+="A"+o+","+o+",0,1,"+_+","+(t-h)+","+(r-c)+"A"+o+","+o+",0,1,"+_+","+(this._x1=u)+","+(this._y1=f):p>1e-6&&(this._+="A"+o+","+o+",0,"+ +(p>=n)+","+_+","+(this._x1=t+o*Math.cos(a))+","+(this._y1=r+o*Math.sin(a))))},rect:function(t,n,e,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}},t.path=path,Object.defineProperty(t,"__esModule",{value:!0})})(n)},1249:function(t,n,e){(function(t,n,e){"use strict";function targetDepth(t){return t.target.depth}function justify(t,n){return t.sourceLinks.length?t.depth:n-1}function constant(t){return function(){return t}}function ascendingSourceBreadth(t,n){return ascendingBreadth(t.source,n.source)||t.index-n.index}function ascendingTargetBreadth(t,n){return ascendingBreadth(t.target,n.target)||t.index-n.index}function ascendingBreadth(t,n){return t.y0-n.y0}function value(t){return t.value}function defaultId(t){return t.index}function defaultNodes(t){return t.nodes}function defaultLinks(t){return t.links}function find(t,n){let e=t.get(n);if(!e)throw Error("missing: "+n);return e}function computeLinkBreadths({nodes:t}){for(let n of t){let t=n.y0,e=t;for(let e of n.sourceLinks)e.y0=t+e.width/2,t+=e.width;for(let t of n.targetLinks)t.y1=e+t.width/2,e+=t.width}}function horizontalSource(t){return[t.source.x1,t.y0]}function horizontalTarget(t){return[t.target.x0,t.y1]}t.sankey=function(){let t,e,i=0,r=0,o=1,s=1,a=24,l=8,h,c=defaultId,u=justify,f=defaultNodes,_=defaultLinks,p=6;function sankey(){let d={nodes:f.apply(null,arguments),links:_.apply(null,arguments)};return function({nodes:t,links:n}){for(let[n,e]of t.entries())e.index=n,e.sourceLinks=[],e.targetLinks=[];let i=new Map(t.map((n,e)=>[c(n,e,t),n]));for(let[t,e]of n.entries()){e.index=t;let{source:n,target:r}=e;"object"!=typeof n&&(n=e.source=find(i,n)),"object"!=typeof r&&(r=e.target=find(i,r)),n.sourceLinks.push(e),r.targetLinks.push(e)}if(null!=e)for(let{sourceLinks:n,targetLinks:i}of t)n.sort(e),i.sort(e)}(d),function({nodes:t}){for(let e of t)e.value=void 0===e.fixedValue?Math.max(n.sum(e.sourceLinks,value),n.sum(e.targetLinks,value)):e.fixedValue}(d),function({nodes:t}){let n=t.length,e=new Set(t),i=new Set,r=0;for(;e.size;){for(let t of e)for(let{target:n}of(t.depth=r,t.sourceLinks))i.add(n);if(++r>n)throw Error("circular link");e=i,i=new Set}}(d),function({nodes:t}){let n=t.length,e=new Set(t),i=new Set,r=0;for(;e.size;){for(let t of e)for(let{source:n}of(t.height=r,t.targetLinks))i.add(n);if(++r>n)throw Error("circular link");e=i,i=new Set}}(d),function(c){let f=function({nodes:e}){let r=n.max(e,t=>t.depth)+1,s=(o-i-a)/(r-1),l=Array(r);for(let t of e){let n=Math.max(0,Math.min(r-1,Math.floor(u.call(null,t,r))));t.layer=n,t.x0=i+n*s,t.x1=t.x0+a,l[n]?l[n].push(t):l[n]=[t]}if(t)for(let n of l)n.sort(t);return l}(c);h=Math.min(l,(s-r)/(n.max(f,t=>t.length)-1)),function(t){let i=n.min(t,t=>(s-r-(t.length-1)*h)/n.sum(t,value));for(let n of t){let t=r;for(let e of n)for(let n of(e.y0=t,e.y1=t+e.value*i,t=e.y1+h,e.sourceLinks))n.width=n.value*i;t=(s-t+h)/(n.length+1);for(let e=0;e<n.length;++e){let i=n[e];i.y0+=t*(e+1),i.y1+=t*(e+1)}(function(t){if(void 0===e)for(let{sourceLinks:n,targetLinks:e}of t)n.sort(ascendingTargetBreadth),e.sort(ascendingSourceBreadth)})(n)}}(f);for(let n=0;n<p;++n){let e=Math.pow(.99,n),i=Math.max(1-e,(n+1)/p);(function(n,e,i){for(let r=n.length,o=r-2;o>=0;--o){let r=n[o];for(let t of r){let n=0,i=0;for(let{target:e,value:r}of t.sourceLinks){let o=r*(e.layer-t.layer);n+=function(t,n){let e=n.y0-(n.targetLinks.length-1)*h/2;for(let{source:i,width:r}of n.targetLinks){if(i===t)break;e+=r+h}for(let{target:i,width:r}of t.sourceLinks){if(i===n)break;e-=r}return e}(t,e)*o,i+=o}if(!(i>0))continue;let r=(n/i-t.y0)*e;t.y0+=r,t.y1+=r,reorderNodeLinks(t)}void 0===t&&r.sort(ascendingBreadth),resolveCollisions(r,i)}})(f,e,i),function(n,e,i){for(let r=1,o=n.length;r<o;++r){let o=n[r];for(let t of o){let n=0,i=0;for(let{source:e,value:r}of t.targetLinks){let o=r*(t.layer-e.layer);n+=function(t,n){let e=t.y0-(t.sourceLinks.length-1)*h/2;for(let{target:i,width:r}of t.sourceLinks){if(i===n)break;e+=r+h}for(let{source:i,width:r}of n.targetLinks){if(i===t)break;e-=r}return e}(e,t)*o,i+=o}if(!(i>0))continue;let r=(n/i-t.y0)*e;t.y0+=r,t.y1+=r,reorderNodeLinks(t)}void 0===t&&o.sort(ascendingBreadth),resolveCollisions(o,i)}}(f,e,i)}}(d),computeLinkBreadths(d),d}function resolveCollisions(t,n){let e=t.length>>1,i=t[e];resolveCollisionsBottomToTop(t,i.y0-h,e-1,n),resolveCollisionsTopToBottom(t,i.y1+h,e+1,n),resolveCollisionsBottomToTop(t,s,t.length-1,n),resolveCollisionsTopToBottom(t,r,0,n)}function resolveCollisionsTopToBottom(t,n,e,i){for(;e<t.length;++e){let r=t[e],o=(n-r.y0)*i;o>1e-6&&(r.y0+=o,r.y1+=o),n=r.y1+h}}function resolveCollisionsBottomToTop(t,n,e,i){for(;e>=0;--e){let r=t[e],o=(r.y1-n)*i;o>1e-6&&(r.y0-=o,r.y1-=o),n=r.y0-h}}function reorderNodeLinks({sourceLinks:t,targetLinks:n}){if(void 0===e){for(let{source:{sourceLinks:t}}of n)t.sort(ascendingTargetBreadth);for(let{target:{targetLinks:n}}of t)n.sort(ascendingSourceBreadth)}}return sankey.update=function(t){return computeLinkBreadths(t),t},sankey.nodeId=function(t){return arguments.length?(c="function"==typeof t?t:constant(t),sankey):c},sankey.nodeAlign=function(t){return arguments.length?(u="function"==typeof t?t:constant(t),sankey):u},sankey.nodeSort=function(n){return arguments.length?(t=n,sankey):t},sankey.nodeWidth=function(t){return arguments.length?(a=+t,sankey):a},sankey.nodePadding=function(t){return arguments.length?(l=h=+t,sankey):l},sankey.nodes=function(t){return arguments.length?(f="function"==typeof t?t:constant(t),sankey):f},sankey.links=function(t){return arguments.length?(_="function"==typeof t?t:constant(t),sankey):_},sankey.linkSort=function(t){return arguments.length?(e=t,sankey):e},sankey.size=function(t){return arguments.length?(i=r=0,o=+t[0],s=+t[1],sankey):[o-i,s-r]},sankey.extent=function(t){return arguments.length?(i=+t[0][0],o=+t[1][0],r=+t[0][1],s=+t[1][1],sankey):[[i,r],[o,s]]},sankey.iterations=function(t){return arguments.length?(p=+t,sankey):p},sankey},t.sankeyCenter=function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?n.min(t.sourceLinks,targetDepth)-1:0},t.sankeyJustify=justify,t.sankeyLeft=function(t){return t.depth},t.sankeyLinkHorizontal=function(){return e.linkHorizontal().source(horizontalSource).target(horizontalTarget)},t.sankeyRight=function(t,n){return n-1-t.height},Object.defineProperty(t,"__esModule",{value:!0})})(n,e(61),e(720))},720:function(t,n,e){(function(t,n){"use strict";function constant(t){return function(){return t}}var e=Math.abs,i=Math.atan2,r=Math.cos,o=Math.max,s=Math.min,a=Math.sin,l=Math.sqrt,h=Math.PI,c=h/2,u=2*h;function asin(t){return t>=1?c:t<=-1?-c:Math.asin(t)}function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function cornerTangents(t,n,e,i,r,s,a){var h=t-e,c=n-i,u=(a?s:-s)/l(h*h+c*c),f=u*c,_=-u*h,p=t+f,d=n+_,g=e+f,m=i+_,v=(p+g)/2,k=(d+m)/2,b=g-p,T=m-d,M=b*b+T*T,w=r-s,S=p*m-g*d,A=(T<0?-1:1)*l(o(0,w*w*M-S*S)),E=(S*T-b*A)/M,C=(-S*b-T*A)/M,N=(S*T+b*A)/M,R=(-S*b+T*A)/M,P=E-v,L=C-k,I=N-v,O=R-k;return P*P+L*L>I*I+O*O&&(E=N,C=R),{cx:E,cy:C,x01:-f,y01:-_,x11:E*(r/w-1),y11:C*(r/w-1)}}function Linear(t){this._context=t}function curveLinear(t){return new Linear(t)}function x(t){return t[0]}function y(t){return t[1]}function line(){var t=x,e=y,i=constant(!0),r=null,o=curveLinear,s=null;function line(a){var l,h,c,u=a.length,f=!1;for(null==r&&(s=o(c=n.path())),l=0;l<=u;++l)!(l<u&&i(h=a[l],l,a))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,l,a),+e(h,l,a));if(c)return s=null,c+""||null}return line.x=function(n){return arguments.length?(t="function"==typeof n?n:constant(+n),line):t},line.y=function(t){return arguments.length?(e="function"==typeof t?t:constant(+t),line):e},line.defined=function(t){return arguments.length?(i="function"==typeof t?t:constant(!!t),line):i},line.curve=function(t){return arguments.length?(o=t,null!=r&&(s=o(r)),line):o},line.context=function(t){return arguments.length?(null==t?r=s=null:s=o(r=t),line):r},line}function area(){var t=x,e=null,i=constant(0),r=y,o=constant(!0),s=null,a=curveLinear,l=null;function area(h){var c,u,f,_,p,d=h.length,g=!1,m=Array(d),v=Array(d);for(null==s&&(l=a(p=n.path())),c=0;c<=d;++c){if(!(c<d&&o(_=h[c],c,h))===g){if(g=!g)u=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=c-1;f>=u;--f)l.point(m[f],v[f]);l.lineEnd(),l.areaEnd()}}g&&(m[c]=+t(_,c,h),v[c]=+i(_,c,h),l.point(e?+e(_,c,h):m[c],r?+r(_,c,h):v[c]))}if(p)return l=null,p+""||null}function arealine(){return line().defined(o).curve(a).context(s)}return area.x=function(n){return arguments.length?(t="function"==typeof n?n:constant(+n),e=null,area):t},area.x0=function(n){return arguments.length?(t="function"==typeof n?n:constant(+n),area):t},area.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:constant(+t),area):e},area.y=function(t){return arguments.length?(i="function"==typeof t?t:constant(+t),r=null,area):i},area.y0=function(t){return arguments.length?(i="function"==typeof t?t:constant(+t),area):i},area.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:constant(+t),area):r},area.lineX0=area.lineY0=function(){return arealine().x(t).y(i)},area.lineY1=function(){return arealine().x(t).y(r)},area.lineX1=function(){return arealine().x(e).y(i)},area.defined=function(t){return arguments.length?(o="function"==typeof t?t:constant(!!t),area):o},area.curve=function(t){return arguments.length?(a=t,null!=s&&(l=a(s)),area):a},area.context=function(t){return arguments.length?(null==t?s=l=null:l=a(s=t),area):s},area}function descending(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function identity(t){return t}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var f=curveRadial(curveLinear);function Radial(t){this._curve=t}function curveRadial(t){function radial(n){return new Radial(t(n))}return radial._curve=t,radial}function lineRadial(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(curveRadial(t)):n()._curve},t}function lineRadial$1(){return lineRadial(line().curve(f))}function areaRadial(){var t=area().curve(f),n=t.curve,e=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return lineRadial(e())},delete t.lineX0,t.lineEndAngle=function(){return lineRadial(i())},delete t.lineX1,t.lineInnerRadius=function(){return lineRadial(r())},delete t.lineY0,t.lineOuterRadius=function(){return lineRadial(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(curveRadial(t)):n()._curve},t}function pointRadial(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),-(n*Math.cos(t)))}};var _=Array.prototype.slice;function linkSource(t){return t.source}function linkTarget(t){return t.target}function link(t){var e=linkSource,i=linkTarget,r=x,o=y,s=null;function link(){var a,l=_.call(arguments),h=e.apply(this,l),c=i.apply(this,l);if(s||(s=a=n.path()),t(s,+r.apply(this,(l[0]=h,l)),+o.apply(this,l),+r.apply(this,(l[0]=c,l)),+o.apply(this,l)),a)return s=null,a+""||null}return link.source=function(t){return arguments.length?(e=t,link):e},link.target=function(t){return arguments.length?(i=t,link):i},link.x=function(t){return arguments.length?(r="function"==typeof t?t:constant(+t),link):r},link.y=function(t){return arguments.length?(o="function"==typeof t?t:constant(+t),link):o},link.context=function(t){return arguments.length?(s=null==t?null:t,link):s},link}function curveHorizontal(t,n,e,i,r){t.moveTo(n,e),t.bezierCurveTo(n=(n+i)/2,e,n,r,i,r)}function curveVertical(t,n,e,i,r){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+r)/2,i,e,i,r)}function curveRadial$1(t,n,e,i,r){var o=pointRadial(n,e),s=pointRadial(n,e=(e+r)/2),a=pointRadial(i,e),l=pointRadial(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}var p={draw:function(t,n){var e=Math.sqrt(n/h);t.moveTo(e,0),t.arc(0,0,e,0,u)}},d={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},g=Math.sqrt(1/3),m=2*g,v={draw:function(t,n){var e=Math.sqrt(n/m),i=e*g;t.moveTo(0,-e),t.lineTo(i,0),t.lineTo(0,e),t.lineTo(-i,0),t.closePath()}},k=Math.sin(h/10)/Math.sin(7*h/10),b=Math.sin(u/10)*k,T=-Math.cos(u/10)*k,M={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),i=b*e,r=T*e;t.moveTo(0,-e),t.lineTo(i,r);for(var o=1;o<5;++o){var s=u*o/5,a=Math.cos(s),l=Math.sin(s);t.lineTo(l*e,-a*e),t.lineTo(a*i-l*r,l*i+a*r)}t.closePath()}},w={draw:function(t,n){var e=Math.sqrt(n),i=-e/2;t.rect(i,i,e,e)}},S=Math.sqrt(3),A={draw:function(t,n){var e=-Math.sqrt(n/(3*S));t.moveTo(0,2*e),t.lineTo(-S*e,-e),t.lineTo(S*e,-e),t.closePath()}},E=Math.sqrt(3)/2,C=1/Math.sqrt(12),N=(C/2+1)*3,R={draw:function(t,n){var e=Math.sqrt(n/N),i=e/2,r=e*C,o=e*C+e,s=-i;t.moveTo(i,r),t.lineTo(i,o),t.lineTo(s,o),t.lineTo(-.5*i-E*r,E*i+-.5*r),t.lineTo(-.5*i-E*o,E*i+-.5*o),t.lineTo(-.5*s-E*o,E*s+-.5*o),t.lineTo(-.5*i+E*r,-.5*r-E*i),t.lineTo(-.5*i+E*o,-.5*o-E*i),t.lineTo(-.5*s+E*o,-.5*o-E*s),t.closePath()}},P=[p,d,v,w,M,A,R];function noop(){}function point(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Basis(t){this._context=t}function BasisClosed(t){this._context=t}function BasisOpen(t){this._context=t}function Bundle(t,n){this._basis=new Basis(t),this._beta=n}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:point(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:point(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var i,r=t[0],o=n[0],s=t[e]-r,a=n[e]-o,l=-1;++l<=e;)i=l/e,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+i*s),this._beta*n[l]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var L=function custom(t){function bundle(n){return 1===t?new Basis(n):new Bundle(n,t)}return bundle.beta=function(t){return custom(+t)},bundle}(.85);function point$1(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Cardinal(t,n){this._context=t,this._k=(1-n)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$1(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:point$1(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var I=function custom(t){function cardinal(n){return new Cardinal(n,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function CardinalClosed(t,n){this._context=t,this._k=(1-n)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:point$1(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var O=function custom(t){function cardinal(n){return new CardinalClosed(n,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function CardinalOpen(t,n){this._context=t,this._k=(1-n)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var W=function custom(t){function cardinal(n){return new CardinalOpen(n,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function point$2(t,n,e){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>1e-12){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>1e-12){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*h+t._x1*t._l23_2a-n*t._l12_2a)/c,s=(s*h+t._y1*t._l23_2a-e*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function CatmullRom(t,n){this._context=t,this._alpha=n}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:point$2(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var $=function custom(t){function catmullRom(n){return t?new CatmullRom(n,t):new Cardinal(n,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function CatmullRomClosed(t,n){this._context=t,this._alpha=n}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:point$2(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var B=function custom(t){function catmullRom(n){return t?new CatmullRomClosed(n,t):new CardinalClosed(n,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function CatmullRomOpen(t,n){this._context=t,this._alpha=n}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var q=function custom(t){function catmullRom(n){return t?new CatmullRomOpen(n,t):new CardinalOpen(n,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function LinearClosed(t){this._context=t}function slope3(t,n,e){var i=t._x1-t._x0,r=n-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(e-t._y1)/(r||i<0&&-0);return((o<0?-1:1)+(s<0?-1:1))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs((o*r+s*i)/(i+r)))||0}function slope2(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function point$3(t,n,e){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*n,o-a,s-a*e,o,s)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function Natural(t){this._context=t}function controlPoints(t){var n,e,i=t.length-1,r=Array(i),o=Array(i),s=Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],n=1;n<i-1;++n)r[n]=1,o[n]=4,s[n]=4*t[n]+2*t[n+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e=r[n]/o[n-1],o[n]-=e,s[n]-=e*s[n-1];for(r[i-1]=s[i-1]/o[i-1],n=i-2;n>=0;--n)r[n]=(s[n]-r[n+1])/o[n];for(n=0,o[i-1]=(t[i]+r[i-1])/2;n<i-1;++n)o[n]=2*t[n+1]-r[n+1];return[r,o]}function Step(t,n){this._context=t,this._t=n}function none(t,n){if((r=t.length)>1)for(var e,i,r,o=1,s=t[n[0]],a=s.length;o<r;++o)for(i=s,s=t[n[o]],e=0;e<a;++e)s[e][1]+=s[e][0]=isNaN(i[e][1])?i[e][0]:i[e][1]}function none$1(t){for(var n=t.length,e=Array(n);--n>=0;)e[n]=n;return e}function stackValue(t,n){return t[n]}function appearance(t){var n=t.map(peak);return none$1(t).sort(function(t,e){return n[t]-n[e]})}function peak(t){for(var n,e=-1,i=0,r=t.length,o=-1/0;++e<r;)(n=+t[e][1])>o&&(o=n,i=e);return i}function ascending(t){var n=t.map(sum);return none$1(t).sort(function(t,e){return n[t]-n[e]})}function sum(t){for(var n,e=0,i=-1,r=t.length;++i<r;)(n=+t[i][1])&&(e+=n);return e}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$3(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,point$3(this,slope2(this,e=slope3(this,t,n)),e);break;default:point$3(this,this._t0,e=slope3(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,n){MonotoneX.prototype.point.call(this,n,t)},ReflectContext.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,i,r,o){this._context.bezierCurveTo(n,t,i,e,o,r)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e){if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var i=controlPoints(t),r=controlPoints(n),o=0,s=1;s<e;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],n[s])}(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},t.arc=function(){var t=arcInnerRadius,o=arcOuterRadius,f=constant(0),_=null,p=arcStartAngle,d=arcEndAngle,g=arcPadAngle,m=null;function arc(){var v,k,b=+t.apply(this,arguments),T=+o.apply(this,arguments),M=p.apply(this,arguments)-c,w=d.apply(this,arguments)-c,S=e(w-M),A=w>M;if(m||(m=v=n.path()),T<b&&(k=T,T=b,b=k),T>1e-12){if(S>u-1e-12)m.moveTo(T*r(M),T*a(M)),m.arc(0,0,T,M,w,!A),b>1e-12&&(m.moveTo(b*r(w),b*a(w)),m.arc(0,0,b,w,M,A));else{var E,C,N=M,R=w,P=M,L=w,I=S,O=S,W=g.apply(this,arguments)/2,$=W>1e-12&&(_?+_.apply(this,arguments):l(b*b+T*T)),B=s(e(T-b)/2,+f.apply(this,arguments)),q=B,z=B;if($>1e-12){var j=asin($/b*a(W)),D=asin($/T*a(W));(I-=2*j)>1e-12?(j*=A?1:-1,P+=j,L-=j):(I=0,P=L=(M+w)/2),(O-=2*D)>1e-12?(D*=A?1:-1,N+=D,R-=D):(O=0,N=R=(M+w)/2)}var Y=T*r(N),F=T*a(N),X=b*r(L),V=b*a(L);if(B>1e-12){var U,H=T*r(R),G=T*a(R),K=b*r(P),Q=b*a(P);if(S<h&&(U=function(t,n,e,i,r,o,s,a){var l=e-t,h=i-n,c=s-r,u=a-o,f=u*l-c*h;if(!(f*f<1e-12))return f=(c*(n-o)-u*(t-r))/f,[t+f*l,n+f*h]}(Y,F,K,Q,H,G,X,V))){var Z,J=Y-U[0],tt=F-U[1],tn=H-U[0],te=G-U[1],ti=1/a(((Z=(J*tn+tt*te)/(l(J*J+tt*tt)*l(tn*tn+te*te)))>1?0:Z<-1?h:Math.acos(Z))/2),tr=l(U[0]*U[0]+U[1]*U[1]);q=s(B,(b-tr)/(ti-1)),z=s(B,(T-tr)/(ti+1))}}O>1e-12?z>1e-12?(E=cornerTangents(K,Q,Y,F,T,z,A),C=cornerTangents(H,G,X,V,T,z,A),m.moveTo(E.cx+E.x01,E.cy+E.y01),z<B?m.arc(E.cx,E.cy,z,i(E.y01,E.x01),i(C.y01,C.x01),!A):(m.arc(E.cx,E.cy,z,i(E.y01,E.x01),i(E.y11,E.x11),!A),m.arc(0,0,T,i(E.cy+E.y11,E.cx+E.x11),i(C.cy+C.y11,C.cx+C.x11),!A),m.arc(C.cx,C.cy,z,i(C.y11,C.x11),i(C.y01,C.x01),!A))):(m.moveTo(Y,F),m.arc(0,0,T,N,R,!A)):m.moveTo(Y,F),b>1e-12&&I>1e-12?q>1e-12?(E=cornerTangents(X,V,H,G,b,-q,A),C=cornerTangents(Y,F,K,Q,b,-q,A),m.lineTo(E.cx+E.x01,E.cy+E.y01),q<B?m.arc(E.cx,E.cy,q,i(E.y01,E.x01),i(C.y01,C.x01),!A):(m.arc(E.cx,E.cy,q,i(E.y01,E.x01),i(E.y11,E.x11),!A),m.arc(0,0,b,i(E.cy+E.y11,E.cx+E.x11),i(C.cy+C.y11,C.cx+C.x11),A),m.arc(C.cx,C.cy,q,i(C.y11,C.x11),i(C.y01,C.x01),!A))):m.arc(0,0,b,L,P,A):m.lineTo(X,V)}}else m.moveTo(0,0);if(m.closePath(),v)return m=null,v+""||null}return arc.centroid=function(){var n=(+t.apply(this,arguments)+ +o.apply(this,arguments))/2,e=(+p.apply(this,arguments)+ +d.apply(this,arguments))/2-h/2;return[r(e)*n,a(e)*n]},arc.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:constant(+n),arc):t},arc.outerRadius=function(t){return arguments.length?(o="function"==typeof t?t:constant(+t),arc):o},arc.cornerRadius=function(t){return arguments.length?(f="function"==typeof t?t:constant(+t),arc):f},arc.padRadius=function(t){return arguments.length?(_=null==t?null:"function"==typeof t?t:constant(+t),arc):_},arc.startAngle=function(t){return arguments.length?(p="function"==typeof t?t:constant(+t),arc):p},arc.endAngle=function(t){return arguments.length?(d="function"==typeof t?t:constant(+t),arc):d},arc.padAngle=function(t){return arguments.length?(g="function"==typeof t?t:constant(+t),arc):g},arc.context=function(t){return arguments.length?(m=null==t?null:t,arc):m},arc},t.area=area,t.areaRadial=areaRadial,t.curveBasis=function(t){return new Basis(t)},t.curveBasisClosed=function(t){return new BasisClosed(t)},t.curveBasisOpen=function(t){return new BasisOpen(t)},t.curveBundle=L,t.curveCardinal=I,t.curveCardinalClosed=O,t.curveCardinalOpen=W,t.curveCatmullRom=$,t.curveCatmullRomClosed=B,t.curveCatmullRomOpen=q,t.curveLinear=curveLinear,t.curveLinearClosed=function(t){return new LinearClosed(t)},t.curveMonotoneX=function(t){return new MonotoneX(t)},t.curveMonotoneY=function(t){return new MonotoneY(t)},t.curveNatural=function(t){return new Natural(t)},t.curveStep=function(t){return new Step(t,.5)},t.curveStepAfter=function(t){return new Step(t,1)},t.curveStepBefore=function(t){return new Step(t,0)},t.line=line,t.lineRadial=lineRadial$1,t.linkHorizontal=function(){return link(curveHorizontal)},t.linkRadial=function(){var t=link(curveRadial$1);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.linkVertical=function(){return link(curveVertical)},t.pie=function(){var t=identity,n=descending,e=null,i=constant(0),r=constant(u),o=constant(0);function pie(s){var a,l,h,c,f,_=s.length,p=0,d=Array(_),g=Array(_),m=+i.apply(this,arguments),v=Math.min(u,Math.max(-u,r.apply(this,arguments)-m)),k=Math.min(Math.abs(v)/_,o.apply(this,arguments)),b=k*(v<0?-1:1);for(a=0;a<_;++a)(f=g[d[a]=a]=+t(s[a],a,s))>0&&(p+=f);for(null!=n?d.sort(function(t,e){return n(g[t],g[e])}):null!=e&&d.sort(function(t,n){return e(s[t],s[n])}),a=0,h=p?(v-_*b)/p:0;a<_;++a,m=c)c=m+((f=g[l=d[a]])>0?f*h:0)+b,g[l]={data:s[l],index:a,value:f,startAngle:m,endAngle:c,padAngle:k};return g}return pie.value=function(n){return arguments.length?(t="function"==typeof n?n:constant(+n),pie):t},pie.sortValues=function(t){return arguments.length?(n=t,e=null,pie):n},pie.sort=function(t){return arguments.length?(e=t,n=null,pie):e},pie.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:constant(+t),pie):i},pie.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:constant(+t),pie):r},pie.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:constant(+t),pie):o},pie},t.pointRadial=pointRadial,t.radialArea=areaRadial,t.radialLine=lineRadial$1,t.stack=function(){var t=constant([]),n=none$1,e=none,i=stackValue;function stack(r){var o,s,a=t.apply(this,arguments),l=r.length,h=a.length,c=Array(h);for(o=0;o<h;++o){for(var u,f=a[o],_=c[o]=Array(l),p=0;p<l;++p)_[p]=u=[0,+i(r[p],f,p,r)],u.data=r[p];_.key=f}for(o=0,s=n(c);o<h;++o)c[s[o]].index=o;return e(c,s),c}return stack.keys=function(n){return arguments.length?(t="function"==typeof n?n:constant(_.call(n)),stack):t},stack.value=function(t){return arguments.length?(i="function"==typeof t?t:constant(+t),stack):i},stack.order=function(t){return arguments.length?(n=null==t?none$1:"function"==typeof t?t:constant(_.call(t)),stack):n},stack.offset=function(t){return arguments.length?(e=null==t?none:t,stack):e},stack},t.stackOffsetDiverging=function(t,n){if((a=t.length)>0)for(var e,i,r,o,s,a,l=0,h=t[n[0]].length;l<h;++l)for(o=s=0,e=0;e<a;++e)(r=(i=t[n[e]][l])[1]-i[0])>0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):(i[0]=0,i[1]=r)},t.stackOffsetExpand=function(t,n){if((i=t.length)>0){for(var e,i,r,o=0,s=t[0].length;o<s;++o){for(r=e=0;e<i;++e)r+=t[e][o][1]||0;if(r)for(e=0;e<i;++e)t[e][o][1]/=r}none(t,n)}},t.stackOffsetNone=none,t.stackOffsetSilhouette=function(t,n){if((e=t.length)>0){for(var e,i=0,r=t[n[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<e;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}none(t,n)}},t.stackOffsetWiggle=function(t,n){if((r=t.length)>0&&(i=(e=t[n[0]]).length)>0){for(var e,i,r,o=0,s=1;s<i;++s){for(var a=0,l=0,h=0;a<r;++a){for(var c=t[n[a]],u=c[s][1]||0,f=(u-(c[s-1][1]||0))/2,_=0;_<a;++_){var p=t[n[_]];f+=(p[s][1]||0)-(p[s-1][1]||0)}l+=u,h+=f*u}e[s-1][1]+=e[s-1][0]=o,l&&(o-=h/l)}e[s-1][1]+=e[s-1][0]=o,none(t,n)}},t.stackOrderAppearance=appearance,t.stackOrderAscending=ascending,t.stackOrderDescending=function(t){return ascending(t).reverse()},t.stackOrderInsideOut=function(t){var n,e,i=t.length,r=t.map(sum),o=appearance(t),s=0,a=0,l=[],h=[];for(n=0;n<i;++n)e=o[n],s<a?(s+=r[e],l.push(e)):(a+=r[e],h.push(e));return h.reverse().concat(l)},t.stackOrderNone=none$1,t.stackOrderReverse=function(t){return none$1(t).reverse()},t.symbol=function(){var t=constant(p),e=constant(64),i=null;function symbol(){var r;if(i||(i=r=n.path()),t.apply(this,arguments).draw(i,+e.apply(this,arguments)),r)return i=null,r+""||null}return symbol.type=function(n){return arguments.length?(t="function"==typeof n?n:constant(n),symbol):t},symbol.size=function(t){return arguments.length?(e="function"==typeof t?t:constant(+t),symbol):e},symbol.context=function(t){return arguments.length?(i=null==t?null:t,symbol):i},symbol},t.symbolCircle=p,t.symbolCross=d,t.symbolDiamond=v,t.symbolSquare=w,t.symbolStar=M,t.symbolTriangle=A,t.symbolWye=R,t.symbols=P,Object.defineProperty(t,"__esModule",{value:!0})})(n,e(4398))},4295:(t,n,e)=>{"use strict";e.d(n,{diagram:()=>S});var i=e(8554),r=e(4665),o=e(1249),s=function(){var t=(0,i.eW)(function(t,n,e,i){for(e=e||{},i=t.length;i--;e[t[i]]=n);return e},"o"),n=[1,9],e=[1,10],r=[1,5,10,12],o={trace:(0,i.eW)(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:(0,i.eW)(function(t,n,e,i,r,o,s){var a=o.length-1;switch(r){case 7:let l=i.findOrCreateNode(o[a-4].trim().replaceAll('""','"')),h=i.findOrCreateNode(o[a-2].trim().replaceAll('""','"')),c=parseFloat(o[a].trim());i.addLink(l,h,c);break;case 8:case 9:case 11:this.$=o[a];break;case 10:this.$=o[a-1]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:n,20:e},{1:[2,6],7:11,10:[1,12]},t(e,[2,4],{9:13,5:[1,14]}),{12:[1,15]},t(r,[2,8]),t(r,[2,9]),{19:[1,16]},t(r,[2,11]),{1:[2,1]},{1:[2,5]},t(e,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:n,20:e},{15:18,16:7,17:8,18:n,20:e},{18:[1,19]},t(e,[2,3]),{12:[1,20]},t(r,[2,10]),{15:21,16:7,17:8,18:n,20:e},t([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:(0,i.eW)(function(t,n){if(n.recoverable)this.trace(t);else{var e=Error(t);throw e.hash=n,e}},"parseError"),parse:(0,i.eW)(function(t){var n=this,e=[0],r=[],o=[null],s=[],a=this.table,l="",h=0,c=0,u=0,f=s.slice.call(arguments,1),_=Object.create(this.lexer),p={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(p.yy[d]=this.yy[d]);_.setInput(t,p.yy),p.yy.lexer=_,p.yy.parser=this,void 0===_.yylloc&&(_.yylloc={});var g=_.yylloc;s.push(g);var m=_.options&&_.options.ranges;function lex(){var t;return"number"!=typeof(t=r.pop()||_.lex()||1)&&(t instanceof Array&&(t=(r=t).pop()),t=n.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,i.eW)(function(t){e.length=e.length-2*t,o.length=o.length-t,s.length=s.length-t},"popStack"),(0,i.eW)(lex,"lex");for(var v,k,b,T,M,w,S,A,E,C={};;){if(b=e[e.length-1],this.defaultActions[b]?T=this.defaultActions[b]:(null==v&&(v=lex()),T=a[b]&&a[b][v]),void 0===T||!T.length||!T[0]){var N="";for(w in E=[],a[b])this.terminals_[w]&&w>2&&E.push("'"+this.terminals_[w]+"'");N=_.showPosition?"Parse error on line "+(h+1)+":\n"+_.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(N,{text:_.match,token:this.terminals_[v]||v,line:_.yylineno,loc:g,expected:E})}if(T[0]instanceof Array&&T.length>1)throw Error("Parse Error: multiple actions possible at state: "+b+", token: "+v);switch(T[0]){case 1:e.push(v),o.push(_.yytext),s.push(_.yylloc),e.push(T[1]),v=null,k?(v=k,k=null):(c=_.yyleng,l=_.yytext,h=_.yylineno,g=_.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[T[1]][1],C.$=o[o.length-S],C._$={first_line:s[s.length-(S||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(S||1)].first_column,last_column:s[s.length-1].last_column},m&&(C._$.range=[s[s.length-(S||1)].range[0],s[s.length-1].range[1]]),void 0!==(M=this.performAction.apply(C,[l,c,h,p.yy,T[1],o,s].concat(f))))return M;S&&(e=e.slice(0,-1*S*2),o=o.slice(0,-1*S),s=s.slice(0,-1*S)),e.push(this.productions_[T[1]][0]),o.push(C.$),s.push(C._$),A=a[e[e.length-2]][e[e.length-1]],e.push(A);break;case 3:return!0}}return!0},"parse")},s={EOF:1,parseError:(0,i.eW)(function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw Error(t)},"parseError"),setInput:(0,i.eW)(function(t,n){return this.yy=n||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:(0,i.eW)(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:(0,i.eW)(function(t){var n=t.length,e=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),e.length-1&&(this.yylineno-=e.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===i.length?this.yylloc.first_column:0)+i[i.length-e.length].length-e[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:(0,i.eW)(function(){return this._more=!0,this},"more"),reject:(0,i.eW)(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:(0,i.eW)(function(t){this.unput(this.match.slice(t))},"less"),pastInput:(0,i.eW)(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:(0,i.eW)(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:(0,i.eW)(function(){var t=this.pastInput(),n=Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+n+"^"},"showPosition"),test_match:(0,i.eW)(function(t,n){var e,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,n,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e)return e;if(this._backtrack)for(var o in r)this[o]=r[o];return!1},"test_match"),next:(0,i.eW)(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var t,n,e,i,r=this._currentRules(),o=0;o<r.length;o++)if((e=this._input.match(this.rules[r[o]]))&&(!n||e[0].length>n[0].length)){if(n=e,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(e,r[o])))return t;if(!this._backtrack)return!1;n=!1;continue}if(!this.options.flex)break}return n?!1!==(t=this.test_match(n,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:(0,i.eW)(function(){return this.next()||this.lex()},"lex"),begin:(0,i.eW)(function(t){this.conditionStack.push(t)},"begin"),popState:(0,i.eW)(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:(0,i.eW)(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:(0,i.eW)(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:(0,i.eW)(function(t){this.begin(t)},"pushState"),stateStackSize:(0,i.eW)(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,i.eW)(function(t,n,e,i){switch(e){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};function Parser(){this.yy={}}return o.lexer=s,(0,i.eW)(Parser,"Parser"),Parser.prototype=o,o.Parser=Parser,new Parser}();s.parser=s;var a=[],l=[],h=new Map,c=(0,i.eW)(()=>{a=[],l=[],h=new Map,(0,i.ZH)()},"clear"),u=class{constructor(t,n,e=0){this.source=t,this.target=n,this.value=e}static{(0,i.eW)(this,"SankeyLink")}},f=(0,i.eW)((t,n,e)=>{a.push(new u(t,n,e))},"addLink"),_=class{constructor(t){this.ID=t}static{(0,i.eW)(this,"SankeyNode")}},p=(0,i.eW)(t=>{t=i.SY.sanitizeText(t,(0,i.nV)());let n=h.get(t);return void 0===n&&(n=new _(t),h.set(t,n),l.push(n)),n},"findOrCreateNode"),d=(0,i.eW)(()=>l,"getNodes"),g=(0,i.eW)(()=>a,"getLinks"),m=(0,i.eW)(()=>({nodes:l.map(t=>({id:t.ID})),links:a.map(t=>({source:t.source.ID,target:t.target.ID,value:t.value}))}),"getGraph"),v={nodesMap:h,getConfig:(0,i.eW)(()=>(0,i.nV)().sankey,"getConfig"),getNodes:d,getLinks:g,getGraph:m,addLink:f,findOrCreateNode:p,getAccTitle:i.eu,setAccTitle:i.GN,getAccDescription:i.Mx,setAccDescription:i.U$,getDiagramTitle:i.Kr,setDiagramTitle:i.g2,clear:c},k=class _Uid{static{(0,i.eW)(this,"Uid")}static{this.count=0}static next(t){return new _Uid(t+ ++_Uid.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}},b={left:o.sankeyLeft,right:o.sankeyRight,center:o.sankeyCenter,justify:o.sankeyJustify},T=(0,i.eW)(function(t,n,e,s){let a,l;let{securityLevel:h,sankey:c}=(0,i.nV)(),u=i.Fy.sankey;"sandbox"===h&&(a=(0,r.Ys)("#i"+n));let f="sandbox"===h?(0,r.Ys)(a.nodes()[0].contentDocument.body):(0,r.Ys)("body"),_="sandbox"===h?f.select(`[id="${n}"]`):(0,r.Ys)(`[id="${n}"]`),p=c?.width??u.width,d=c?.height??u.width,g=c?.useMaxWidth??u.useMaxWidth,m=c?.nodeAlignment??u.nodeAlignment,v=c?.prefix??u.prefix,T=c?.suffix??u.suffix,M=c?.showValues??u.showValues,w=s.db.getGraph(),S=b[m],A=(0,o.sankey)().nodeId(t=>t.id).nodeWidth(10).nodePadding(10+(M?15:0)).nodeAlign(S).extent([[0,0],[p,d]]);A(w);let E=(0,r.PKp)(r.K2I);_.append("g").attr("class","nodes").selectAll(".node").data(w.nodes).join("g").attr("class","node").attr("id",t=>(t.uid=k.next("node-")).id).attr("transform",function(t){return"translate("+t.x0+","+t.y0+")"}).attr("x",t=>t.x0).attr("y",t=>t.y0).append("rect").attr("height",t=>t.y1-t.y0).attr("width",t=>t.x1-t.x0).attr("fill",t=>E(t.id));let C=(0,i.eW)(({id:t,value:n})=>M?`${t}
${v}${Math.round(100*n)/100}${T}`:t,"getText");_.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(w.nodes).join("text").attr("x",t=>t.x0<p/2?t.x1+6:t.x0-6).attr("y",t=>(t.y1+t.y0)/2).attr("dy",`${M?"0":"0.35"}em`).attr("text-anchor",t=>t.x0<p/2?"start":"end").text(C);let N=_.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(w.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),R=c?.linkColor??"gradient";if("gradient"===R){let t=N.append("linearGradient").attr("id",t=>(t.uid=k.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",t=>t.source.x1).attr("x2",t=>t.target.x0);t.append("stop").attr("offset","0%").attr("stop-color",t=>E(t.source.id)),t.append("stop").attr("offset","100%").attr("stop-color",t=>E(t.target.id))}switch(R){case"gradient":l=(0,i.eW)(t=>t.uid,"coloring");break;case"source":l=(0,i.eW)(t=>E(t.source.id),"coloring");break;case"target":l=(0,i.eW)(t=>E(t.target.id),"coloring");break;default:l=R}N.append("path").attr("d",(0,o.sankeyLinkHorizontal)()).attr("stroke",l).attr("stroke-width",t=>Math.max(1,t.width)),(0,i.j7)(void 0,_,0,g)},"draw"),M=(0,i.eW)(t=>{let n=t.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,"\n").trim();return n},"prepareTextForParsing"),w=s.parse.bind(s);s.parse=t=>w(M(t));var S={parser:s,db:v,renderer:{draw:T}}}};